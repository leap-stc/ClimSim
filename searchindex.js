Search.setIndex({"docnames": ["ARCHITECTURE", "CONTRIBUTING", "README", "dataset", "demo_notebooks/quickstart_example", "demo_notebooks/water_conservation", "evaluating", "evaluation/ClimSim_metrics", "evaluation/bias_calculation", "evaluation/main_figure_generation", "evaluation/plot_R2_analysis", "figures/climsim_figures", "installation", "models", "quickstart"], "filenames": ["ARCHITECTURE.md", "CONTRIBUTING.md", "README.md", "dataset.md", "demo_notebooks/quickstart_example.ipynb", "demo_notebooks/water_conservation.ipynb", "evaluating.md", "evaluation/ClimSim_metrics.ipynb", "evaluation/bias_calculation.ipynb", "evaluation/main_figure_generation.ipynb", "evaluation/plot_R2_analysis.ipynb", "figures/climsim_figures.ipynb", "installation.md", "models.md", "quickstart.md"], "titles": ["Project structure", "Contributor Guidelines", "ClimSim: An open large-scale dataset for training high-resolution physics emulators in hybrid multi-scale climate simulators", "Dataset Information", "Import data_utils", "Water Conservation Example", "Evaluation", "ClimSim: Metrics calculation and visualization", "Import data_utils", "Evaluation metrics", "Prediction skill of temperature and specific humidity tendencies", "&lt;no title&gt;", "Code Installation", "Baseline Models", "Quickstart"], "terms": {"github": [0, 1, 2, 6, 13, 14], "action": [0, 1], "workflow": 0, "baseline_model": [0, 13], "pretrain": 0, "baselin": [0, 2, 6], "model": [0, 3, 5, 6, 8, 9, 10, 11, 14], "well": [0, 13, 14], "python": [0, 7, 11, 12, 14], "script": [0, 7, 14], "depend": [0, 12, 14], "re": 0, "train": [0, 3, 5, 13, 14], "cnn": [0, 2, 6, 7, 8, 9, 10, 11, 13, 14], "convolut": [0, 2, 13], "neural": [0, 2, 13], "network": [0, 2, 13], "ed": [0, 6, 7, 8, 9, 10, 11, 13], "encod": [0, 13], "decod": [0, 13], "hsr": [0, 6, 7, 8, 9, 10, 11, 13], "heteroskedast": [0, 13], "regress": [0, 2, 13], "mlp": [0, 2, 6, 8, 9, 10, 11, 13], "multilay": 0, "perceptron": [0, 2, 13], "rpn": [0, 6, 7, 8, 9, 10, 11, 13], "random": [0, 13], "prior": [0, 13], "cvae": [0, 6, 7, 8, 9, 10, 11, 13], "condit": [0, 5, 13], "variat": [0, 13], "autoencod": [0, 13], "climsim_util": [0, 4, 6, 8, 9, 10, 12, 14], "instal": [0, 2, 14], "packag": [0, 7, 11], "data": [0, 2, 3, 7, 11, 14], "preprocess": [0, 3, 4, 8, 9, 12, 14], "evalu": [0, 1, 7, 12, 14], "dataset_statist": 0, "precomput": 0, "statist": 0, "input": [0, 2, 3, 4, 5, 8, 9, 10, 13], "output": [0, 2, 3, 4, 5, 10], "variabl": [0, 3, 4, 6, 8, 9, 13, 14], "dataset": [0, 13, 14], "demo_notebook": [0, 1], "jupyt": [0, 1, 13], "notebook": [0, 1, 3, 4, 5, 6, 13, 14], "exampl": [0, 2], "how": [0, 13, 14], "us": [0, 1, 2, 3, 4, 6, 7, 9, 10, 11, 13, 14], "ml": [0, 2, 5, 7], "grid_info": [0, 4, 7, 8, 9, 10], "grid": [0, 3, 7, 11], "inform": [0, 2, 7], "low": [0, 3, 13, 14], "resolut": [0, 3, 11, 13, 14], "normal": [0, 4, 7, 8, 9, 10], "factor": [0, 5], "test": [0, 11, 14], "ani": 0, "kind": 0, "websit": 0, "document": [0, 11], "gitignor": 0, "list": [0, 3, 7, 8, 10], "file": [0, 1, 2, 3, 4, 5, 8, 10, 11], "ignor": [0, 11], "git": 0, "licens": [0, 2], "setup": 0, "py": [0, 4, 6, 7, 9, 11, 14], "readm": [0, 1], "md": [0, 1], "addit": [1, 14], "issu": 1, "from": [1, 3, 4, 5, 7, 8, 9, 10, 11, 12, 14], "commun": 1, "research": [1, 2], "wish": [1, 14], "off": 1, "climsim": [1, 3, 4, 8, 9, 10, 14], "make": [1, 5, 10], "our": [1, 13], "tool": [1, 12, 14], "ar": [1, 2, 3, 5, 6, 7, 10, 13], "welcom": 1, "can": [1, 2, 3, 5, 12, 14], "rais": 1, "page": 1, "prefer": 1, "directli": 1, "email": 1, "maintain": 1, "built": 1, "book": 1, "To": [1, 4, 9, 10], "mimic": 1, "what": 1, "doe": [1, 14], "first": [1, 7, 14], "copi": [1, 7, 10], "demo": 1, "directori": [1, 2], "cd": 1, "cp": [1, 7], "r": 1, "architectur": 1, "figur": [1, 4, 5, 10], "creat": [1, 7, 8, 10, 11, 13], "conda": [1, 7], "environ": [1, 12, 13, 14], "env": [1, 7, 11], "f": [1, 4, 7, 9, 11], "yml": 1, "activ": 1, "doc": [1, 7], "run": [1, 3, 7, 12, 14], "follow": [1, 4, 5, 9, 10, 12, 14], "command": 1, "The": [1, 2, 3, 4, 5, 6, 7, 10, 13, 14], "html": [1, 7], "content": 1, "folder": [1, 4, 6, 13], "call": [1, 11], "_build": 1, "view": 1, "open": 1, "index": [1, 4, 7, 8, 9], "browser": 1, "largest": 2, "ever": 2, "design": 2, "It": [2, 14], "compris": 2, "develop": 2, "consortium": 2, "scientist": 2, "consist": 2, "5": [2, 3, 4, 6, 8, 9, 11], "7": [2, 3, 4, 6, 7, 9, 11], "billion": [2, 3], "pair": 2, "multivari": 2, "vector": [2, 14], "isol": 2, "influenc": 2, "local": [2, 12, 14], "nest": 2, "fidel": 2, "host": 2, "s": [2, 5, 7, 8, 10, 13, 14], "macro": 2, "state": 2, "global": [2, 5], "coverag": 2, "span": 2, "multipl": 2, "year": [2, 3], "sampl": [2, 3, 7], "frequenc": 2, "result": [2, 7], "compat": 2, "downstream": 2, "coupl": 2, "oper": [2, 4, 9, 10], "we": [2, 5, 7, 14], "implement": 2, "rang": [2, 4, 7, 9], "determinist": 2, "stochast": [2, 14], "highlight": 2, "challeng": 2, "score": [2, 6, 7, 8, 9, 10, 14], "quickstart": [2, 3], "code": [2, 5, 13, 14], "layer": [2, 13], "water": [2, 7], "conserv": 2, "repositori": 2, "paper": [2, 3, 14], "youtub": 2, "video": 2, "contributor": 2, "guid": 2, "apach": 2, "2": [2, 3, 4, 6, 8, 9, 10, 11, 14], "0": [2, 4, 5, 6, 7, 8, 9, 10, 11], "found": [2, 3, 6, 13, 14], "associ": 2, "repo": [2, 12, 14], "creativ": 2, "common": [2, 4, 6, 7, 8, 9], "attribut": 2, "4": [2, 6, 8, 14], "huggingfac": 2, "top": 2, "level": [2, 3, 4, 5, 8, 9, 11], "multi": [3, 13], "scale": [3, 4, 8, 9], "climat": 3, "e3sm": [3, 5, 7, 8, 10], "mmf": [3, 5, 8, 10], "simul": 3, "were": [3, 4, 6, 13], "save": 3, "20": [3, 6], "minut": 3, "interv": 3, "10": [3, 6, 7, 11], "two": 3, "netcdf": [3, 7], "target": [3, 6, 8, 9, 10, 13], "produc": 3, "each": [3, 4, 5, 6, 7, 8, 9, 13], "timestep": 3, "total": 3, "525": 3, "600": 3, "configur": 3, "3": [3, 4, 6, 9, 11, 14], "download": [3, 11, 14], "hug": [3, 5], "face": 3, "high": 3, "real": [3, 13, 14], "geographi": [3, 13, 14], "1": [3, 4, 5, 8, 10, 11, 14], "x": [3, 4, 7, 8, 9, 10, 11, 13], "horizont": [3, 4, 6, 7, 8, 9], "21": [3, 6, 7, 9, 10, 11], "column": [3, 4, 5, 7, 8, 9], "41": 3, "tb": 3, "102": 3, "mb": 3, "per": [3, 7], "61": [3, 6, 7], "11": [3, 6, 7], "384": [3, 7], "100": [3, 7, 8, 10], "million": 3, "744": 3, "gb": 3, "9": [3, 4, 5, 6, 7, 9, 11], "aquaplanet": 3, "label": 3, "mli": [3, 5, 8, 10], "yyyi": 3, "mm": 3, "dd": 3, "sssss": 3, "nc": [3, 4, 5, 7, 8, 9, 10, 11], "where": [3, 4, 7, 11], "sss": 3, "correspond": [3, 4, 13, 14], "month": 3, "dai": 3, "second": [3, 5], "being": 3, "space": [3, 4], "200": 3, "apart": 3, "same": [3, 14], "wai": 3, "except": 3, "replac": [3, 7, 11], "mlo": [3, 5, 7], "scalar": [3, 7, 14], "vari": 3, "time": [3, 4, 5, 6, 7, 9, 14], "ncol": [3, 4, 7, 9, 11, 13], "while": 3, "vertic": [3, 4, 6, 8, 9, 14], "resolv": [3, 7, 14], "addition": 3, "lev": [3, 5, 7, 11, 13], "For": [3, 12], "lower": 3, "indic": [3, 7], "higher": 3, "atmospher": [3, 5], "thi": [3, 5, 6, 9, 10, 12, 14], "becaus": 3, "pressur": [3, 5, 7, 13], "decreas": [3, 10], "monoton": [3, 10], "altitud": 3, "full": [3, 14], "supplementari": 3, "tabl": [3, 7], "There": [3, 13], "also": [3, 7], "contain": [3, 7, 14], "subsampl": [3, 8, 10, 14], "prenorm": [3, 14], "wa": [3, 14], "valid": [3, 7, 14], "metric": [3, 6, 11, 14], "reproduc": [3, 14], "create_npy_data_split": [3, 4, 14], "ipynb": [3, 4, 14], "2023": [4, 7, 9, 10], "08": [4, 9, 10], "25": [4, 6, 7, 10], "14": [4, 5, 6, 9, 11], "27": [4, 6], "35": [4, 6], "196933": 4, "i": [4, 6, 7, 9, 10], "tensorflow": [4, 9, 10, 12, 14], "core": [4, 9, 10], "platform": [4, 9, 10], "cpu_feature_guard": [4, 9, 10], "cc": [4, 9, 10], "182": [4, 6, 9, 10], "binari": [4, 9, 10], "optim": [4, 9, 10], "avail": [4, 9, 10], "cpu": [4, 9, 10], "instruct": [4, 9, 10], "perform": [4, 6, 9, 10], "critic": [4, 9, 10], "enabl": [4, 9, 10], "avx2": [4, 9, 10], "fma": [4, 9, 10], "other": [4, 9, 10], "rebuild": [4, 9, 10], "appropri": [4, 9, 10], "compil": [4, 9, 10], "flag": [4, 9, 10], "37": [4, 6, 10], "396448": 4, "w": [4, 6, 7, 8, 9, 10, 13], "tf2tensorrt": [4, 9, 10], "util": [4, 7, 9, 10], "py_util": [4, 9, 10], "38": [4, 6, 7, 9, 10], "tf": [4, 9, 10], "trt": [4, 9, 10], "warn": [4, 7, 9, 10, 11], "could": [4, 9, 10], "find": [4, 9, 10], "tensorrt": [4, 9, 10], "grid_path": [4, 8, 9, 10], "ocean": [4, 8, 9, 10], "project": [4, 7, 8, 9, 10, 11], "atm200007p": [4, 8, 9, 10], "jlin96": [4, 8, 9, 10], "climsim_low": [4, 8, 9, 10, 11], "res_grid": [4, 8, 9, 10, 11], "info": [4, 7, 8, 9, 10, 11], "norm_path": [4, 8, 9, 10], "xr": [4, 5, 7, 8, 9, 10, 11], "open_dataset": [4, 5, 7, 8, 9, 10, 11], "input_mean": [4, 8, 9, 10], "input_max": [4, 8, 9, 10], "input_min": [4, 8, 9, 10], "output_scal": [4, 8, 9, 10], "v1": [4, 8, 9], "subset": [4, 8, 9, 13], "set_to_v1_var": [4, 8, 9], "npy": [4, 7, 8, 9, 10, 14], "shown": [4, 6, 13], "below": [4, 6, 13], "chang": 4, "path": [4, 7, 8, 9, 10], "own": 4, "data_path": [4, 8, 10], "neurips_proj": [4, 8, 9, 10], "e3sm_train_npi": [4, 8, 9, 10], "train_input_path": 4, "train_input": [4, 14], "train_target_path": 4, "train_target": [4, 14], "val_input_path": 4, "val_input": [4, 14], "val_target_path": 4, "val_target": [4, 14], "input_train": 4, "load_npy_fil": [4, 8, 9, 10], "target_train": 4, "input_v": 4, "target_v": 4, "hat": 4, "y": [4, 7, 10, 11], "e": [4, 5, 6, 7], "y_": 4, "const_model": 4, "mean": [4, 6, 7, 8, 9, 10, 11], "axi": [4, 7, 9, 10], "beta": 4, "x_": 4, "tx_": 4, "ty_": 4, "would": 4, "like": [4, 7, 14], "infer": 4, "respect": 4, "both": [4, 7], "ones": 4, "concaten": 4, "featur": [4, 7], "bias_vector": 4, "np": [4, 5, 8, 9, 10, 11], "shape": [4, 7], "mlr_weight": 4, "linalg": 4, "inv": 4, "transpos": [4, 5, 7, 8, 9], "set_pressure_grid": [4, 8, 9, 10], "data_split": [4, 8, 9, 10], "val": 4, "const_pred_v": 4, "repeat": 4, "newaxi": 4, "print": [4, 11], "x_val": 4, "bias_vector_v": 4, "mlr_pred_val": 4, "object": 4, "model_nam": [4, 7, 8, 9, 10], "const": 4, "mlr": 4, "add": [4, 7], "name": [4, 11], "pred": [4, 7, 8, 9, 10], "custom": 4, "preds_val": 4, "dict": [4, 5, 7, 8, 9, 10], "zip": [4, 8, 9, 10, 11], "1441920": 4, "128": [4, 7], "undo": [4, 8, 9], "dp": [4, 5, 7, 8, 9], "g": [4, 5, 7, 8, 9], "area": [4, 8, 9, 11], "cell": [4, 7, 8, 9, 10, 11], "convert": [4, 5, 6, 7, 8, 9], "energi": [4, 6, 8, 9], "reweight_target": [4, 8, 9], "reweight_pr": [4, 8, 9], "metrics_nam": [4, 8, 9], "mae": [4, 6, 9, 11], "rmse": [4, 6, 7, 9, 11], "r2": [4, 9, 11], "create_metrics_df": [4, 8, 9], "705": 4, "runtimewarn": [4, 7, 9, 10], "divid": [4, 9, 10], "zero": [4, 7, 9, 10], "encount": [4, 7, 9, 10], "r_squar": [4, 9], "sq_diff": [4, 9], "sum": [4, 5, 7, 9, 10], "tss_time": [4, 9], "over": [4, 7, 9], "invalid": [4, 7, 9], "valu": [4, 5, 7, 9, 11], "config": [4, 8, 9, 10, 11], "inlinebackend": [4, 8, 9, 10, 11], "figure_format": [4, 8, 9, 10, 11], "retina": [4, 8, 9, 10, 11], "letter": [4, 8, 9], "string": [4, 7, 8, 9], "ascii_lowercas": [4, 8, 9], "dictionari": [4, 7], "dict_var": [4, 9], "metrics_var_v": 4, "plot_df_byvar": [4, 9], "pd": [4, 7, 8, 9], "datafram": [4, 7, 8, 9], "renam": [4, 5, 7, 8, 9], "var_short_nam": [4, 7, 8, 9], "fig": [4, 7, 9, 11], "ax": [4, 7, 9, 10, 11], "plt": [4, 5, 7, 8, 9, 11], "subplot": [4, 7, 9, 11], "nrow": [4, 7, 9, 11], "len": [4, 7, 9, 11], "sharex": [4, 7, 9], "true": [4, 7, 9], "bar": [4, 7, 8, 9], "legend": [4, 7, 8, 9], "fals": [4, 7, 8, 9, 11], "set_ylabel": [4, 7, 9], "m": [4, 5, 7, 8, 9, 11, 13], "els": [4, 7, 9], "set_ylim": [4, 7, 9], "set_titl": [4, 7, 9, 11], "set_xlabel": [4, 7, 9], "set_xticklabel": [4, 7, 9], "rotat": [4, 7, 9], "ha": [4, 7, 9], "center": [4, 7, 9, 10], "columnspac": [4, 7, 9], "labelspac": [4, 7, 9], "handleheight": [4, 7, 9], "07": [4, 7, 9], "handlelength": [4, 7, 9], "handletextpad": [4, 7, 9], "borderpad": [4, 7, 9], "loc": [4, 7, 9], "upper": [4, 7, 9], "right": [4, 5, 7, 9], "set_size_inch": [4, 7, 9], "8": [4, 6, 9, 11], "tight_layout": [4, 7, 9, 11], "If": [4, 12, 14], "differ": [4, 6, 7, 13], "best": [4, 7, 8, 9, 10], "scoring_input_path": 4, "scoring_input": [4, 8, 9, 10, 14], "scoring_target_path": 4, "scoring_target": [4, 8, 9, 10, 14], "input_scor": [4, 8, 9, 10], "target_scor": [4, 8, 9, 10], "const_pred_scor": 4, "x_score": 4, "bias_vector_scor": 4, "mlr_pred_scor": 4, "preds_scor": [4, 8, 9, 10], "1681920": 4, "metrics_var_scor": [4, 8, 9], "import": [5, 7, 11], "os": 5, "xarrai": [5, 11, 12, 14], "numpi": [5, 7, 11], "matplotlib": [5, 7, 11], "pyplot": [5, 7, 11], "purpos": 5, "demonstr": 5, "summar": 5, "sum_i": 5, "left": [5, 7], "delta": 5, "q_v": 5, "q_l": 5, "q_i": 5, "frac": 5, "p_i": 5, "t": [5, 7, 13], "p": [5, 7], "state_q0001": 5, "state_q0002": 5, "state_q0003": 5, "pbuf_lhflx": 5, "l_v": 5, "cam_out_precc": [5, 7, 11], "datadir": 5, "pscratch": 5, "sd": 5, "sungduk": [5, 7], "mmf_ne30": 5, "0001": 5, "02": [5, 7, 11], "72000": 5, "begin": 5, "integr": [5, 7], "need": 5, "construct": [5, 7], "thick": [5, 7], "interfac": 5, "a_k": 5, "p_o": 5, "b_k": 5, "p_": 5, "come": 5, "initi": 5, "load": [5, 11, 13], "here": [5, 14], "extract": [5, 8, 10], "coeffici": [5, 6, 7], "note": 5, "assum": 5, "fix": [5, 11], "dure": 5, "physic": [5, 7], "parameter": 5, "so": 5, "onli": [5, 11], "comput": [5, 6], "onc": 5, "initial_condit": 5, "cf": 5, "cdir": 5, "inputdata": 5, "atm": 5, "cam": 5, "inic": 5, "homm": 5, "eam_i_mam3_linoz_ne30np4_l60_c20210917": 5, "ifac": 5, "hyai": [5, 7], "hybi": [5, 7], "p0": [5, 7], "def": [5, 7, 11], "get_pressure_thick": 5, "ps": [5, 7, 13], "coord": 5, "getpint": 5, "pint": 5, "attr": 5, "updat": [5, 7], "unit": [5, 6, 8, 9, 13], "pa": [5, 13], "long_nam": 5, "return": [5, 7, 11], "dp_temp": 5, "diff": 5, "ilev": [5, 7], "n": [5, 7], "dim": [5, 7, 11], "dataarrai": [5, 7], "state_p": [5, 7], "state_pmid": 5, "igrav": 5, "80616": [5, 7], "hard": 5, "constant": 5, "var": [5, 7, 8, 11], "ci_": 5, "total_wat": 5, "ci_state_q0001": 5, "ci_state_q0002": 5, "ci_state_q0003": 5, "next": 5, "surfac": [5, 7, 13], "flux": [5, 7, 13], "evapotranspir": 5, "out": [5, 14], "precipit": 5, "surface_water_flux": 5, "1e3": 5, "kg": [5, 7, 13], "m2": [5, 7], "1000": 5, "posit": 5, "expected_wat": 5, "1200": 5, "step": [5, 7, 14], "water_error": 5, "water_error_rel": 5, "check": [5, 14], "rel": 5, "error": [5, 6], "variou": 5, "map": [5, 11], "plot": [5, 6, 11], "look": 5, "geograph": 5, "pattern": 5, "within": [5, 7], "few": 5, "percent": 5, "line": [5, 11], "line2d": 5, "0x7f6a3d1b6150": 5, "figsiz": [5, 7, 11], "28": [5, 6, 7], "12": [5, 6, 7], "scatter": 5, "lon": [5, 7, 11], "lat": [5, 7, 11], "c": [5, 7, 11], "vmin": [5, 7, 10, 11], "vmax": [5, 7, 10, 11], "cmap": [5, 7, 10, 11], "rdbu_r": 5, "xlabel": [5, 8], "longitud": 5, "ylabel": [5, 8], "latitud": [5, 7], "titl": [5, 8], "mass": [5, 7], "colorbar": [5, 7, 11], "0x7f6a39183c90": 5, "four": 6, "calcul": [6, 10], "absolut": 6, "determin": 6, "r\u00b2": 6, "root": [6, 12, 14], "squar": 6, "continu": [6, 7], "rank": 6, "probabl": [6, 14], "crp": [6, 7], "comparison": 6, "all": [6, 7, 12, 14], "m\u00b2": [6, 13], "done": 6, "function": 6, "data_util": [6, 14], "separ": [6, 7, 10, 14], "longitudin": 6, "averag": [6, 8], "3d": [6, 7], "dt": [6, 7, 11, 13], "585": 6, "684": 6, "845": 6, "683": 6, "685": 6, "732": 6, "dq": [6, 7, 11, 13], "401": 6, "673": 6, "784": 6, "495": 6, "592": 6, "680": 6, "netsw": [6, 7, 11, 13], "18": 6, "85": 6, "968": 6, "19": 6, "82": 6, "13": [6, 7], "36": [6, 9], "88": 6, "73": 6, "flwd": [6, 7, 11, 13], "598": 6, "6": [6, 7, 8, 10], "894": 6, "267": 6, "224": 6, "018": 6, "588": 6, "precsc": [6, 7, 11, 13], "364": 6, "046": 6, "511": 6, "328": 6, "322": 6, "precc": [6, 7, 11, 13], "83": 6, "250": 6, "42": 6, "34": [6, 7], "33": 6, "46": 6, "81": 6, "sol": [6, 7, 11, 13], "554": 6, "31": 6, "97": [6, 7], "94": 6, "soll": [6, 7, 11, 13], "15": [6, 7], "924": 6, "60": [6, 7], "30": [6, 9], "96": 6, "solsd": [6, 7, 11, 13], "817": 6, "075": 6, "331": 6, "533": 6, "846": 6, "159": 6, "solld": [6, 7, 11, 13], "679": 6, "136": 6, "215": 6, "806": 6, "702": 6, "066": 6, "627": 6, "542": 6, "568": 6, "589": 6, "617": 6, "590": 6, "944": 6, "980": 6, "959": 6, "983": 6, "957": 6, "828": 6, "802": 6, "904": 6, "912": 6, "883": 6, "077": 6, "17": [6, 7], "909": 6, "68": 6, "69": 6, "67": 6, "926": 6, "927": 6, "960": 6, "929": 6, "961": 6, "943": 6, "916": 6, "945": 6, "948": 6, "928": 6, "915": 6, "951": 6, "923": 6, "956": 6, "940": 6, "921": 6, "813": 6, "857": 6, "797": 6, "866": 6, "837": 6, "796": 6, "369": 6, "696": 6, "825": 6, "421": 6, "482": 6, "721": 6, "284": 6, "643": 6, "896": 6, "518": 6, "780": 6, "91": 6, "537": 6, "77": 6, "26": [6, 7], "71": [6, 7], "86": 6, "070": 6, "220": 6, "969": 6, "914": 6, "530": 6, "001": 6, "078": 6, "095": 6, "734": 6, "76": 6, "682": 6, "90": [6, 7], "64": 6, "72": [6, 7], "58": 6, "22": 6, "92": 6, "999": [6, 7], "23": [6, 7, 10], "40": 6, "540": 6, "78": 6, "95": [6, 7, 11], "917": 6, "420": 6, "00": [6, 8, 10], "417": 6, "47": 6, "63": 6, "580": 6, "795": 6, "899": 6, "022": 6, "372": 6, "055": 6, "053": 6, "057": 6, "016": 6, "011": 6, "008": 6, "009": 6, "122": 6, "085": 6, "097": 6, "031": 6, "028": 6, "033": 6, "038": 6, "035": 6, "040": 6, "015": 6, "017": 6, "author": 7, "yu": 7, "last": [7, 11], "tue": 7, "29": [7, 9], "aug": 7, "pm": 7, "pdt": 7, "descript": [7, 13], "three": 7, "gener": 7, "manuscript": 7, "crps_clean": 7, "written": 7, "bhouri0412": 7, "In": [7, 11], "presav": 7, "read": 7, "fn_x_true": 7, "fn_y_tru": 7, "fn_y_pr": 7, "predict": [7, 8, 9], "fn_grid": 7, "netcdif": 7, "fn_mli_mean": 7, "fn_mli_min": 7, "fn_mli_max": 7, "min": [7, 11], "max": [7, 11], "fn_mlo_scal": 7, "fn_save_metr": 7, "fn_save_metrics_avg": 7, "avg": 7, "dimens": [7, 13, 14], "fn_model_output": 7, "model_output": 7, "001_backup_phas": [7, 8, 9, 10], "7_retrained_models_step2_lot": [7, 8, 9, 10], "147_trial_0027": [7, 8, 9, 10], "h5": [7, 8, 9, 10], "rpn_pred_v1_stride6": [7, 8, 9, 10], "val_predict_cnn_reshaped_stride6_fin": [7, 8, 9, 10], "hsr_preds_bestcrp": [7, 8, 9, 10], "ed_climsim_1_3_pr": [7, 8, 9, 10], "mlpv1": 7, "npy_data_convers": 7, "npy_fil": 7, "val_input_stride6": 7, "val_target_stride6": 7, "varlid": 7, "mmf_ne4_grid": 7, "orig": 7, "norm_factor": 7, "mli_mean": 7, "mli_min": 7, "mli_max": 7, "mlo_scal": 7, "fn_save_output": 7, "want": [7, 14], "k": [7, 13], "j": 7, "lv": 7, "rho_h2o": 7, "m3": 7, "should": 7, "constatn": 7, "e3sm_root": 7, "share": [7, 8, 9, 10], "shr_const_mod": 7, "f90": 7, "grav": 7, "acceler": 7, "graviti": 7, "00464e3": 7, "specif": [7, 13], "heat": [7, 8, 13], "dry": 7, "air": [7, 13], "501e6": 7, "latent": [7, 13], "evapor": 7, "lf": 7, "337e5": 7, "fusion": 7, "ls": 7, "sublim": 7, "rho_air": 7, "101325": 7, "02214e26": 7, "38065e": 7, "966": 7, "273": 7, "densiti": 7, "stp": 7, "2923182846924677": 7, "shr_const_pstd": 7, "shr_const_rdair": 7, "shr_const_tkfrz": 7, "shr_const_rga": 7, "shr_const_mwdair": 7, "shr_const_avogad": 7, "shr_const_boltz": 7, "rho_h20": 7, "e3": 7, "fresh": 7, "vars_mlo_energy_conv": 7, "ptend_t": [7, 8, 11], "ptend_q0001": [7, 8, 11], "cam_out_netsw": [7, 11], "cam_out_flwd": [7, 11], "cam_out_precsc": [7, 11], "cam_out_sol": [7, 11], "cam_out_solsd": [7, 11], "cam_out_solld": [7, 11], "vars_longnam": 7, "moisten": [7, 8, 13], "q": [7, 13], "net": [7, 13], "shortwav": [7, 13], "downward": [7, 13], "longwav": [7, 13], "snow": [7, 13], "rate": [7, 13], "rain": [7, 13], "visibl": [7, 13], "direct": [7, 13], "solar": [7, 13], "Near": [7, 13], "ir": [7, 13], "diffus": [7, 13], "panda": 7, "glob": 7, "dimems": 7, "dim_name_level": 7, "dim_name_sampl": 7, "x_true": 7, "astyp": 7, "float64": 7, "y_true": 7, "y_pred": 7, "n_sampl": 7, "norm": 7, "ds_grid": 7, "n_ncol": 7, "length": 7, "nlat": 7, "nlon": 7, "area_wgt": 7, "loayd": 7, "to_xarrai": 7, "tile": 7, "int": 7, "nsampl": 7, "back": 7, "merg": 7, "hyam": 7, "hybm": 7, "vars_mlo": 7, "sure": 7, "order": 7, "correct": 7, "vars_mlo_len": 7, "len_to_dim": 7, "an": [7, 14], "ref": 7, "http": 7, "dev": 7, "en": 7, "stabl": 7, "ds": 7, "kd": 7, "work": 7, "elif": 7, "format": 7, "kei": 7, "turpl": 7, "kvar": 7, "enumer": 7, "ie": 7, "number": 7, "kvar_len": 7, "kvar_dim": 7, "start": 7, "end": 7, "np_arrai": 7, "ind1": 7, "ind2": 7, "kvar_data": 7, "squeez": 7, "unscal": 7, "120": 7, "denorm": 7, "fyi": 7, "hybrid": 7, "sigma": 7, "coordin": [7, 10], "system": 7, "z": 7, "tmp": 7, "isel": 7, "slice": 7, "break": 7, "n_timestep": 7, "dim_ncol": 7, "arang": 7, "dim_timestep": 7, "new_ind": 7, "multiindex": 7, "from_product": 7, "assign_coord": 7, "unstack": 7, "del": 7, "equival": 7, "ds_energi": 7, "keep": [7, 14], "origin": [7, 10], "deep": 7, "ptend_": 7, "q0001": 7, "rho": 7, "dz": 7, "all_metr": 7, "A": 7, "after": 7, "have": [7, 12, 14], "rest": 7, "spatial": 7, "analysi": 7, "desir": 7, "distribut": 7, "plane": 7, "select": [7, 8, 10], "varibl": 7, "caclul": 7, "ab": 7, "sqrt": 7, "wise": 7, "kmetric": 7, "fn_save": 7, "metrics_netcdf": [7, 11], "_": [7, 11], "to_netcdf": 7, "b": 7, "simpl": [7, 13], "flatten": 7, "metrics_stack": 7, "to_stacked_arrai": 7, "ml_out_idx": 7, "sample_dim": 7, "output_idx": 7, "to_csv": 7, "002488": 7, "005218": 7, "897846": 7, "004997": 7, "009940": 7, "934334": 7, "008768": 7, "013675": 7, "966718": 7, "014756": 7, "021097": 7, "982648": 7, "023048": 7, "030524": 7, "993642": 7, "123": 7, "333065": 7, "876357": 7, "685671": 7, "124": 7, "970805": 7, "403315": 7, "961380": 7, "125": 7, "299178": 7, "954437": 7, "947612": 7, "126": 7, "533141": 7, "420306": 7, "955713": 7, "127": 7, "806307": 7, "118702": 7, "866159": 7, "row": 7, "Then": 7, "metrics_vert_avg": 7, "remov": 7, "dummi": 7, "to_panda": 7, "682765": 7, "420904": 7, "588987": 7, "494752": 7, "321821": 7, "inf": 7, "360915": 7, "707551": 7, "982684": 7, "224468": 7, "968642": 7, "924299": 7, "683915": 7, "733680": 7, "metric_mlp160": 7, "kmodel": 7, "mlpv2": 7, "csv_path": 7, "metrics_": 7, "top160": 7, "csv_file": 7, "sort": 7, "df_list": 7, "read_csv": 7, "kf": 7, "index_col": 7, "concat": 7, "metric_mlp160_stat": 7, "median": 7, "std": 7, "p05": 7, "quantil": 7, "05": [7, 11], "p10": 7, "p25": 7, "p75": 7, "75": 7, "p90": 7, "p95": 7, "messag": 7, "due": 7, "nan": 7, "home": 7, "tf_conda": 7, "lib": [7, 11], "python3": [7, 11], "site": [7, 11], "function_bas": 7, "4573": 7, "subtract": 7, "diff_b_a": 7, "without": 7, "metric_mlp160_lev": 7, "metric_mlp160_stat_lev": 7, "requir": 7, "One": 7, "one": 7, "fn_metric": 7, "fn_metrics_stack": 7, "assign": 7, "color": 7, "davidmathlog": 7, "com": 7, "colorblind": 7, "23000000": 7, "23e69f00": 7, "2356b4e9": 7, "23009e73": 7, "23f0e442": 7, "230072b2": 7, "23d55e00": 7, "23cc79a7": 7, "lc_model": 7, "0072b2": 7, "e69f00": 7, "2b2b2b": 7, "882255": 7, "009e73": 7, "d55e00": 7, "56b4e9": 7, "short": 7, "var_idx": 7, "surface_var": 7, "fn_crp": 7, "metrics_crp": 7, "rpn_crp": 7, "cvae_crp": 7, "hsr_crp": 7, "plot_this_model": 7, "plot_this_models_crp": 7, "which": [7, 10, 14], "plot_this_metr": 7, "subpanel": 7, "abc": 7, "abcdefg": 7, "plotdata": 7, "mse": 7, "vertical_avg": 7, "plotdata_by_metr": 7, "k_plot_this_model": 7, "_ax": 7, "width": [7, 11], "spread": 7, "errbar_model": 7, "x_off": 7, "plot_x": 7, "plot_m": 7, "plot_low": 7, "plot_upp": 7, "errorbar": 7, "yerr": 7, "capsiz": 7, "none": [7, 10], "lw": 7, "neg": 7, "log": [7, 9], "set_yscal": [7, 9], "savefig": 7, "si_fig_3": 7, "pdf": 7, "tell": 7, "you": [7, 12, 14], "idx_start": 7, "idx_end": 7, "iloc": 7, "isinf": 7, "fill_between": 7, "silver": 7, "zorder": 7, "ylim": 7, "si_fig_4": 7, "si_fig_5": 7, "sw_log": 7, "abbcdefghij": 7, "gridspec_kw": 7, "height_ratio": 7, "gs": 7, "get_gridspec": 7, "underli": 7, "axbig": 7, "add_subplot": 7, "03": [7, 10], "93": 7, "horizontalalign": 7, "verticalalign": 7, "transform": 7, "transax": 7, "fontweight": 7, "demi": 7, "frameon": 7, "bottom": 7, "lot_this_model": 7, "kk": 7, "d": 7, "fig_2": 7, "upto": 7, "cm": 7, "mpl_toolkit": [7, 11], "axes_grid1": 7, "imagegrid": 7, "sklearn": 7, "r2_score": 7, "singl": 7, "ds_hist": 7, "entri": 7, "fn_y": 7, "fn_x": 7, "plot_hexbin": 7, "str": 7, "klev": 7, "xmin": 7, "xmax": 7, "ymin": 7, "ymax": 7, "fn_fig": 7, "imgrid": 7, "111": 7, "similar": 7, "nrows_ncol": 7, "2x2": 7, "axes_pad": 7, "pad": 7, "between": 7, "inch": 7, "cbar_mod": 7, "cbar_loc": 7, "cbar_pad": 7, "aspect": 7, "panel_id": 7, "plotx": 7, "ploti": 7, "plotrms": 7, "plotr2": 7, "sample_weight": 7, "multioutput": 7, "uniform_averag": 7, "size": [7, 10], "h": 7, "hexbin": 7, "gridsiz": 7, "50": 7, "extent": 7, "bin": 7, "mincnt": 7, "viridi": [7, 11], "alpha": 7, "axlin": 7, "slope": 7, "linewidth": [7, 11], "set_facecolor": 7, "efefef": 7, "set_xlim": 7, "prop": 7, "boxstyl": 7, "round": [7, 11], "facecolor": 7, "wheat": 7, "nr2": 7, "2f": 7, "nrmse": 7, "va": 7, "bbox": 7, "fontsiz": [7, 11], "2e": 7, "3f": 7, "cb": [7, 11], "cbar_ax": 7, "set_label": 7, "count": 7, "suptitl": [7, 11], "55": 7, "si_scatter_": 7, "split": 7, "si_scatter_dtdt": 7, "32": [7, 8], "57": 7, "0045": 7, "si_scatter_dqdt": 7, "0095": 7, "cartopi": 7, "cr": 7, "ccr": 7, "cfeatur": 7, "pyproj": 7, "__init__": [7, 11], "89": 7, "userwarn": [7, 10], "unabl": 7, "databas": 7, "_pyproj_global_context_initi": 7, "fn_data": 7, "engin": [7, 11], "netcdf4": [7, 11], "mlp_mae": 7, "plot_metric_map": 7, "jet": 7, "clev": 7, "defin": 7, "subplot_kw": 7, "robinson": 7, "central_longitud": 7, "179": 7, "dimension": 7, "geoax": 7, "loop": 7, "set_glob": 7, "ds_plotdata": 7, "1e": 7, "clevel": 7, "linspac": 7, "tricontourf": [7, 11], "platecarre": 7, "extend": 7, "set_und": 7, "set_clim": 7, "contour": 7, "cs": 7, "contourf": 7, "coolwarm": 7, "coastlin": 7, "025": [7, 11], "087": 7, "subplots_adjust": 7, "add_ax": [7, 11], "925": 7, "145": 7, "020": 7, "cax": [7, 11], "tick": 7, "si_2d": 7, "map_r2_": 7, "turbo": 7, "dtdt": 7, "dqdt": 7, "input_path": [8, 9], "target_path": [8, 9], "cvae_pred_path": [8, 9, 10], "final_metr": [8, 9, 10], "cvae_preds_manu": [8, 9, 10], "ed_pred_path": [8, 9, 10], "behren": [8, 9, 10], "ed_behrens_2022": [8, 9, 10], "hsr_pred_path": [8, 9, 10], "rpn_pred_path": [8, 9, 10], "figure_ingredi": [8, 9, 10], "cnn_pred_path": [8, 9, 10], "mlp_pred_path": [8, 9, 10], "load_path": [8, 9, 10], "load_h5_fil": [8, 9, 10], "results_complet": 8, "results_temp": 8, "target_var": 8, "calc_bia": 8, "preds_weighted_scor": 8, "target_weighted_scor": 8, "avg_grid": 8, "e3sm_train": [8, 10], "regular": [8, 10], "express": [8, 10], "set_regexp": [8, 10], "regexp": [8, 10], "0008": [8, 10], "23456789": [8, 10], "012": [8, 10], "0009": [8, 10], "01": [8, 10], "tempor": [8, 10], "set_stride_sampl": [8, 10], "stride_sampl": [8, 10], "set_filelist": [8, 10], "pressure_grid_plot": [8, 10], "get_pressure_grid_plot": [8, 10], "across": 8, "y_pressur": 8, "4380": [8, 10], "135": 8, "51it": 8, "xlim": 8, "gca": 8, "invert_yaxi": 8, "hpa": 8, "bia": 8, "text": 8, "bias_df": 8, "941637": 9, "922437": 9, "649": 9, "dict_idx": 9, "metrics_idx_scor": 9, "16": 10, "644365": 10, "53": 10, "040170": 10, "scoring_data": 10, "input_scoring_path": 10, "target_scoring_path": 10, "weight": 10, "scoring_data_copi": 10, "deepcopi": 10, "04": 10, "72it": 10, "part": 10, "preds_copi": 10, "plot_r2_analysi": 10, "792": 10, "pcolor": 10, "interpret": 10, "increas": 10, "mai": 10, "lead": 10, "incorrectli": 10, "edg": 10, "case": 10, "pleas": [10, 12], "suppli": 10, "explicit": 10, "contour_plot": 10, "coeff": 10, "blue": 10, "pcolormesh": 10, "799": 10, "pred_moist_daily_long": 10, "test_moist_daily_long": 10, "803": 10, "640x480": 10, "basemap": 11, "filterwarn": 11, "metricv": 11, "vardict": 11, "varnam": 11, "item": 11, "flat": 11, "robin": 11, "lon_0": 11, "165": 11, "drawcoastlin": 11, "rect": 11, "975": 11, "show": 11, "keyboardinterrupt": 11, "traceback": 11, "most": 11, "recent": 11, "miniconda": 11, "1133": 11, "self": 11, "llcrnrlon": 11, "llcrnrlat": 11, "urcrnrlon": 11, "urcrnrlat": 11, "llcrnrx": 11, "llcrnry": 11, "urcrnrx": 11, "urcrnri": 11, "height": 11, "area_thresh": 11, "rsphere": 11, "ellp": 11, "lat_t": 11, "lat_1": 11, "lat_2": 11, "lat_0": 11, "lon_1": 11, "lon_2": 11, "o_lon_p": 11, "o_lat_p": 11, "k_0": 11, "no_rot": 11, "suppress_tick": 11, "satellite_height": 11, "boundinglat": 11, "fix_aspect": 11, "anchor": 11, "celesti": 11, "epsg": 11, "1130": 11, "coastpolygon": 11, "append": 11, "1131": 11, "coastseg": 11, "segment": 11, "instead": 11, "polygon": 11, "1132": 11, "type": 11, "_readboundarydata": 11, "gshh": 11, "as_polygon": 11, "1134": 11, "sg": 11, "1135": 11, "geo": 11, "structur": 11, "land": 11, "1136": 11, "current": 11, "is_land": 11, "method": [11, 14], "1400": 11, "1397": 11, "poli": 11, "is_valid": 11, "1398": 11, "instersect": 11, "1399": 11, "region": 11, "process": 11, "intersect": 11, "boundarypolyl": 11, "1401": 11, "1402": 11, "geom": 11, "pip": [12, 14], "alreadi": [12, 14], "etc": [12, 14], "your": [12, 14], "altern": [12, 14], "dep": [12, 14], "six": 13, "describ": 13, "pre": 13, "temperatur": 13, "humid": 13, "solin": 13, "insol": 13, "lhflx": 13, "shflx": 13, "sensibl": 13, "tendenc": 13, "version": 14, "treat": 14, "set": 14, "held": 14, "upcom": 14, "onlin": 14, "competit": 14, "ey": 14, "someth": 14, "channel": 14, "broadcast": 14, "do": 14, "main_figure_gener": 14, "see": 14, "calc_ma": 14, "calc_rms": 14, "calc_r2": 14, "point": 14, "estim": 14, "calc_crp": 14, "calibr": 14}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"project": [0, 2], "structur": [0, 2], "contributor": 1, "guidelin": 1, "feedback": 1, "futur": 1, "develop": 1, "guid": 1, "websit": 1, "how": 1, "build": 1, "local": 1, "climsim": [2, 7], "an": 2, "open": 2, "larg": 2, "scale": [2, 7], "dataset": [2, 3, 7], "train": [2, 4], "high": 2, "resolut": 2, "physic": 2, "emul": 2, "hybrid": 2, "multi": 2, "climat": 2, "simul": 2, "get": [2, 8], "start": 2, "model": [2, 4, 7, 13], "evalu": [2, 4, 6, 9], "demo": 2, "notebook": 2, "refer": 2, "legal": 2, "inform": 3, "import": [4, 8, 9, 10], "data_util": [4, 8, 9, 10], "instanti": [4, 8, 9, 10], "class": [4, 8, 9, 10], "load": [4, 7, 8, 9, 10], "valid": 4, "data": [4, 8, 9, 10], "constant": 4, "predict": [4, 10], "multipl": 4, "linear": 4, "regress": 4, "ad": 4, "bia": 4, "unit": [4, 7], "creat": [4, 9], "your": 4, "here": [4, 7], "set": [4, 7, 8, 9, 10], "pressur": [4, 8, 9, 10], "grid": [4, 8, 9, 10], "weight": [4, 7, 8, 9], "target": 4, "calcul": [4, 7, 8], "metric": [4, 7, 9], "plot": [4, 7, 8, 9, 10], "score": 4, "do": 4, "thi": [4, 7], "veri": 4, "end": 4, "when": 4, "you": 4, "have": 4, "finish": 4, "tune": [4, 7], "hyperparamet": 4, "ar": 4, "seek": 4, "final": 4, "water": 5, "conserv": 5, "exampl": 5, "visual": 7, "part": 7, "1": [7, 9], "save": 7, "them": 7, "csv": 7, "file": 7, "chang": 7, "name": 7, "user": 7, "input": 7, "onli": 7, "energi": 7, "convers": 7, "factor": 7, "main": 7, "pack": 7, "np": 7, "arrai": 7, "xarrai": 7, "area": 7, "vertic": 7, "2": 7, "base": 7, "global": 7, "averag": 7, "output": [7, 8, 9], "check": 7, "perform": 7, "varianc": 7, "across": 7, "top": 7, "160": 7, "mlp": 7, "out": 7, "8": 7, "000": 7, "trial": 7, "pre": 7, "make": [7, 8], "figur": 7, "intercomparison": 7, "level": 7, "aggreg": 7, "includ": 7, "text": 7, "profil": 7, "tendenc": [7, 10], "variabl": 7, "si": 7, "3": 7, "togeth": 7, "mae": 7, "r2": [7, 10], "4": 7, "scatter": 7, "5": 7, "2d": 7, "map": 7, "bias": 8, "axi": 8, "skill": 10, "temperatur": 10, "specif": 10, "humid": 10, "packag": 10, "py": 10, "latitud": 10, "analysi": 10, "code": 12, "instal": 12, "baselin": 13, "quickstart": 14}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})