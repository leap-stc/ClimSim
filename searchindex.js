Search.setIndex({"docnames": ["CONTRIBUTING", "dataset", "demo_notebooks/cnn_example", "demo_notebooks/mlp_example", "demo_notebooks/water_conservation", "evaluation", "intro", "quickstart"], "filenames": ["CONTRIBUTING.md", "dataset.md", "demo_notebooks/cnn_example.ipynb", "demo_notebooks/mlp_example.ipynb", "demo_notebooks/water_conservation.ipynb", "evaluation.md", "intro.md", "quickstart.md"], "titles": ["Developer Guide for the website", "Dataset Information", "CNN example", "MLP example", "Water conservation example", "Model evaluation", "ClimSim: An open large-scale dataset for training high-resolution physics emulators in hybrid multi-scale climate simulators", "Quickstart"], "terms": {"our": [0, 5], "built": 0, "jupyt": 0, "To": [0, 2, 3], "mimic": 0, "what": 0, "github": 0, "action": 0, "doe": [0, 2, 3, 7], "first": [0, 2, 3, 7], "copi": 0, "readm": 0, "demo": 0, "notebook": [0, 1, 4, 7], "directori": [0, 2, 3], "cd": 0, "cp": 0, "r": 0, "demo_notebook": 0, "creat": [0, 2, 3, 5], "conda": 0, "environ": [0, 3, 7], "env": [0, 3], "f": [0, 2, 3], "yml": 0, "activ": [0, 2, 3], "climsim": [0, 1, 7], "doc": [0, 2, 3], "run": [0, 1, 3, 7], "follow": [0, 2, 3, 4, 7], "command": 0, "The": [0, 1, 2, 4, 5, 6, 7], "html": 0, "content": 0, "folder": 0, "call": [0, 3], "_build": 0, "can": [0, 1, 2, 3, 4, 7], "view": 0, "open": 0, "file": [0, 1, 2, 3, 4], "index": [0, 2, 3], "browser": 0, "data": [1, 7], "from": [1, 2, 3, 4, 7], "multi": [1, 2, 3, 5], "scale": [1, 2, 3], "climat": 1, "model": [1, 2, 3, 4, 7], "e3sm": [1, 2, 3, 4], "mmf": [1, 2, 3, 4], "simul": 1, "were": [1, 5], "save": [1, 2], "20": [1, 2, 5], "minut": 1, "interv": 1, "10": [1, 2, 3, 5], "year": [1, 3, 6], "two": [1, 2], "netcdf": [1, 2, 3], "input": [1, 4, 5, 6], "output": [1, 4, 6], "target": [1, 5], "ar": [1, 2, 3, 4, 5, 6], "produc": 1, "each": [1, 2, 3, 4, 5], "timestep": 1, "total": [1, 2, 3], "525": 1, "600": 1, "configur": 1, "3": [1, 2, 3, 5, 7], "download": [1, 7], "hug": [1, 3, 4], "face": 1, "high": 1, "resolut": [1, 5, 7], "real": [1, 2, 3, 5, 7], "geographi": [1, 5, 7], "1": [1, 2, 3, 4, 7], "5": [1, 2, 3, 5, 6], "x": [1, 2, 5], "horizont": [1, 2, 3, 5], "21": [1, 2, 5], "grid": 1, "column": [1, 2, 3, 4], "7": [1, 2, 3, 5, 6], "billion": [1, 6], "sampl": [1, 2, 3, 6], "41": [1, 2, 3], "2": [1, 2, 3, 5, 7], "tb": 1, "102": 1, "mb": [1, 3], "per": 1, "61": [1, 5], "low": [1, 5, 7], "11": [1, 2, 3, 5], "384": [1, 2, 3], "100": 1, "million": 1, "744": 1, "gb": 1, "9": [1, 2, 3, 4, 5], "aquaplanet": 1, "label": 1, "mli": [1, 2, 3, 4], "yyyi": 1, "mm": 1, "dd": 1, "sssss": 1, "nc": [1, 2, 3, 4], "where": [1, 2, 3], "sss": 1, "correspond": [1, 5, 7], "month": [1, 3], "dai": [1, 2, 3], "second": [1, 2, 4], "being": 1, "space": 1, "200": [1, 2, 3], "apart": 1, "same": [1, 2, 7], "wai": 1, "except": [1, 2, 3], "replac": [1, 2, 3], "mlo": [1, 2, 3, 4], "scalar": [1, 7], "variabl": [1, 5, 7], "vari": 1, "time": [1, 2, 3, 4, 5, 7], "ncol": [1, 2, 3, 5], "while": [1, 2, 3], "vertic": [1, 2, 5, 7], "resolv": [1, 2, 7], "addition": 1, "lev": [1, 2, 4, 5], "For": [1, 3], "lower": 1, "indic": [1, 2], "higher": 1, "level": [1, 2, 3, 4], "atmospher": [1, 4], "thi": [1, 2, 3, 4, 7], "becaus": [1, 2], "pressur": [1, 4, 5], "decreas": 1, "monoton": 1, "altitud": 1, "full": [1, 7], "list": 1, "found": [1, 7], "supplementari": 1, "tabl": 1, "There": 1, "also": 1, "quickstart": 1, "contain": [1, 7], "subsampl": [1, 7], "prenorm": [1, 7], "wa": [1, 7], "us": [1, 2, 3, 5, 7], "train": [1, 4, 5, 7], "valid": [1, 3, 7], "metric": [1, 2, 3, 5, 7], "paper": [1, 2, 7], "reproduc": [1, 3, 7], "preprocess": [1, 7], "create_npy_data_split": [1, 7], "ipynb": [1, 7], "import": [2, 3, 4], "xarrai": [2, 3, 4, 7], "xr": [2, 3, 4], "numpi": [2, 3, 4], "np": [2, 3, 4], "matplotlib": [2, 3, 4], "pyplot": [2, 3, 4], "plt": [2, 3, 4], "glob": [2, 3], "os": [2, 3, 4], "random": [2, 3, 5], "tensorflow": [2, 3, 7], "kera": [2, 3], "physical_devic": [2, 3], "config": [2, 3], "list_physical_devic": [2, 3], "gpu": [2, 3], "print": [2, 3], "try": [2, 3], "kgpu": [2, 3], "rang": [2, 3, 6], "len": [2, 3], "experiment": [2, 3], "set_memory_growth": [2, 3], "true": [2, 3], "invalid": [2, 3], "devic": [2, 3], "cannot": [2, 3], "modifi": [2, 3], "virtual": [2, 3], "onc": [2, 3, 4], "initi": [2, 3, 4], "pass": [2, 3], "2023": [2, 3], "05": [2, 3], "26": [2, 5], "18": [2, 3, 5], "17": [2, 3, 5], "02": [2, 4], "868544": 2, "i": [2, 3], "tsl": 2, "cuda": [2, 3], "cudart_stub": 2, "cc": [2, 3], "28": [2, 4, 5], "could": 2, "find": [2, 3], "driver": [2, 3], "your": [2, 7], "machin": 2, "948491": 2, "949921": 2, "core": [2, 3], "platform": [2, 3], "cpu_feature_guard": [2, 3], "182": [2, 5], "binari": [2, 3], "optim": [2, 3], "avail": [2, 3], "cpu": [2, 3], "instruct": [2, 3], "perform": [2, 3, 5], "critic": [2, 3], "oper": [2, 3, 6], "enabl": [2, 3], "avx2": [2, 3], "fma": [2, 3], "other": [2, 3], "rebuild": [2, 3], "appropri": [2, 3], "compil": [2, 3], "flag": [2, 3], "04": 2, "241559": 2, "w": [2, 3, 5], "tf2tensorrt": 2, "util": [2, 3], "py_util": 2, "38": [2, 5], "trt": 2, "warn": 2, "tensorrt": 2, "note": [2, 3, 4], "ptend_t": [2, 3], "ptend_q0001": [2, 3], "calcul": [2, 3], "http": [2, 3], "googl": [2, 3], "com": [2, 3], "spreadsheet": [2, 3], "d": [2, 3], "1ljrfhq6qb36u0tuoxqxcv4_dsqur0x4uimz4qhr8f9m": [2, 3], "edit": [2, 3], "gid": [2, 3], "0": [2, 3, 4, 5], "out": [2, 3, 4, 7], "cfg": 2, "dict": [2, 4], "vars_mli": [2, 3], "state_t": [2, 3], "state_q0001": [2, 3, 4], "state_p": [2, 3, 4], "pbuf_solin": [2, 3], "pbuf_lhflx": [2, 3, 4], "pbuf_shflx": [2, 3], "vars_mlo": [2, 3], "cam_out_netsw": [2, 3], "cam_out_flwd": [2, 3], "cam_out_precsc": [2, 3], "cam_out_precc": [2, 3, 4], "cam_out_sol": [2, 3], "cam_out_solsd": [2, 3], "cam_out_solld": [2, 3], "ref": [2, 3], "www": [2, 3], "noahbrenowitz": [2, 3], "post": [2, 3], "loading_netcdf": [2, 3], "org": [2, 3], "api_doc": [2, 3], "python": [2, 3, 7], "class": 2, "e3smdataset": 2, "def": [2, 3, 4], "__init__": 2, "self": 2, "verbos": 2, "fals": [2, 3], "normal": 2, "mli_mean": [2, 3], "open_dataset": [2, 3, 4], "norm_factor": [2, 3], "mli_min": [2, 3], "mli_max": [2, 3], "mlo_scal": [2, 3], "init": 2, "shape": [2, 3], "in_out_shap": 2, "flatten_layers_and_vars_1d": 2, "ds": [2, 3], "dso": [2, 3], "concaten": [2, 3], "all": [2, 5, 7], "batch": [2, 3], "124": [2, 3], "128": [2, 3], "vector": [2, 3, 6, 7], "stack": [2, 3], "to_stacked_arrai": [2, 3], "mlvar": [2, 3], "sample_dim": [2, 3], "name": [2, 3], "return": [2, 3, 4], "pad_and_stack_layers_and_vars_1d": 2, "pad": 2, "n_vertical_level": 2, "n_variabl": 2, "e": [2, 3, 4], "g": [2, 4], "60": [2, 3, 5], "6": [2, 3, 5], "arg": 2, "arr": 2, "dataarrai": [2, 4], "arro": 2, "broadcast": [2, 7], "repeat": [2, 3], "global": [2, 3, 4, 6], "across": 2, "to_arrai": 2, "transpos": [2, 4], "load_nc_dir_with_gener": [2, 3], "filelist": [2, 3], "f_mli": [2, 3], "engin": [2, 3], "netcdf4": [2, 3], "dim": [2, 4], "in_shap": 2, "none": [2, 3], "out_shap": 2, "els": 2, "gener": [2, 3], "function": [2, 3], "gen": [2, 3], "read": [2, 3], "make": [2, 3, 4], "varial": [2, 3], "1200": [2, 3, 4], "t": [2, 3, 4, 5], "tendenc": [2, 3, 5], "k": [2, 3, 5], "s": [2, 3, 4, 5, 6, 7], "q": [2, 3, 5], "kg": [2, 3, 4, 5], "yield": [2, 3], "valu": [2, 3, 4], "from_gener": [2, 3], "output_typ": [2, 3], "float64": [2, 3], "output_shap": [2, 3], "size": [2, 3], "dimens": [2, 3, 5, 7], "document": [2, 3], "1hgfzzjm0sygjwvsaj5ksfql9axufkvlybl36p": [2, 3], "vmdzc": [2, 3], "pathlib": 2, "path": [2, 3], "get_filenam": 2, "dataroot": 2, "stride_sampl": 2, "rel": [2, 4], "wildcard": 2, "int": [2, 3], "pick": 2, "everi": [2, 3], "nth": 2, "filepath": [2, 3], "extend": 2, "str": 2, "sort": [2, 3], "f_mli1": [2, 3], "f_mli2": [2, 3], "comment": 2, "It": [2, 3, 6, 7], "seem": 2, "unecessari": 2, "shuffl": [2, 3], "72": [2, 3, 5], "debug": [2, 3], "unnecessari": 2, "twice": 2, "micro_sampl": 2, "todo": 2, "ritwik": 2, "sure": 2, "correct": 2, "test": [2, 7], "split": [2, 3], "filenames_train": 2, "000": [2, 3], "1234567": 2, "0008": 2, "01": [2, 3], "filenames_v": 2, "23456789": [2, 3], "012": [2, 3], "0009": 2, "f_mli_val": [2, 3], "depend": [2, 7], "which": [2, 7], "shuffle_buff": [2, 3], "12": [2, 3, 4, 5], "come": [2, 4], "batch_siz": [2, 3], "float": 2, "4": [2, 3, 5, 7], "96": [2, 3, 5], "presum": 2, "number": 2, "doubl": 2, "unbatch": [2, 3], "prefetch": [2, 3], "sens": 2, "them": [2, 3], "couldn": 2, "anyth": 2, "wrong": 2, "don": 2, "fulli": 2, "understand": 2, "how": [2, 7], "should": 2, "randomli": 2, "td": [2, 3], "buffer_s": [2, 3], "reshuffle_each_iter": [2, 3], "relat": 2, "tds_val": [2, 3], "count_batch": [2, 3], "take": [2, 3], "nfile": [2, 3], "next": [2, 4], "iter": 2, "var": [2, 3, 4], "reduce_min": 2, "reduce_max": 2, "assum": [2, 4], "posit": [2, 4], "3840": 2, "08": 2, "059325": 2, "common_runtim": [2, 3], "executor": 2, "1197": 2, "info": [2, 3], "start": 2, "abort": 2, "an": [2, 7], "error": [2, 4], "you": [2, 3, 7], "ignor": 2, "messag": 2, "invalid_argu": 2, "must": 2, "feed": 2, "placehold": 2, "tensor": 2, "_0": 2, "dtype": 2, "int32": 2, "node": [2, 3], "061563": 2, "0254011839104458": 2, "1109701538780046": 2, "3392385424469184": 2, "distribut": [2, 3], "mirroredstrategi": [2, 3], "strategi": [2, 3], "speed": [2, 3], "up": [2, 3], "process": [2, 3], "possibl": [2, 3], "due": [2, 3], "current": [2, 3], "sequenti": [2, 3], "scope": [2, 3], "param": [2, 3], "input_length": [2, 3], "output_length_lin": [2, 3], "output_length_relu": [2, 3], "8": [2, 3, 5], "output_length": [2, 3], "n_node": [2, 3], "512": [2, 3], "constrcut": [2, 3], "input_lay": [2, 3], "layer": [2, 3, 5], "hidden_0": [2, 3], "dens": [2, 3], "relu": [2, 3], "hidden_1": [2, 3], "output_pr": [2, 3], "elu": [2, 3], "output_lin": [2, 3], "linear": [2, 3], "output_relu": [2, 3], "output_lay": [2, 3], "emul": [2, 3], "summari": [2, 3], "adam": [2, 3], "learning_r": [2, 3], "clr": [2, 3], "loss": [2, 3], "mse": [2, 3], "mae": [2, 3, 5], "accuraci": [2, 3], "__________________________________________________________________________________________________": [2, 3], "type": [2, 3], "connect": [2, 3], "inputlay": [2, 3], "64000": [2, 3], "dense_1": [2, 3], "262656": [2, 3], "dense_2": [2, 3], "65664": [2, 3], "dense_3": [2, 3], "120": [2, 3], "15480": [2, 3], "dense_4": [2, 3], "1032": [2, 3], "408": [2, 3], "832": [2, 3], "trainabl": [2, 3], "non": [2, 3], "flatten": 2, "dropout": 2, "convolut": [2, 5], "conv1d": 2, "maxpooling1d": 2, "init_cnn": 2, "n_vertical_var": 2, "channel_dim": 2, "32": [2, 3], "kernel": [2, 3], "gelu": 2, "pre_out_activ": 2, "norm": 2, "resnet": 2, "style": 2, "1d": 2, "treat": [2, 7], "spatial": 2, "architectur": 2, "consist": [2, 6], "residu": 2, "block": 2, "conv": 2, "special": 2, "norm_lay": 2, "get_normalization_lay": 2, "length": 2, "match": 2, "1st": 2, "argument": 2, "set": [2, 3, 7], "asid": 2, "previous_block_activ": 2, "filter": 2, "kernel_s": 2, "zip": 2, "appli": 2, "zero": 2, "add": 2, "se_block": 2, "project": 2, "stride": 2, "back": 2, "anoth": 2, "last": 2, "particular": 2, "axi": [2, 3], "given": 2, "string": 2, "hard": [2, 4], "code": [2, 4, 7], "layer_norm": 2, "layernorm": 2, "elif": 2, "batch_norm": 2, "batchnorm": 2, "rid": 2, "hardcod": 2, "64": [2, 5], "256": 2, "featur": 2, "determin": 2, "Is": 2, "either": 2, "entri": 2, "intern": 2, "right": [2, 4], "befor": 2, "Not": 2, "why": 2, "lr": 2, "001": [2, 5], "epsilon": 2, "1e": 2, "small": 2, "constant": [2, 4], "numer": 2, "stabil": 2, "default": 2, "07": 2, "But": 2, "mention": 2, "weight_decai": 2, "probabl": [2, 7], "schedul": 2, "tfa": 2, "cyclicallearningr": 2, "initial_learning_r": 2, "init_lr": 2, "maximal_learning_r": 2, "max_lr": 2, "scale_fn": 2, "lambda": 2, "step_siz": 2, "steps_per_epoch": 2, "scale_mod": 2, "cycl": 2, "input_1": 2, "992": 2, "conv1d_1": 2, "5152": 2, "activation_1": 2, "dropout_1": 2, "conv1d_2": 2, "224": [2, 5], "conv1d_3": 2, "10304": 2, "activation_2": 2, "dropout_2": 2, "conv1d_4": 2, "20544": 2, "activation_3": 2, "dropout_3": 2, "conv1d_5": 2, "2112": 2, "add_1": 2, "conv1d_6": 2, "41088": 2, "activation_4": 2, "dropout_4": 2, "conv1d_7": 2, "82048": 2, "activation_5": 2, "dropout_5": 2, "conv1d_8": 2, "8320": 2, "add_2": 2, "conv1d_9": 2, "164096": 2, "activation_6": 2, "dropout_6": 2, "conv1d_10": 2, "327936": 2, "activation_7": 2, "dropout_7": 2, "conv1d_11": 2, "33024": 2, "add_3": 2, "conv1d_12": 2, "2570": 2, "dense_5": 2, "22": [2, 5], "dense_6": 2, "88": [2, 5], "concatenate_1": 2, "698": 2, "520": 2, "callback": [2, 3], "tensorboard": [2, 3], "tboard_callback": [2, 3], "log_dir": [2, 3], "logs_tensorboard": [2, 3], "histogram_freq": [2, 3], "b": [2, 3], "checkpoint": [2, 3], "filepath_checkpoint": [2, 3], "saved_model": [2, 3], "best_model_proto": [2, 3], "h5": [2, 3], "checkpoint_callback": [2, 3], "modelcheckpoint": [2, 3], "save_weights_onli": [2, 3], "monitor": [2, 3], "val_ms": [2, 3], "mode": [2, 3], "min": [2, 3], "save_best_onli": [2, 3], "c": [2, 3, 4], "csv": [2, 3], "logger": [2, 3], "filepath_csv": [2, 3], "csv_logger": [2, 3], "txt": [2, 3], "csv_callback": [2, 3], "csvlogger": [2, 3], "separ": [2, 3, 5, 7], "append": [2, 3], "my_callback": [2, 3], "mkdir": [2, 3], "n_epoch": [2, 3], "40": [2, 5], "fit": [2, 3], "validation_data": [2, 3], "epoch": [2, 3], "136165": 2, "137648": 2, "unknown": [2, 3], "27": [2, 3, 5], "491m": 2, "step": [2, 3, 4, 7], "1615": 2, "1982": 2, "7801": 2, "39": 2, "919740": 2, "920500": 2, "best": 2, "onli": [2, 3, 4], "skip": 2, "29": 2, "542m": 2, "eta": 2, "0s": 2, "0552": 2, "1205": 2, "9368warn": 2, "415m": 2, "9368": 2, "0471": 2, "1050": 2, "9433warn": 2, "422m": 2, "9433": 2, "0449": 2, "1025": 2, "9452warn": 2, "430m": 2, "9452": 2, "0450": 2, "9467warn": 2, "23": [2, 5], "577m": 2, "9467": 2, "0435": 2, "1010": 2, "9454warn": 2, "432m": 2, "9454": 2, "0417": 2, "0978": 2, "9492warn": 2, "402m": 2, "9492": 2, "0414": 2, "0992": 2, "9480warn": 2, "16": 2, "388m": 2, "9480": 2, "0390": 2, "0944": 2, "9506warn": 2, "396m": 2, "9506": 2, "0393": 2, "0949": 2, "9521warn": 2, "383m": 2, "9521": 2, "0384": 2, "0939": 2, "409m": 2, "0375": 2, "0930": 2, "9483warn": 2, "412m": 2, "9483": 2, "13": [2, 3, 5], "0371": 2, "0928": 2, "9500warn": 2, "395m": 2, "9500": 2, "14": [2, 4, 5], "0364": 2, "0913": 2, "9523warn": 2, "421m": 2, "9523": 2, "15": [2, 3, 5], "0352": 2, "0899": 2, "9508warn": 2, "424m": 2, "9508": 2, "0338": 2, "0867": 2, "19": [2, 3, 5], "469m": 2, "0337": 2, "0877": 2, "9538warn": 2, "715m": 2, "9538": 2, "0331": 2, "0862": 2, "9530warn": 2, "509m": 2, "9530": 2, "0315": 2, "0837": 2, "9536warn": 2, "475m": 2, "9536": 2, "0308": 2, "0820": 2, "9565warn": 2, "532m": 2, "9565": 2, "0823": 2, "9542warn": 2, "615m": 2, "9542": 2, "0297": 2, "0807": 2, "9579warn": 2, "25": [2, 3, 5], "595m": 2, "9579": 2, "0299": 2, "9513warn": 2, "466m": 2, "9513": 2, "24": 2, "0293": 2, "0803": 2, "9557warn": 2, "479m": 2, "9557": 2, "0289": 2, "0796": 2, "9570warn": 2, "367m": 2, "9570": 2, "0292": 2, "0806": 2, "375m": 2, "0283": 2, "0785": 2, "9541warn": 2, "461m": 2, "9541": 2, "0276": 2, "0771": 2, "9586warn": 2, "493m": 2, "9586": 2, "0236": [2, 3], "0750": 2, "9577warn": 2, "618m": 2, "9577": 2, "30": [2, 3, 5], "0201": 2, "0712": 2, "632m": 2, "31": [2, 5], "0186": 2, "0685": 2, "9568warn": 2, "514m": 2, "9568": 2, "0175": 2, "0668": 2, "598m": 2, "33": [2, 5], "0173": 2, "0658": 2, "9582warn": 2, "551m": 2, "9582": 2, "34": [2, 5], "0167": 2, "0646": 2, "9601warn": 2, "594m": 2, "9601": 2, "35": [2, 3, 5], "0171": 2, "0650": 2, "9544warn": 2, "539m": 2, "9544": 2, "36": [2, 5], "0166": 2, "0647": 2, "9610warn": 2, "515m": 2, "9610": 2, "37": [2, 3, 5], "0156": 2, "0620": 2, "9609warn": 2, "530m": 2, "9609": 2, "0161": 2, "0630": 2, "500m": 2, "0149": 2, "0609": 2, "9602warn": 2, "484m": 2, "9602": 2, "0151": 2, "0614": 2, "9612warn": 2, "442m": 2, "9612": 2, "histori": 2, "0x7f471361dbe0": 2, "old": 2, "loop": 2, "That": 2, "me": 2, "manual": [2, 3], "order": [2, 3], "howev": [2, 3], "slow": [2, 3], "so": [2, 3, 4], "emploi": [2, 3], "local": [2, 3, 6, 7], "n": [2, 3, 4], "we": [2, 3, 4, 6, 7], "load": [2, 4], "again": 2, "nn_epoch": 2, "nshuffle_buff": 2, "nn": 2, "nwhile": 2, "x_true": [2, 3], "y_true": [2, 3], "one": 2, "singl": 2, "y_pred": [2, 3], "tensorshap": 2, "new": [2, 3], "ha": [2, 3], "option": [2, 3], "latlim": [2, 3], "lonlim": [2, 3], "ne4_grid_info": [2, 3], "test_data": [2, 3], "mmf_ne4_grid": [2, 3], "orig": [2, 3], "load_nc_dir_with_generator_test": [2, 3], "999": [2, 3, 5], "merg": [2, 3], "lat": [2, 3, 4], "lon": [2, 3, 4], "drop": [2, 3], "normalizatoin": [2, 3], "One": [2, 3], "snapshot": [2, 3], "10th": [2, 3], "dir_test_sampl": [2, 3], "home": [2, 3], "sungduk": [2, 3, 4], "work": [2, 3], "leap": [2, 3], "mmf_baselin": [2, 3], "0010": [2, 3], "tds_test": [2, 3], "arrai": [2, 3], "defeat": [2, 3], "purpos": [2, 3, 4], "just": [2, 3], "do": [2, 3, 7], "quick": [2, 3, 6], "as_numpy_iter": [2, 3], "107260": 2, "load_model": [2, 3], "fig": [2, 3], "ax": [2, 3], "subplot": [2, 3], "suptitl": [2, 3], "h0": [2, 3], "pcolor": [2, 3], "vmin": [2, 3, 4], "vmax": [2, 3, 4], "set_titl": [2, 3], "set_ylabel": [2, 3], "set_xlabel": [2, 3], "colorbar": [2, 3, 4], "orient": [2, 3], "set_size_inch": [2, 3], "ax_": [2, 3], "h1": [2, 3], "h2": [2, 3], "cmap": [2, 3, 4], "bwr": [2, 3], "mean": [2, 3], "seri": [2, 3], "0001": [2, 4], "12345": [2, 3], "160": [2, 3], "56": [2, 3], "650758": 2, "y_true_mean_t": [2, 3], "y_pred_mean_t": [2, 3], "western": [2, 3], "eq": [2, 3], "pacif": [2, 3], "y_true_mean_q": [2, 3], "y_pred_mean_q": [2, 3], "kvar": [2, 3], "enumer": [2, 3], "y_true_surface_var": [2, 3], "y_pred_surface_var": [2, 3], "601764": 3, "193": 3, "oneapi": 3, "deep": 3, "neural": [3, 5], "network": [3, 5], "librari": 3, "onednn": 3, "sse4": 3, "avx": 3, "42": [3, 5], "919495": 3, "xla": 3, "stream_executor": 3, "cuda_driv": 3, "267": [3, 5], "fail": 3, "cuinit": 3, "cuda_error_no_devic": 3, "capabl": 3, "detect": 3, "919558": 3, "cuda_diagnost": 3, "156": 3, "appear": 3, "host": [3, 6], "cori16": 3, "proc": 3, "nvidia": 3, "version": [3, 7], "exist": 3, "pscratch": [3, 4], "sd": [3, 4], "mmf_ne4": 3, "123456": 3, "0007": 3, "realtion": 3, "f_mli3": 3, "89": 3, "val": 3, "15768": 3, "6054912": 3, "017261": 3, "753492": 3, "gpu_devic": 3, "1613": 3, "job": 3, "localhost": 3, "replica": 3, "task": 3, "38250": 3, "memori": 3, "a100": 3, "sxm4": 3, "40gb": 3, "pci": 3, "bu": 3, "id": 3, "0000": 3, "03": 3, "00": [3, 5], "comput": [3, 4, 5], "755102": 3, "756681": 3, "82": [3, 5], "758286": 3, "c1": 3, "864": 3, "331776": 3, "physicaldevic": 3, "device_typ": 3, "element": 3, "583558": 3, "cuda_bla": 3, "630": 3, "tensorfloat": 3, "matrix": 3, "multipl": [3, 6], "log": 3, "595604": 3, "servic": 3, "173": 3, "0x7f9918018250": 3, "guarante": 3, "595620": 3, "181": 3, "streamexecutor": 3, "595624": 3, "595626": 3, "595629": 3, "600052": 3, "mlir": 3, "dump_mlir_util": 3, "268": 3, "disabl": 3, "crash": 3, "mlir_crash_reproducer_directori": 3, "621958": 3, "nvptx_helper": 3, "libdevic": 3, "cuda_dir": 3, "nvvm": 3, "mai": 3, "result": [3, 6], "runtim": 3, "failur": 3, "program": 3, "routin": 3, "search": 3, "cuda_sdk_lib": 3, "usr": 3, "choos": 3, "xla_gpu_cuda_data_dir": 3, "hlomodul": 3, "debugopt": 3, "most": 3, "app": 3, "xla_flag": 3, "705394": 3, "jit": 3, "xla_compilation_cach": 3, "477": 3, "cluster": 3, "line": [3, 4], "lifetim": 3, "63072": 3, "1096": 3, "17m": 3, "0044": 3, "0254": 3, "9727": 3, "val_loss": 3, "0041": 3, "val_ma": 3, "0244": 3, "val_accuraci": 3, "9762": 3, "1071": 3, "0240": 3, "9761": 3, "0040": 3, "0238": 3, "9766": 3, "1035": 3, "16m": 3, "9769": 3, "0237": 3, "9774": 3, "9773": 3, "0239": 3, "9764": 3, "1033": 3, "0039": 3, "9775": 3, "1046": 3, "0235": 3, "9776": 3, "0234": 3, "9780": 3, "9778": 3, "9784": 3, "9777": 3, "1049": 3, "9782": 3, "1064": 3, "0038": 3, "1073": 3, "9783": 3, "9786": 3, "22445": 3, "357": 3, "360": 3, "plot": [3, 4], "demonstr": 4, "ml": [4, 6], "summar": 4, "sum_i": 4, "left": 4, "delta": 4, "q_v": 4, "q_l": 4, "q_i": 4, "frac": 4, "p_i": 4, "p": 4, "state_q0002": 4, "state_q0003": 4, "l_v": 4, "datadir": 4, "mmf_ne30": 4, "72000": 4, "begin": 4, "integr": 4, "need": 4, "construct": 4, "thick": 4, "interfac": 4, "a_k": 4, "p_o": 4, "b_k": 4, "p_": 4, "condit": [4, 5], "here": [4, 7], "extract": 4, "coeffici": 4, "fix": 4, "dure": 4, "physic": 4, "parameter": 4, "initial_condit": 4, "cf": 4, "cdir": 4, "inputdata": 4, "atm": 4, "cam": 4, "inic": 4, "homm": 4, "eam_i_mam3_linoz_ne30np4_l60_c20210917": 4, "ifac": 4, "hyai": 4, "hybi": 4, "p0": 4, "get_pressure_thick": 4, "ps": [4, 5], "coord": 4, "getpint": 4, "pint": 4, "attr": 4, "updat": 4, "unit": [4, 5], "pa": [4, 5], "long_nam": 4, "dp_temp": 4, "diff": 4, "ilev": 4, "renam": 4, "dp": 4, "state_pmid": 4, "igrav": 4, "80616": 4, "ci_": 4, "sum": 4, "total_wat": 4, "ci_state_q0001": 4, "ci_state_q0002": 4, "ci_state_q0003": 4, "surfac": [4, 5], "flux": [4, 5], "evapotranspir": 4, "precipit": 4, "surface_water_flux": 4, "1e3": 4, "convert": 4, "m": [4, 5], "m2": 4, "factor": 4, "1000": 4, "expected_wat": 4, "water_error": 4, "water_error_rel": 4, "check": [4, 7], "variou": 4, "map": 4, "look": 4, "geograph": 4, "pattern": 4, "within": 4, "few": 4, "percent": 4, "line2d": 4, "0x7f6a3d1b6150": 4, "figur": 4, "figsiz": 4, "scatter": 4, "rdbu_r": 4, "xlabel": 4, "longitud": 4, "ylabel": 4, "latitud": 4, "titl": 4, "mass": 4, "0x7f6a39183c90": 4, "six": 5, "differ": 5, "baselin": [5, 6], "cnn": [5, 6, 7], "encod": 5, "decod": 5, "ed": 5, "heteroskedast": 5, "regress": [5, 6], "hsr": 5, "perceptron": 5, "mlp": [5, 6], "prior": 5, "rpn": 5, "variat": 5, "autoencod": 5, "cvae": 5, "dataset": [5, 7], "subset": 5, "shown": 5, "below": 5, "descript": 5, "air": 5, "temperatur": 5, "specif": 5, "humid": 5, "solin": 5, "solar": 5, "insol": 5, "m\u00b2": 5, "lhflx": 5, "latent": 5, "heat": 5, "shflx": 5, "sensibl": 5, "dt": 5, "dq": 5, "moisten": 5, "netsw": 5, "net": 5, "shortwav": 5, "flwd": 5, "downward": 5, "longwav": 5, "precsc": 5, "snow": 5, "rate": 5, "precc": 5, "rain": 5, "sol": 5, "visibl": 5, "direct": 5, "soll": 5, "Near": 5, "ir": 5, "solsd": 5, "diffus": 5, "solld": 5, "averag": 5, "four": 5, "585": 5, "684": 5, "845": 5, "683": 5, "685": 5, "732": 5, "401": 5, "673": 5, "784": 5, "495": 5, "592": 5, "680": 5, "85": 5, "968": 5, "73": 5, "598": 5, "894": 5, "018": 5, "588": 5, "364": 5, "046": 5, "511": 5, "328": 5, "322": 5, "83": 5, "250": 5, "46": 5, "81": 5, "554": 5, "97": 5, "94": 5, "924": 5, "817": 5, "075": 5, "331": 5, "533": 5, "846": 5, "159": 5, "679": 5, "136": 5, "215": 5, "806": 5, "702": 5, "066": 5, "r\u00b2": 5, "627": 5, "542": 5, "568": 5, "589": 5, "617": 5, "590": 5, "944": 5, "980": 5, "959": 5, "983": 5, "957": 5, "828": 5, "802": 5, "904": 5, "912": 5, "883": 5, "077": 5, "909": 5, "68": 5, "69": 5, "67": 5, "926": 5, "927": 5, "960": 5, "929": 5, "961": 5, "943": 5, "916": 5, "945": 5, "948": 5, "928": 5, "915": 5, "951": 5, "923": 5, "956": 5, "940": 5, "921": 5, "813": 5, "857": 5, "797": 5, "866": 5, "837": 5, "796": 5, "rmse": 5, "369": 5, "696": 5, "825": 5, "421": 5, "482": 5, "721": 5, "284": 5, "643": 5, "896": 5, "518": 5, "780": 5, "91": 5, "537": 5, "77": 5, "71": 5, "86": 5, "070": 5, "220": 5, "969": 5, "914": 5, "530": 5, "078": 5, "095": 5, "734": 5, "76": 5, "682": 5, "90": 5, "58": 5, "92": 5, "540": 5, "78": 5, "95": 5, "917": 5, "420": 5, "417": 5, "47": 5, "63": 5, "crp": 5, "580": 5, "795": 5, "899": 5, "022": 5, "372": 5, "055": 5, "053": 5, "057": 5, "016": 5, "011": 5, "008": 5, "009": 5, "122": 5, "085": 5, "097": 5, "031": 5, "028": 5, "033": 5, "038": 5, "035": 5, "040": 5, "015": 5, "017": 5, "largest": 6, "ever": 6, "design": 6, "research": 6, "compris": 6, "develop": 6, "consortium": 6, "scientist": 6, "pair": 6, "multivari": 6, "isol": 6, "influenc": 6, "nest": 6, "fidel": 6, "macro": 6, "state": 6, "coverag": 6, "span": 6, "frequenc": 6, "compat": 6, "downstream": 6, "coupl": 6, "implement": 6, "determinist": 6, "stochast": [6, 7], "highlight": 6, "challeng": 6, "score": [6, 7], "inform": 6, "evalu": [6, 7], "exampl": 6, "water": 6, "conserv": 6, "youtub": 6, "video": 6, "train_input": 7, "npy": 7, "train_target": 7, "val_input": 7, "val_target": 7, "scoring_input": 7, "scoring_target": 7, "have": 7, "addit": 7, "held": 7, "upcom": 7, "onlin": 7, "competit": 7, "keep": 7, "ey": 7, "instal": 7, "climsim_util": 7, "tool": 7, "root": 7, "repo": 7, "pip": 7, "If": 7, "alreadi": 7, "etc": 7, "altern": 7, "dep": 7, "wish": 7, "someth": 7, "like": 7, "want": 7, "channel": 7, "method": 7, "data_util": 7, "py": 7, "script": 7, "main_figure_gener": 7, "see": 7, "calc_ma": 7, "calc_rms": 7, "calc_r2": 7, "point": 7, "estim": 7, "calc_crp": 7, "well": 7, "calibr": 7}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"develop": [0, 2], "guid": 0, "websit": 0, "jupter": 0, "book": 0, "base": 0, "how": 0, "build": [0, 2, 3], "local": 0, "dataset": [1, 2, 3, 6], "inform": 1, "cnn": 2, "exampl": [2, 3, 4], "data": [2, 3], "pipelin": [2, 3], "input": [2, 3], "output": [2, 3], "variabl": [2, 3], "list": [2, 3], "defin": 2, "tf": [2, 3], "instanti": [2, 3], "object": [2, 3], "here": [2, 3], "get": [2, 6], "train": [2, 3, 6], "val": 2, "filenam": 2, "loader": 2, "plot": 2, "some": 2, "statist": 2, "ml": [2, 3], "fcnn": 2, "visual": 2, "predict": 2, "saniti": [2, 3], "check": [2, 3], "mlp": 3, "water": 4, "conserv": 4, "model": 5, "evalu": 5, "climsim": 6, "an": 6, "open": 6, "larg": 6, "scale": 6, "high": 6, "resolut": 6, "physic": 6, "emul": 6, "hybrid": 6, "multi": 6, "climat": 6, "simul": 6, "start": 6, "refer": 6, "quickstart": 7}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})