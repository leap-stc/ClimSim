Search.setIndex({"docnames": ["CONTRIBUTING", "README", "dataset", "demo_notebooks/cnn_example", "demo_notebooks/mlp_example", "demo_notebooks/water_conservation", "evaluating", "evaluation/ClimSim_metrics", "evaluation/bias_calculation", "evaluation/main_figure_generation", "evaluation/plot_R2_analysis", "installation", "models", "quickstart"], "filenames": ["CONTRIBUTING.md", "README.md", "dataset.md", "demo_notebooks/cnn_example.ipynb", "demo_notebooks/mlp_example.ipynb", "demo_notebooks/water_conservation.ipynb", "evaluating.md", "evaluation/ClimSim_metrics.ipynb", "evaluation/bias_calculation.ipynb", "evaluation/main_figure_generation.ipynb", "evaluation/plot_R2_analysis.ipynb", "installation.md", "models.md", "quickstart.md"], "titles": ["Contributor Guidelines", "ClimSim: An open large-scale dataset for training high-resolution physics emulators in hybrid multi-scale climate simulators", "Dataset Information", "CNN example", "MLP example", "Water conservation example", "Evaluation", "ClimSim: Metrics calculation and visualization", "Import data_utils", "Evaluation metrics", "Prediction skill of temperature and specific humidity tendencies", "Installation &amp; setup", "Baseline Models", "Quickstart"], "terms": {"addit": [0, 13], "issu": 0, "from": [0, 2, 3, 4, 5, 7, 8, 9, 10, 11, 13], "commun": 0, "research": [0, 1], "wish": [0, 13], "off": 0, "climsim": [0, 2, 6, 8, 9, 10, 13], "make": [0, 3, 4, 5, 10], "us": [0, 2, 3, 4, 6, 7, 9, 10, 12, 13], "our": [0, 12], "tool": [0, 11, 13], "ar": [0, 1, 2, 3, 4, 5, 6, 7, 10, 12], "welcom": 0, "can": [0, 2, 3, 4, 5, 11, 13], "rais": 0, "github": [0, 6, 12], "page": 0, "prefer": 0, "directli": 0, "email": 0, "maintain": 0, "built": 0, "jupyt": [0, 12], "book": 0, "To": [0, 3, 4, 9, 10], "mimic": 0, "what": 0, "action": 0, "doe": [0, 3, 4, 13], "first": [0, 3, 4, 7, 13], "copi": [0, 7, 10], "readm": 0, "demo": 0, "notebook": [0, 2, 5, 6, 12, 13], "directori": [0, 3, 4], "cd": 0, "cp": [0, 7], "r": 0, "md": 0, "figur": [0, 5, 10], "demo_notebook": 0, "evalu": [0, 1, 7, 11, 13], "creat": [0, 3, 4, 7, 8, 10, 12], "conda": [0, 7], "environ": [0, 4, 11, 12, 13], "env": [0, 4, 7], "f": [0, 3, 4, 7, 9], "yml": 0, "activ": [0, 3, 4], "doc": [0, 3, 4, 7], "run": [0, 2, 4, 7, 11, 13], "follow": [0, 3, 4, 5, 9, 10, 11, 13], "command": 0, "The": [0, 1, 2, 3, 5, 6, 7, 10, 12, 13], "html": [0, 7], "content": 0, "folder": [0, 6, 12], "call": [0, 4], "_build": 0, "view": 0, "open": 0, "file": [0, 2, 3, 4, 5, 8, 10], "index": [0, 3, 4, 7, 8, 9], "browser": 0, "largest": 1, "ever": 1, "design": 1, "ml": [1, 5, 7], "It": [1, 3, 4, 13], "compris": 1, "develop": 1, "consortium": 1, "scientist": 1, "consist": [1, 3], "5": [1, 2, 3, 4, 6, 7, 8, 9], "7": [1, 2, 3, 4, 6, 7, 9], "billion": [1, 2], "pair": 1, "multivari": 1, "input": [1, 2, 5, 8, 9, 10, 12], "output": [1, 2, 5, 10], "vector": [1, 3, 4, 13], "isol": 1, "influenc": 1, "local": [1, 3, 4, 11, 13], "nest": 1, "fidel": 1, "host": [1, 4], "s": [1, 3, 4, 5, 7, 8, 10, 12, 13], "macro": 1, "state": 1, "global": [1, 3, 4, 5], "coverag": 1, "span": 1, "multipl": [1, 4], "year": [1, 2, 4], "sampl": [1, 2, 3, 4, 7], "frequenc": 1, "result": [1, 4, 7], "compat": 1, "downstream": 1, "coupl": 1, "oper": [1, 3, 4, 9, 10], "we": [1, 3, 4, 5, 7, 13], "implement": 1, "rang": [1, 3, 4, 7, 9], "determinist": 1, "stochast": [1, 13], "regress": [1, 12], "baselin": [1, 6], "highlight": 1, "challeng": 1, "score": [1, 6, 7, 8, 9, 10, 13], "quick": [1, 3, 4], "inform": [1, 7], "code": [1, 3, 5, 11, 12, 13], "instal": [1, 13], "model": [1, 2, 3, 4, 5, 6, 8, 9, 10, 13], "layer": [1, 3, 4, 12], "perceptron": [1, 12], "mlp": [1, 6, 8, 9, 10, 12], "exampl": 1, "convolut": [1, 3, 12], "neural": [1, 4, 12], "network": [1, 4, 12], "cnn": [1, 6, 7, 8, 9, 10, 12, 13], "water": [1, 7], "conserv": 1, "paper": [1, 2, 3, 13], "youtub": 1, "video": 1, "contributor": 1, "guid": 1, "data": [2, 7, 13], "multi": [2, 3, 4, 12], "scale": [2, 3, 4, 8, 9], "climat": 2, "e3sm": [2, 3, 4, 5, 7, 8, 10], "mmf": [2, 3, 4, 5, 8, 10], "simul": 2, "were": [2, 6, 12], "save": [2, 3], "20": [2, 3, 6, 9], "minut": 2, "interv": 2, "10": [2, 3, 4, 6, 7, 9], "two": [2, 3], "netcdf": [2, 3, 4, 7], "target": [2, 6, 8, 9, 10, 12], "produc": 2, "each": [2, 3, 4, 5, 6, 7, 8, 9, 12], "timestep": 2, "total": [2, 3, 4], "525": 2, "600": 2, "configur": 2, "3": [2, 3, 4, 6, 13], "download": [2, 13], "hug": [2, 4, 5], "face": 2, "high": 2, "resolut": [2, 12, 13], "real": [2, 3, 4, 12, 13], "geographi": [2, 12, 13], "1": [2, 3, 4, 5, 8, 10, 13], "x": [2, 3, 7, 8, 9, 10, 12], "horizont": [2, 3, 4, 6, 7, 8, 9], "21": [2, 3, 6, 7, 9, 10], "grid": [2, 7], "column": [2, 3, 4, 5, 7, 8, 9], "41": [2, 3, 4], "2": [2, 3, 4, 6, 8, 10, 13], "tb": 2, "102": 2, "mb": [2, 4], "per": [2, 7], "61": [2, 6, 7], "low": [2, 12, 13], "11": [2, 3, 4, 6, 9], "384": [2, 3, 4, 7], "100": [2, 7, 8, 10], "million": 2, "744": 2, "gb": 2, "9": [2, 3, 4, 5, 6, 7, 9], "aquaplanet": 2, "label": [2, 9], "mli": [2, 3, 4, 5, 8, 10], "yyyi": 2, "mm": 2, "dd": 2, "sssss": 2, "nc": [2, 3, 4, 5, 7, 8, 9, 10], "where": [2, 3, 4, 7], "sss": 2, "correspond": [2, 12, 13], "month": [2, 4], "dai": [2, 3, 4], "second": [2, 3, 5], "being": 2, "space": 2, "200": [2, 3, 4], "apart": 2, "same": [2, 3, 13], "wai": 2, "except": [2, 3, 4], "replac": [2, 3, 4], "mlo": [2, 3, 4, 5, 7], "scalar": [2, 7, 13], "variabl": [2, 6, 8, 9, 12, 13], "vari": 2, "time": [2, 3, 4, 5, 6, 7, 9, 13], "ncol": [2, 3, 4, 7, 9, 12], "while": [2, 3, 4], "vertic": [2, 3, 6, 8, 9, 13], "resolv": [2, 3, 7, 13], "addition": 2, "lev": [2, 3, 5, 7, 12], "For": [2, 4, 11], "lower": 2, "indic": [2, 3, 7], "higher": 2, "level": [2, 3, 4, 5, 8, 9], "atmospher": [2, 5], "thi": [2, 3, 4, 5, 6, 9, 10, 11, 13], "becaus": [2, 3], "pressur": [2, 5, 7, 12], "decreas": [2, 10], "monoton": [2, 10], "altitud": 2, "full": [2, 13], "list": [2, 7, 8, 10], "found": [2, 6, 12, 13], "supplementari": 2, "tabl": [2, 7], "There": [2, 12], "also": [2, 7], "quickstart": 2, "contain": [2, 7, 13], "subsampl": [2, 8, 10, 13], "prenorm": [2, 13], "wa": [2, 13], "train": [2, 5, 12, 13], "valid": [2, 4, 7, 13], "metric": [2, 3, 4, 6, 13], "reproduc": [2, 4, 13], "preprocess": [2, 8, 11, 13], "create_npy_data_split": [2, 13], "ipynb": [2, 13], "import": [3, 4, 5, 7], "xarrai": [3, 4, 5, 11, 13], "xr": [3, 4, 5, 7, 8, 9, 10], "numpi": [3, 4, 5, 7], "np": [3, 4, 5, 8, 9, 10], "matplotlib": [3, 4, 5, 7, 9], "pyplot": [3, 4, 5, 7], "plt": [3, 4, 5, 7, 8, 9], "glob": [3, 4, 7], "os": [3, 4, 5], "random": [3, 4, 12], "tensorflow": [3, 4, 9, 10, 11, 13], "kera": [3, 4], "physical_devic": [3, 4], "config": [3, 4, 8, 9, 10], "list_physical_devic": [3, 4], "gpu": [3, 4], "print": [3, 4, 9], "try": [3, 4], "kgpu": [3, 4], "len": [3, 4, 7, 9], "experiment": [3, 4], "set_memory_growth": [3, 4], "true": [3, 4, 7, 9], "invalid": [3, 4, 7, 9], "devic": [3, 4], "cannot": [3, 4], "modifi": [3, 4], "virtual": [3, 4], "onc": [3, 4, 5], "initi": [3, 4, 5], "pass": [3, 4], "2023": [3, 4, 7, 9, 10], "05": [3, 4, 7], "26": [3, 6, 7, 9], "18": [3, 4, 6, 9], "17": [3, 4, 6, 7, 9], "02": [3, 5], "868544": 3, "i": [3, 4, 6, 7, 9, 10], "tsl": 3, "cuda": [3, 4], "cudart_stub": 3, "cc": [3, 4, 9, 10], "28": [3, 5, 6, 7, 9], "could": [3, 9, 10], "find": [3, 4, 9, 10], "driver": [3, 4], "your": [3, 11, 13], "machin": 3, "948491": 3, "949921": 3, "core": [3, 4, 9, 10], "platform": [3, 4, 9, 10], "cpu_feature_guard": [3, 4, 9, 10], "182": [3, 6, 9, 10], "binari": [3, 4, 9, 10], "optim": [3, 4, 9, 10], "avail": [3, 4, 9, 10], "cpu": [3, 4, 9, 10], "instruct": [3, 4, 9, 10], "perform": [3, 4, 6, 9, 10], "critic": [3, 4, 9, 10], "enabl": [3, 4, 9, 10], "avx2": [3, 4, 9, 10], "fma": [3, 4, 9, 10], "other": [3, 4, 9, 10], "rebuild": [3, 4, 9, 10], "appropri": [3, 4, 9, 10], "compil": [3, 4, 9, 10], "flag": [3, 4, 9, 10], "04": [3, 7, 10], "241559": 3, "w": [3, 4, 6, 7, 8, 9, 10, 12], "tf2tensorrt": [3, 9, 10], "util": [3, 4, 7, 9, 10], "py_util": [3, 9, 10], "38": [3, 6, 7, 9, 10], "trt": [3, 9, 10], "warn": [3, 7, 9, 10], "tensorrt": [3, 9, 10], "note": [3, 4, 5], "ptend_t": [3, 4, 7, 8, 9], "ptend_q0001": [3, 4, 7, 8, 9], "calcul": [3, 4, 6, 10], "http": [3, 4, 6, 7], "googl": [3, 4], "com": [3, 4, 6, 7], "spreadsheet": [3, 4], "d": [3, 4, 7], "1ljrfhq6qb36u0tuoxqxcv4_dsqur0x4uimz4qhr8f9m": [3, 4], "edit": [3, 4], "gid": [3, 4], "0": [3, 4, 5, 6, 7, 8, 9, 10], "out": [3, 4, 5, 13], "cfg": 3, "dict": [3, 5, 7, 8, 9, 10], "vars_mli": [3, 4], "state_t": [3, 4], "state_q0001": [3, 4, 5], "state_p": [3, 4, 5, 7], "pbuf_solin": [3, 4], "pbuf_lhflx": [3, 4, 5], "pbuf_shflx": [3, 4], "vars_mlo": [3, 4, 7], "cam_out_netsw": [3, 4, 7, 9], "cam_out_flwd": [3, 4, 7, 9], "cam_out_precsc": [3, 4, 7, 9], "cam_out_precc": [3, 4, 5, 7, 9], "cam_out_sol": [3, 4, 7, 9], "cam_out_solsd": [3, 4, 7, 9], "cam_out_solld": [3, 4, 7, 9], "ref": [3, 4, 7], "www": [3, 4], "noahbrenowitz": [3, 4], "post": [3, 4], "loading_netcdf": [3, 4], "org": [3, 4], "api_doc": [3, 4], "python": [3, 4, 7, 11, 13], "class": 3, "e3smdataset": 3, "def": [3, 4, 5, 7], "__init__": 3, "self": 3, "verbos": 3, "fals": [3, 4, 7, 8, 9], "normal": [3, 7, 8, 9, 10], "mli_mean": [3, 4, 7], "open_dataset": [3, 4, 5, 7, 8, 9, 10], "norm_factor": [3, 4, 7], "mli_min": [3, 4, 7], "mli_max": [3, 4, 7], "mlo_scal": [3, 4, 7], "init": 3, "shape": [3, 4, 7, 9], "in_out_shap": 3, "flatten_layers_and_vars_1d": 3, "ds": [3, 4, 7], "dso": [3, 4], "concaten": [3, 4], "all": [3, 6, 7, 11, 13], "batch": [3, 4], "124": [3, 4, 7], "128": [3, 4, 7, 9], "stack": [3, 4], "to_stacked_arrai": [3, 4, 7], "mlvar": [3, 4], "sample_dim": [3, 4, 7], "name": [3, 4], "return": [3, 4, 5, 7], "pad_and_stack_layers_and_vars_1d": 3, "pad": [3, 7], "n_vertical_level": 3, "n_variabl": 3, "e": [3, 4, 5, 6, 7], "g": [3, 5, 7, 8, 9], "60": [3, 4, 6, 7], "6": [3, 4, 6, 7, 8, 9, 10], "arg": 3, "arr": 3, "dataarrai": [3, 5, 7], "arro": 3, "broadcast": [3, 13], "repeat": [3, 4], "across": [3, 8], "to_arrai": 3, "transpos": [3, 5, 7, 8, 9], "load_nc_dir_with_gener": [3, 4], "filelist": [3, 4], "f_mli": [3, 4], "engin": [3, 4], "netcdf4": [3, 4], "dim": [3, 5, 7], "in_shap": 3, "none": [3, 4, 7, 10], "out_shap": 3, "els": [3, 7, 9], "gener": [3, 4, 7], "function": [3, 4, 6], "gen": [3, 4], "read": [3, 4, 7], "varial": [3, 4], "1200": [3, 4, 5], "t": [3, 4, 5, 7, 12], "tendenc": [3, 4, 12], "k": [3, 4, 7, 12], "q": [3, 4, 7, 12], "kg": [3, 4, 5, 7, 12], "yield": [3, 4], "valu": [3, 4, 5, 7, 9], "from_gener": [3, 4], "output_typ": [3, 4], "float64": [3, 4, 7], "output_shap": [3, 4], "size": [3, 4, 7, 10], "dimens": [3, 4, 7, 12, 13], "document": [3, 4], "1hgfzzjm0sygjwvsaj5ksfql9axufkvlybl36p": [3, 4], "vmdzc": [3, 4], "pathlib": 3, "path": [3, 4, 7, 8, 9, 10], "get_filenam": 3, "dataroot": 3, "stride_sampl": [3, 8, 10], "rel": [3, 5], "wildcard": 3, "int": [3, 4, 7], "pick": 3, "everi": [3, 4], "nth": 3, "filepath": [3, 4], "extend": 3, "str": [3, 7], "sort": [3, 4, 7], "f_mli1": [3, 4], "f_mli2": [3, 4], "comment": 3, "seem": 3, "unecessari": 3, "shuffl": [3, 4], "72": [3, 4, 6, 7, 9], "debug": [3, 4], "unnecessari": 3, "twice": 3, "micro_sampl": 3, "todo": 3, "ritwik": 3, "sure": [3, 7], "correct": [3, 7], "test": [3, 13], "split": [3, 4], "filenames_train": 3, "000": [3, 4], "1234567": 3, "0008": [3, 8, 10], "01": [3, 4, 8, 10], "filenames_v": 3, "23456789": [3, 4, 8, 10], "012": [3, 4, 8, 10], "0009": [3, 8, 10], "f_mli_val": [3, 4], "depend": [3, 11, 13], "which": [3, 7, 10, 13], "shuffle_buff": [3, 4], "12": [3, 4, 5, 6, 9], "come": [3, 5], "batch_siz": [3, 4], "float": 3, "4": [3, 4, 6, 8, 13], "96": [3, 4, 6], "presum": 3, "number": [3, 7, 9], "doubl": 3, "unbatch": [3, 4], "prefetch": [3, 4], "sens": 3, "them": [3, 4], "couldn": 3, "anyth": 3, "wrong": 3, "don": 3, "fulli": 3, "understand": 3, "how": [3, 12, 13], "should": [3, 7], "randomli": 3, "td": [3, 4], "buffer_s": [3, 4], "reshuffle_each_iter": [3, 4], "relat": 3, "tds_val": [3, 4], "count_batch": [3, 4], "take": [3, 4], "nfile": [3, 4], "next": [3, 5], "iter": 3, "var": [3, 4, 5, 7, 8], "reduce_min": 3, "reduce_max": 3, "assum": [3, 5], "posit": [3, 5], "3840": 3, "08": [3, 9, 10], "059325": 3, "common_runtim": [3, 4], "executor": 3, "1197": 3, "info": [3, 4, 7, 8, 9, 10], "start": [3, 7], "abort": 3, "an": [3, 7, 13], "error": [3, 5, 6], "you": [3, 4, 7, 11, 13], "ignor": 3, "messag": [3, 7], "invalid_argu": 3, "must": 3, "feed": 3, "placehold": 3, "tensor": 3, "_0": 3, "dtype": 3, "int32": 3, "node": [3, 4], "061563": 3, "0254011839104458": 3, "1109701538780046": 3, "3392385424469184": 3, "distribut": [3, 4, 7], "mirroredstrategi": [3, 4], "strategi": [3, 4], "speed": [3, 4], "up": [3, 4], "process": [3, 4], "possibl": [3, 4], "due": [3, 4, 7], "current": [3, 4], "sequenti": [3, 4], "scope": [3, 4], "param": [3, 4], "input_length": [3, 4], "output_length_lin": [3, 4], "output_length_relu": [3, 4], "8": [3, 4, 6, 9], "output_length": [3, 4], "n_node": [3, 4], "512": [3, 4], "constrcut": [3, 4], "input_lay": [3, 4], "hidden_0": [3, 4], "dens": [3, 4], "relu": [3, 4], "hidden_1": [3, 4], "output_pr": [3, 4], "elu": [3, 4], "output_lin": [3, 4], "linear": [3, 4], "output_relu": [3, 4], "output_lay": [3, 4], "emul": [3, 4], "summari": [3, 4], "adam": [3, 4], "learning_r": [3, 4], "clr": [3, 4], "loss": [3, 4], "mse": [3, 4, 7], "mae": [3, 4, 6, 9], "accuraci": [3, 4], "__________________________________________________________________________________________________": [3, 4], "type": [3, 4], "connect": [3, 4], "inputlay": [3, 4], "64000": [3, 4], "dense_1": [3, 4], "262656": [3, 4], "dense_2": [3, 4], "65664": [3, 4], "dense_3": [3, 4], "120": [3, 4, 7], "15480": [3, 4], "dense_4": [3, 4], "1032": [3, 4], "408": [3, 4], "832": [3, 4], "trainabl": [3, 4], "non": [3, 4], "flatten": [3, 7], "dropout": 3, "conv1d": 3, "maxpooling1d": 3, "init_cnn": 3, "n_vertical_var": 3, "channel_dim": 3, "32": [3, 4, 8], "kernel": [3, 4], "gelu": 3, "pre_out_activ": 3, "norm": [3, 7], "resnet": 3, "style": 3, "1d": 3, "treat": [3, 13], "spatial": [3, 7], "architectur": 3, "residu": 3, "block": 3, "conv": 3, "special": 3, "norm_lay": 3, "get_normalization_lay": 3, "length": [3, 7], "match": 3, "1st": 3, "argument": 3, "set": [3, 4, 13], "asid": 3, "previous_block_activ": 3, "filter": 3, "kernel_s": 3, "zip": [3, 8, 9, 10], "appli": 3, "zero": [3, 7, 9, 10], "add": [3, 7], "se_block": 3, "project": [3, 8, 9, 10], "stride": 3, "back": [3, 7], "anoth": 3, "last": [3, 7], "particular": 3, "axi": [3, 4, 7, 9, 10], "given": 3, "string": [3, 7, 8, 9], "hard": [3, 5], "layer_norm": 3, "layernorm": 3, "elif": [3, 7], "batch_norm": 3, "batchnorm": 3, "rid": 3, "hardcod": 3, "64": [3, 6], "256": 3, "featur": 3, "determin": [3, 6], "Is": 3, "either": 3, "entri": [3, 7], "intern": 3, "right": [3, 5, 7, 9], "befor": 3, "Not": 3, "why": 3, "lr": 3, "001": [3, 6], "epsilon": 3, "1e": 3, "small": 3, "constant": [3, 5], "numer": 3, "stabil": 3, "default": 3, "07": [3, 7, 9], "But": 3, "mention": 3, "weight_decai": 3, "probabl": [3, 6, 13], "schedul": 3, "tfa": 3, "cyclicallearningr": 3, "initial_learning_r": 3, "init_lr": 3, "maximal_learning_r": 3, "max_lr": 3, "scale_fn": 3, "lambda": 3, "step_siz": 3, "steps_per_epoch": 3, "scale_mod": 3, "cycl": 3, "input_1": 3, "992": 3, "conv1d_1": 3, "5152": 3, "activation_1": 3, "dropout_1": 3, "conv1d_2": 3, "224": [3, 6], "conv1d_3": 3, "10304": 3, "activation_2": 3, "dropout_2": 3, "conv1d_4": 3, "20544": 3, "activation_3": 3, "dropout_3": 3, "conv1d_5": 3, "2112": 3, "add_1": 3, "conv1d_6": 3, "41088": 3, "activation_4": 3, "dropout_4": 3, "conv1d_7": 3, "82048": 3, "activation_5": 3, "dropout_5": 3, "conv1d_8": 3, "8320": 3, "add_2": 3, "conv1d_9": 3, "164096": 3, "activation_6": 3, "dropout_6": 3, "conv1d_10": 3, "327936": 3, "activation_7": 3, "dropout_7": 3, "conv1d_11": 3, "33024": 3, "add_3": 3, "conv1d_12": 3, "2570": 3, "dense_5": 3, "22": [3, 6, 9], "dense_6": 3, "88": [3, 6, 9], "concatenate_1": 3, "698": 3, "520": 3, "callback": [3, 4], "tensorboard": [3, 4], "tboard_callback": [3, 4], "log_dir": [3, 4], "logs_tensorboard": [3, 4], "histogram_freq": [3, 4], "b": [3, 4, 7], "checkpoint": [3, 4], "filepath_checkpoint": [3, 4], "saved_model": [3, 4], "best_model_proto": [3, 4], "h5": [3, 4, 7, 8, 9, 10], "checkpoint_callback": [3, 4], "modelcheckpoint": [3, 4], "save_weights_onli": [3, 4], "monitor": [3, 4], "val_ms": [3, 4], "mode": [3, 4], "min": [3, 4, 7], "save_best_onli": [3, 4], "c": [3, 4, 5, 7], "csv": [3, 4], "logger": [3, 4], "filepath_csv": [3, 4], "csv_logger": [3, 4], "txt": [3, 4], "csv_callback": [3, 4], "csvlogger": [3, 4], "separ": [3, 4, 6, 7, 10, 13], "append": [3, 4], "my_callback": [3, 4], "mkdir": [3, 4], "n_epoch": [3, 4], "40": [3, 6], "fit": [3, 4], "validation_data": [3, 4], "epoch": [3, 4], "136165": 3, "137648": 3, "unknown": [3, 4], "27": [3, 4, 6, 9], "491m": 3, "step": [3, 4, 5, 7, 13], "1615": 3, "1982": 3, "7801": 3, "39": 3, "919740": 3, "920500": 3, "best": [3, 7, 8, 9, 10], "onli": [3, 4, 5], "skip": 3, "29": [3, 9], "542m": 3, "eta": 3, "0s": 3, "0552": 3, "1205": 3, "9368warn": 3, "415m": 3, "9368": 3, "0471": 3, "1050": 3, "9433warn": 3, "422m": 3, "9433": 3, "0449": 3, "1025": 3, "9452warn": 3, "430m": 3, "9452": 3, "0450": 3, "9467warn": 3, "23": [3, 6, 7, 9, 10], "577m": 3, "9467": 3, "0435": 3, "1010": 3, "9454warn": 3, "432m": 3, "9454": 3, "0417": 3, "0978": 3, "9492warn": 3, "402m": 3, "9492": 3, "0414": 3, "0992": 3, "9480warn": 3, "16": [3, 7, 10], "388m": 3, "9480": 3, "0390": 3, "0944": 3, "9506warn": 3, "396m": 3, "9506": 3, "0393": 3, "0949": 3, "9521warn": 3, "383m": 3, "9521": 3, "0384": 3, "0939": 3, "409m": 3, "0375": 3, "0930": 3, "9483warn": 3, "412m": 3, "9483": 3, "13": [3, 4, 6, 7, 9], "0371": 3, "0928": 3, "9500warn": 3, "395m": 3, "9500": 3, "14": [3, 5, 6, 9], "0364": 3, "0913": 3, "9523warn": 3, "421m": 3, "9523": 3, "15": [3, 4, 6, 7], "0352": 3, "0899": 3, "9508warn": 3, "424m": 3, "9508": 3, "0338": 3, "0867": 3, "19": [3, 4, 6, 7, 9], "469m": 3, "0337": 3, "0877": 3, "9538warn": 3, "715m": 3, "9538": 3, "0331": 3, "0862": 3, "9530warn": 3, "509m": 3, "9530": 3, "0315": 3, "0837": 3, "9536warn": 3, "475m": 3, "9536": 3, "0308": 3, "0820": 3, "9565warn": 3, "532m": 3, "9565": 3, "0823": 3, "9542warn": 3, "615m": 3, "9542": 3, "0297": 3, "0807": 3, "9579warn": 3, "25": [3, 4, 6, 7, 9, 10], "595m": 3, "9579": 3, "0299": 3, "9513warn": 3, "466m": 3, "9513": 3, "24": 3, "0293": 3, "0803": 3, "9557warn": 3, "479m": 3, "9557": 3, "0289": 3, "0796": 3, "9570warn": 3, "367m": 3, "9570": 3, "0292": 3, "0806": 3, "375m": 3, "0283": 3, "0785": 3, "9541warn": 3, "461m": 3, "9541": 3, "0276": 3, "0771": 3, "9586warn": 3, "493m": 3, "9586": 3, "0236": [3, 4], "0750": 3, "9577warn": 3, "618m": 3, "9577": 3, "30": [3, 4, 6, 9], "0201": 3, "0712": 3, "632m": 3, "31": [3, 6], "0186": 3, "0685": 3, "9568warn": 3, "514m": 3, "9568": 3, "0175": 3, "0668": 3, "598m": 3, "33": [3, 6, 9], "0173": 3, "0658": 3, "9582warn": 3, "551m": 3, "9582": 3, "34": [3, 6, 7, 9], "0167": 3, "0646": 3, "9601warn": 3, "594m": 3, "9601": 3, "35": [3, 4, 6, 7], "0171": 3, "0650": 3, "9544warn": 3, "539m": 3, "9544": 3, "36": [3, 6, 9], "0166": 3, "0647": 3, "9610warn": 3, "515m": 3, "9610": 3, "37": [3, 4, 6, 9, 10], "0156": 3, "0620": 3, "9609warn": 3, "530m": 3, "9609": 3, "0161": 3, "0630": 3, "500m": 3, "0149": 3, "0609": 3, "9602warn": 3, "484m": 3, "9602": 3, "0151": 3, "0614": 3, "9612warn": 3, "442m": 3, "9612": 3, "histori": 3, "0x7f471361dbe0": 3, "old": 3, "loop": 3, "That": 3, "me": 3, "manual": [3, 4], "order": [3, 4, 7], "howev": [3, 4], "slow": [3, 4], "so": [3, 4, 5], "emploi": [3, 4], "n": [3, 4, 5, 7], "load": [3, 5, 12], "again": 3, "nn_epoch": 3, "nshuffle_buff": 3, "nn": 3, "nwhile": 3, "x_true": [3, 4, 7], "y_true": [3, 4, 7], "one": [3, 7], "singl": [3, 7], "y_pred": [3, 4, 7], "tensorshap": 3, "new": [3, 4], "ha": [3, 4, 7, 9], "option": [3, 4], "latlim": [3, 4], "lonlim": [3, 4], "ne4_grid_info": [3, 4], "test_data": [3, 4], "mmf_ne4_grid": [3, 4, 7], "orig": [3, 4, 7], "load_nc_dir_with_generator_test": [3, 4], "999": [3, 4, 6, 7], "merg": [3, 4, 7], "lat": [3, 4, 5, 7], "lon": [3, 4, 5, 7], "drop": [3, 4], "normalizatoin": [3, 4], "One": [3, 4, 7], "snapshot": [3, 4], "10th": [3, 4], "dir_test_sampl": [3, 4], "home": [3, 4, 7], "sungduk": [3, 4, 5, 7], "work": [3, 4, 7], "leap": [3, 4, 6], "mmf_baselin": [3, 4], "0010": [3, 4], "tds_test": [3, 4], "arrai": [3, 4], "defeat": [3, 4], "purpos": [3, 4, 5], "just": [3, 4], "do": [3, 4, 13], "as_numpy_iter": [3, 4], "107260": 3, "load_model": [3, 4], "fig": [3, 4, 7, 9], "ax": [3, 4, 7, 9, 10], "subplot": [3, 4, 7, 9], "suptitl": [3, 4, 7], "h0": [3, 4], "pcolor": [3, 4, 10], "vmin": [3, 4, 5, 7, 10], "vmax": [3, 4, 5, 7, 10], "set_titl": [3, 4, 7, 9], "set_ylabel": [3, 4, 7, 9], "set_xlabel": [3, 4, 7, 9], "colorbar": [3, 4, 5, 7], "orient": [3, 4], "set_size_inch": [3, 4, 7, 9], "ax_": [3, 4], "h1": [3, 4], "h2": [3, 4], "cmap": [3, 4, 5, 7, 10], "bwr": [3, 4], "mean": [3, 4, 6, 7, 8, 9, 10], "seri": [3, 4], "0001": [3, 5], "12345": [3, 4], "160": [3, 4], "56": [3, 4], "650758": 3, "y_true_mean_t": [3, 4], "y_pred_mean_t": [3, 4], "western": [3, 4], "eq": [3, 4], "pacif": [3, 4], "y_true_mean_q": [3, 4], "y_pred_mean_q": [3, 4], "kvar": [3, 4, 7], "enumer": [3, 4, 7], "y_true_surface_var": [3, 4], "y_pred_surface_var": [3, 4], "601764": 4, "193": 4, "oneapi": 4, "deep": [4, 7], "librari": 4, "onednn": 4, "sse4": 4, "avx": 4, "42": [4, 6, 9], "919495": 4, "xla": 4, "stream_executor": 4, "cuda_driv": 4, "267": [4, 6], "fail": 4, "cuinit": 4, "cuda_error_no_devic": 4, "capabl": 4, "detect": 4, "919558": 4, "cuda_diagnost": 4, "156": 4, "appear": 4, "cori16": 4, "proc": 4, "nvidia": 4, "version": [4, 13], "exist": 4, "pscratch": [4, 5], "sd": [4, 5], "mmf_ne4": 4, "123456": 4, "0007": 4, "realtion": 4, "f_mli3": 4, "89": 4, "val": 4, "15768": 4, "6054912": 4, "017261": 4, "753492": 4, "gpu_devic": 4, "1613": 4, "job": 4, "localhost": 4, "replica": 4, "task": 4, "38250": 4, "memori": 4, "a100": 4, "sxm4": 4, "40gb": 4, "pci": 4, "bu": 4, "id": 4, "0000": 4, "03": [4, 7, 10], "00": [4, 6, 8, 10], "comput": [4, 5, 6], "755102": 4, "756681": 4, "82": [4, 6], "758286": 4, "c1": 4, "864": 4, "331776": 4, "physicaldevic": 4, "device_typ": 4, "element": 4, "583558": 4, "cuda_bla": 4, "630": 4, "tensorfloat": 4, "matrix": 4, "log": [4, 7, 9], "595604": 4, "servic": 4, "173": 4, "0x7f9918018250": 4, "guarante": 4, "595620": 4, "181": 4, "streamexecutor": 4, "595624": 4, "595626": 4, "595629": 4, "600052": 4, "mlir": 4, "dump_mlir_util": 4, "268": 4, "disabl": 4, "crash": 4, "mlir_crash_reproducer_directori": 4, "621958": 4, "nvptx_helper": 4, "libdevic": 4, "cuda_dir": 4, "nvvm": 4, "mai": [4, 10], "runtim": 4, "failur": 4, "program": 4, "routin": 4, "search": 4, "cuda_sdk_lib": 4, "usr": 4, "choos": 4, "xla_gpu_cuda_data_dir": 4, "hlomodul": 4, "debugopt": 4, "most": 4, "app": 4, "xla_flag": 4, "705394": 4, "jit": 4, "xla_compilation_cach": 4, "477": 4, "cluster": 4, "line": [4, 5, 9], "lifetim": 4, "63072": 4, "1096": 4, "17m": 4, "0044": 4, "0254": 4, "9727": 4, "val_loss": 4, "0041": 4, "val_ma": 4, "0244": 4, "val_accuraci": 4, "9762": 4, "1071": 4, "0240": 4, "9761": 4, "0040": 4, "0238": 4, "9766": 4, "1035": 4, "16m": 4, "9769": 4, "0237": 4, "9774": 4, "9773": 4, "0239": 4, "9764": 4, "1033": 4, "0039": 4, "9775": 4, "1046": 4, "0235": 4, "9776": 4, "0234": 4, "9780": 4, "9778": 4, "9784": 4, "9777": 4, "1049": 4, "9782": 4, "1064": 4, "0038": 4, "1073": 4, "9783": 4, "9786": 4, "22445": 4, "357": 4, "360": 4, "plot": [4, 5, 6], "demonstr": 5, "summar": 5, "sum_i": 5, "left": [5, 7], "delta": 5, "q_v": 5, "q_l": 5, "q_i": 5, "frac": 5, "p_i": 5, "p": [5, 7], "state_q0002": 5, "state_q0003": 5, "l_v": 5, "datadir": 5, "mmf_ne30": 5, "72000": 5, "begin": 5, "integr": [5, 7], "need": 5, "construct": [5, 7], "thick": [5, 7], "interfac": 5, "a_k": 5, "p_o": 5, "b_k": 5, "p_": 5, "condit": [5, 12], "here": [5, 13], "extract": [5, 8, 10], "coeffici": [5, 6, 7], "fix": 5, "dure": 5, "physic": [5, 7], "parameter": 5, "initial_condit": 5, "cf": 5, "cdir": 5, "inputdata": 5, "atm": 5, "cam": 5, "inic": 5, "homm": 5, "eam_i_mam3_linoz_ne30np4_l60_c20210917": 5, "ifac": 5, "hyai": [5, 7], "hybi": [5, 7], "p0": [5, 7], "get_pressure_thick": 5, "ps": [5, 7, 12], "coord": 5, "getpint": 5, "pint": 5, "attr": 5, "updat": [5, 7], "unit": [5, 6, 8, 9, 12], "pa": [5, 12], "long_nam": 5, "dp_temp": 5, "diff": 5, "ilev": [5, 7], "renam": [5, 7, 8, 9], "dp": [5, 7, 8, 9], "state_pmid": 5, "igrav": 5, "80616": [5, 7], "ci_": 5, "sum": [5, 7, 9, 10], "total_wat": 5, "ci_state_q0001": 5, "ci_state_q0002": 5, "ci_state_q0003": 5, "surfac": [5, 7, 12], "flux": [5, 7, 12], "evapotranspir": 5, "precipit": 5, "surface_water_flux": 5, "1e3": 5, "convert": [5, 6, 7, 8, 9], "m": [5, 7, 8, 9, 12], "m2": [5, 7], "factor": 5, "1000": 5, "expected_wat": 5, "water_error": 5, "water_error_rel": 5, "check": [5, 13], "variou": 5, "map": [5, 7], "look": 5, "geograph": 5, "pattern": 5, "within": [5, 7], "few": 5, "percent": 5, "line2d": 5, "0x7f6a3d1b6150": 5, "figsiz": 5, "scatter": 5, "rdbu_r": 5, "xlabel": [5, 8], "longitud": 5, "ylabel": [5, 8], "latitud": [5, 7], "titl": [5, 8], "mass": [5, 7], "0x7f6a39183c90": 5, "four": 6, "differ": [6, 7, 12], "absolut": 6, "r\u00b2": 6, "root": [6, 11, 13], "squar": 6, "rmse": [6, 7, 9], "continu": [6, 7], "rank": 6, "crp": [6, 7], "comparison": 6, "stc": 6, "tree": 6, "main": 6, "common": [6, 7, 8, 9], "energi": [6, 8, 9], "m\u00b2": [6, 12], "done": 6, "climsim_util": [6, 8, 9, 10, 11, 13], "data_util": [6, 13], "py": [6, 7, 9, 13], "longitudin": 6, "averag": [6, 8], "3d": [6, 7], "shown": [6, 12], "below": [6, 12], "ed": [6, 7, 8, 9, 10, 12], "hsr": [6, 7, 8, 9, 10, 12], "rpn": [6, 7, 8, 9, 10, 12], "cvae": [6, 7, 8, 9, 10, 12], "dt": [6, 7, 9, 12], "585": 6, "684": 6, "845": 6, "683": 6, "685": 6, "732": 6, "dq": [6, 7, 12], "401": 6, "673": 6, "784": 6, "495": 6, "592": 6, "680": 6, "netsw": [6, 7, 9, 12], "85": [6, 9], "968": 6, "73": 6, "flwd": [6, 7, 9, 12], "598": 6, "894": 6, "018": 6, "588": 6, "precsc": [6, 7, 9, 12], "364": 6, "046": 6, "511": 6, "328": 6, "322": 6, "precc": [6, 7, 9, 12], "83": 6, "250": 6, "46": 6, "81": 6, "sol": [6, 7, 9, 12], "554": 6, "97": [6, 7], "94": 6, "soll": [6, 7, 9, 12], "924": 6, "solsd": [6, 7, 9, 12], "817": 6, "075": 6, "331": 6, "533": 6, "846": 6, "159": 6, "solld": [6, 7, 9, 12], "679": 6, "136": 6, "215": 6, "806": 6, "702": 6, "066": 6, "627": 6, "542": 6, "568": 6, "589": 6, "617": 6, "590": 6, "944": 6, "980": 6, "959": 6, "983": 6, "957": 6, "828": 6, "802": 6, "904": 6, "912": 6, "883": 6, "077": 6, "909": 6, "68": [6, 9], "69": 6, "67": [6, 9], "926": 6, "927": 6, "960": 6, "929": 6, "961": 6, "943": 6, "916": 6, "945": 6, "948": 6, "928": 6, "915": 6, "951": 6, "923": 6, "956": 6, "940": 6, "921": 6, "813": 6, "857": 6, "797": 6, "866": 6, "837": 6, "796": 6, "369": 6, "696": 6, "825": 6, "421": 6, "482": 6, "721": 6, "284": 6, "643": 6, "896": 6, "518": 6, "780": 6, "91": 6, "537": 6, "77": 6, "71": 6, "86": 6, "070": 6, "220": 6, "969": 6, "914": 6, "530": 6, "078": 6, "095": 6, "734": 6, "76": [6, 9], "682": 6, "90": [6, 7, 9], "58": 6, "92": 6, "540": 6, "78": 6, "95": [6, 7], "917": 6, "420": 6, "417": 6, "47": 6, "63": 6, "580": 6, "795": 6, "899": 6, "022": 6, "372": 6, "055": 6, "053": 6, "057": 6, "016": 6, "011": 6, "008": 6, "009": 6, "122": 6, "085": 6, "097": 6, "031": 6, "028": 6, "033": 6, "038": 6, "035": 6, "040": 6, "015": 6, "017": 6, "author": 7, "yu": 7, "wed": 7, "aug": 7, "52": 7, "pm": 7, "pdt": 7, "descript": [7, 12], "script": [7, 13], "three": 7, "manuscript": 7, "crps_clean": 7, "written": 7, "bhouri0412": 7, "In": 7, "presav": 7, "npy": [7, 8, 9, 10, 13], "model_nam": [7, 8, 9, 10], "fn_x_true": 7, "fn_y_tru": 7, "fn_y_pr": 7, "predict": [7, 8, 9], "fn_grid": 7, "netcdif": 7, "fn_mli_mean": 7, "fn_mli_min": 7, "fn_mli_max": 7, "max": 7, "fn_mlo_scal": 7, "fn_save_metr": 7, "fn_save_metrics_avg": 7, "avg": 7, "over": [7, 9], "fn_model_output": 7, "model_output": 7, "001_backup_phas": [7, 8, 9, 10], "7_retrained_models_step2_lot": [7, 8, 9, 10], "147_trial_0027": [7, 8, 9, 10], "rpn_pred_v1_stride6": [7, 8, 9, 10], "val_predict_cnn_reshaped_stride6_fin": [7, 8, 9, 10], "hsr_preds_bestcrp": [7, 8, 9, 10], "ed_climsim_1_3_pr": [7, 8, 9, 10], "npy_data_convers": 7, "npy_fil": 7, "val_input_stride6": 7, "val_target_stride6": 7, "varlid": 7, "grid_info": [7, 8, 9, 10], "fn_save_output": 7, "want": [7, 13], "j": 7, "lv": 7, "rho_h2o": 7, "m3": 7, "constatn": 7, "e3sm_root": 7, "share": [7, 8, 9, 10], "shr_const_mod": 7, "f90": 7, "grav": 7, "acceler": 7, "graviti": 7, "00464e3": 7, "specif": [7, 12], "heat": [7, 8, 12], "dry": 7, "air": [7, 12], "501e6": 7, "latent": [7, 12], "evapor": 7, "lf": 7, "337e5": 7, "fusion": 7, "ls": 7, "sublim": 7, "rho_air": 7, "101325": 7, "02214e26": 7, "38065e": 7, "966": 7, "273": 7, "densiti": 7, "stp": 7, "2923182846924677": 7, "shr_const_pstd": 7, "shr_const_rdair": 7, "shr_const_tkfrz": 7, "shr_const_rga": 7, "shr_const_mwdair": 7, "shr_const_avogad": 7, "shr_const_boltz": 7, "rho_h20": 7, "e3": 7, "fresh": 7, "vars_mlo_energy_conv": 7, "vars_longnam": 7, "moisten": [7, 8, 12], "net": [7, 12], "shortwav": [7, 12], "downward": [7, 12], "longwav": [7, 12], "snow": [7, 12], "rate": [7, 12], "rain": [7, 12], "visibl": [7, 12], "direct": [7, 12], "solar": [7, 12], "Near": [7, 12], "ir": [7, 12], "diffus": [7, 12], "panda": 7, "pd": [7, 8, 9], "dimems": 7, "dim_name_level": 7, "dim_name_sampl": 7, "astyp": 7, "pred": [7, 8, 9, 10], "n_sampl": 7, "ds_grid": 7, "n_ncol": 7, "nlat": 7, "nlon": 7, "area_wgt": 7, "loayd": 7, "to_xarrai": 7, "tile": 7, "nsampl": 7, "hyam": 7, "hybm": 7, "vars_mlo_len": 7, "len_to_dim": 7, "dictionari": 7, "like": [7, 13], "dev": 7, "en": 7, "stabl": 7, "kd": 7, "format": 7, "kei": 7, "turpl": 7, "ie": 7, "kvar_len": 7, "kvar_dim": 7, "end": 7, "np_arrai": 7, "ind1": 7, "ind2": 7, "kvar_data": 7, "squeez": 7, "unscal": 7, "denorm": 7, "fyi": 7, "hybrid": 7, "sigma": 7, "coordin": [7, 10], "system": 7, "z": 7, "tmp": 7, "isel": 7, "slice": 7, "break": 7, "n_timestep": 7, "dim_ncol": 7, "arang": 7, "dim_timestep": 7, "new_ind": 7, "multiindex": 7, "from_product": 7, "assign_coord": 7, "unstack": 7, "del": 7, "equival": 7, "cell": [7, 8, 9, 10], "ds_energi": 7, "keep": [7, 13], "origin": [7, 10], "ptend_": 7, "q0001": 7, "rho": 7, "dz": 7, "all_metr": 7, "A": 7, "after": 7, "have": [7, 11, 13], "rest": 7, "analysi": 7, "desir": 7, "plane": 7, "select": [7, 8, 10], "varibl": 7, "caclul": 7, "ab": 7, "sqrt": 7, "kmetric": 7, "simpl": [7, 12], "metrics_stack": 7, "ml_out_idx": 7, "datafram": [7, 8, 9], "output_idx": 7, "to_csv": 7, "002488": 7, "005218": 7, "897846": 7, "004997": 7, "009940": 7, "934334": 7, "008768": 7, "013675": 7, "966718": 7, "014756": 7, "021097": 7, "982648": 7, "023048": 7, "030524": 7, "993642": 7, "123": 7, "333065": [7, 9], "876357": [7, 9], "685671": [7, 9], "970805": [7, 9], "403315": [7, 9], "961380": [7, 9], "125": 7, "299178": [7, 9], "954437": [7, 9], "947612": [7, 9], "126": 7, "533141": [7, 9], "420306": [7, 9], "955713": [7, 9], "127": 7, "806307": [7, 9], "118702": [7, 9], "866159": [7, 9], "row": 7, "Then": 7, "metrics_vert_avg": 7, "remov": 7, "dummi": 7, "to_panda": 7, "682765": [7, 9], "420904": [7, 9], "588987": [7, 9], "494752": [7, 9], "321821": [7, 9], "inf": [7, 9], "360915": 7, "707551": 7, "982684": [7, 9], "224468": [7, 9], "968642": [7, 9], "924299": [7, 9], "683915": [7, 9], "733680": [7, 9], "metric_mlp160": 7, "kmodel": 7, "mlpv1": 7, "mlpv2": 7, "csv_path": 7, "metrics_": 7, "top160": 7, "csv_file": 7, "df_list": 7, "read_csv": 7, "kf": 7, "index_col": 7, "concat": 7, "metric_mlp160_stat": 7, "median": 7, "std": 7, "p05": 7, "quantil": 7, "p10": 7, "p25": 7, "p75": 7, "75": 7, "p90": 7, "p95": 7, "nan": [7, 9], "tf_conda": 7, "lib": 7, "python3": 7, "site": 7, "packag": 7, "function_bas": 7, "4573": 7, "runtimewarn": [7, 9, 10], "encount": [7, 9, 10], "subtract": 7, "diff_b_a": 7, "without": 7, "metric_mlp160_lev": 7, "metric_mlp160_stat_lev": 7, "requir": 7, "fn_metric": 7, "fn_metrics_stack": 7, "assign": 7, "bar": [7, 8, 9], "color": 7, "davidmathlog": 7, "colorblind": 7, "23000000": 7, "23e69f00": 7, "2356b4e9": 7, "23009e73": 7, "23f0e442": 7, "230072b2": 7, "23d55e00": 7, "23cc79a7": 7, "lc_model": 7, "0072b2": 7, "e69f00": 7, "2b2b2b": 7, "882255": 7, "009e73": 7, "d55e00": 7, "56b4e9": 7, "short": 7, "var_short_nam": [7, 8, 9], "var_idx": 7, "surface_var": 7, "fn_crp": 7, "metrics_crp": 7, "rpn_crp": 7, "cvae_crp": 7, "hsr_crp": 7, "plot_this_model": 7, "plot_this_models_crp": 7, "plot_this_metr": 7, "subpanel": 7, "abc": 7, "abcdefg": 7, "plotdata": 7, "vertical_avg": 7, "plotdata_by_metr": 7, "k_plot_this_model": 7, "_ax": 7, "nrow": [7, 9], "sharex": [7, 9], "width": 7, "legend": [7, 8, 9], "set_xticklabel": [7, 9], "rotat": [7, 9], "center": [7, 9, 10], "spread": 7, "errbar_model": 7, "x_off": 7, "plot_x": 7, "plot_m": 7, "plot_low": 7, "plot_upp": 7, "errorbar": 7, "yerr": 7, "capsiz": 7, "lw": 7, "neg": 7, "set_ylim": [7, 9], "y": [7, 10], "set_yscal": [7, 9], "columnspac": [7, 9], "labelspac": [7, 9], "handleheight": [7, 9], "handlelength": [7, 9], "handletextpad": [7, 9], "borderpad": [7, 9], "loc": [7, 9], "upper": [7, 9], "tight_layout": [7, 9], "tell": 7, "idx_start": 7, "idx_end": 7, "iloc": 7, "isinf": 7, "fill_between": 7, "silver": 7, "zorder": 7, "ylim": 7, "sw_log": 7, "abbcdefghij": 7, "gridspec_kw": 7, "height_ratio": 7, "gs": 7, "get_gridspec": 7, "underli": 7, "axbig": 7, "add_subplot": 7, "93": 7, "horizontalalign": 7, "verticalalign": 7, "transform": 7, "transax": 7, "fontweight": 7, "demi": 7, "frameon": 7, "bottom": 7, "lot_this_model": 7, "kk": 7, "upto": 7, "cm": 7, "mpl_toolkit": 7, "axes_grid1": 7, "imagegrid": 7, "sklearn": 7, "r2_score": 7, "ds_hist": 7, "fn_y": 7, "fn_x": 7, "plot_hexbin": 7, "klev": 7, "xmin": 7, "xmax": 7, "ymin": 7, "ymax": 7, "imgrid": 7, "111": 7, "similar": 7, "nrows_ncol": 7, "2x2": 7, "axes_pad": 7, "between": 7, "inch": 7, "cbar_mod": 7, "cbar_loc": 7, "cbar_pad": 7, "aspect": 7, "panel_id": 7, "plotx": 7, "ploti": 7, "plotrms": 7, "plotr2": 7, "sample_weight": 7, "multioutput": 7, "uniform_averag": 7, "h": 7, "hexbin": 7, "gridsiz": 7, "50": 7, "extent": 7, "bin": 7, "mincnt": 7, "viridi": 7, "alpha": 7, "axlin": 7, "slope": 7, "linewidth": 7, "set_facecolor": 7, "efefef": 7, "set_xlim": 7, "prop": 7, "boxstyl": 7, "round": 7, "facecolor": 7, "wheat": 7, "nr2": 7, "2f": 7, "nrmse": 7, "va": 7, "bbox": 7, "fontsiz": 7, "2e": 7, "3f": 7, "cb": 7, "cbar_ax": 7, "set_label": 7, "count": 7, "55": 7, "2d": 7, "0025": 7, "0065": 7, "grid_path": [8, 9, 10], "ocean": [8, 9, 10], "atm200007p": [8, 9, 10], "jlin96": [8, 9, 10], "neurips_proj": [8, 9, 10], "climsim_low": [8, 9, 10], "res_grid": [8, 9, 10], "norm_path": [8, 9, 10], "input_mean": [8, 9, 10], "input_max": [8, 9, 10], "input_min": [8, 9, 10], "output_scal": [8, 9, 10], "input_path": [8, 9], "e3sm_train_npi": [8, 9, 10], "scoring_input": [8, 9, 10, 13], "target_path": [8, 9], "scoring_target": [8, 9, 10, 13], "cvae_pred_path": [8, 9, 10], "final_metr": [8, 9, 10], "cvae_preds_manu": [8, 9, 10], "ed_pred_path": [8, 9, 10], "behren": [8, 9, 10], "ed_behrens_2022": [8, 9, 10], "hsr_pred_path": [8, 9, 10], "rpn_pred_path": [8, 9, 10], "figure_ingredi": [8, 9, 10], "cnn_pred_path": [8, 9, 10], "mlp_pred_path": [8, 9, 10], "v1": [8, 9], "subset": [8, 9, 12], "set_to_v1_var": [8, 9], "input_scor": [8, 9, 10], "target_scor": [8, 9, 10], "set_pressure_grid": [8, 9, 10], "input_arr": [8, 9], "load_npy_fil": [8, 9, 10], "load_path": [8, 9, 10], "load_h5_fil": [8, 9, 10], "preds_scor": [8, 9, 10], "undo": [8, 9], "area": [8, 9], "reweight_target": [8, 9], "data_split": [8, 9, 10], "reweight_pr": [8, 9], "results_complet": 8, "results_temp": 8, "target_var": 8, "calc_bia": 8, "preds_weighted_scor": 8, "target_weighted_scor": 8, "avg_grid": 8, "data_path": [8, 10], "e3sm_train": [8, 10], "regular": [8, 10], "express": [8, 10], "set_regexp": [8, 10], "regexp": [8, 10], "tempor": [8, 10], "set_stride_sampl": [8, 10], "set_filelist": [8, 10], "pressure_grid_plot": [8, 10], "get_pressure_grid_plot": [8, 10], "y_pressur": 8, "4380": [8, 10], "135": 8, "51it": 8, "inlinebackend": [8, 9, 10], "figure_format": [8, 9, 10], "retina": [8, 9, 10], "letter": [8, 9], "ascii_lowercas": [8, 9], "xlim": 8, "gca": 8, "invert_yaxi": 8, "hpa": 8, "bia": 8, "text": 8, "metrics_nam": [8, 9], "create_metrics_df": [8, 9], "bias_df": 8, "metrics_var_scor": [8, 9], "941637": 9, "922437": 9, "tf": [9, 10], "r2": 9, "649": 9, "divid": [9, 10], "r_squar": 9, "sq_diff": 9, "tss_time": 9, "dict_idx": 9, "dict_var": 9, "metrics_idx_scor": 9, "plot_df_byvar": 9, "585418": 9, "732051": 9, "864516": 9, "844789": 9, "685253": 9, "d1": 9, "400639": 9, "679666": 9, "673036": 9, "784426": 9, "592410": 9, "845029": 9, "729191": 9, "967681": 9, "816967": 9, "360914": 9, "878685": 9, "597703": 9, "588051": 9, "893821": 9, "266635": 9, "017693": 9, "364180": 9, "321645": 9, "045900": 9, "511187": 9, "328444": 9, "825799": 9, "805963": 9, "250200": 9, "379195": 9, "455143": 9, "830984": 9, "939536": 9, "553734": 9, "314418": 9, "355971": 9, "152971": 9, "461330": 9, "923703": 9, "602788": 9, "955313": 9, "816831": 9, "158717": 9, "074686": 9, "330680": 9, "845594": 9, "678992": 9, "065650": 9, "136236": 9, "214983": 9, "701871": 9, "369106": 9, "720812": 9, "696491": 9, "824681": 9, "481825": 9, "283705": 9, "779619": 9, "642989": 9, "895550": 9, "518002": 9, "906747": 9, "364034": 9, "537017": 9, "773019": 9, "707550": 9, "596484": 9, "854747": 9, "529763": 9, "070148": 9, "219851": 9, "913915": 9, "000881": 9, "182026": 9, "078154": 9, "094945": 9, "511482": 9, "311686": 9, "711142": 9, "681968": 9, "640413": 9, "578238": 9, "916411": 9, "264985": 9, "998650": 9, "614026": 9, "606768": 9, "251214": 9, "812571": 9, "540191": 9, "778323": 9, "218968": 9, "126842": 9, "639114": 9, "916940": 9, "395840": 9, "996472": 9, "102328": 9, "624935": 9, "416563": 9, "474274": 9, "247108": 9, "627260": 9, "589693": 9, "541714": 9, "567524": 9, "617206": 9, "943800": 9, "956531": 9, "980463": 9, "959136": 9, "968036": 9, "827836": 9, "883237": 9, "801872": 9, "904115": 9, "912173": 9, "076930": 9, "926289": 9, "908577": 9, "347502": 9, "943146": 9, "927029": 9, "929375": 9, "959621": 9, "928777": 9, "942723": 9, "915685": 9, "915267": 9, "945472": 9, "916143": 9, "928029": 9, "927229": 9, "921261": 9, "950717": 9, "922621": 9, "939980": 9, "812537": 9, "796327": 9, "857180": 9, "797273": 9, "836630": 9, "62726": 9, "9438": 9, "36418": 9, "07693": 9, "46133": 9, "06565": 9, "89555": 9, "33068": 9, "39584": 9, "70755": 9, "73368": 9, "96138": 9, "59241": 9, "93998": 9, "83663": 9, "0459": 9, "2502": 9, "99865": 9, "91694": 9, "85718": 9, "hmm": 9, "1681920": 9, "__version__": 9, "show": 9, "644365": 10, "53": 10, "040170": 10, "scoring_data": 10, "input_scoring_path": 10, "target_scoring_path": 10, "weight": 10, "scoring_data_copi": 10, "deepcopi": 10, "72it": 10, "part": 10, "preds_copi": 10, "plot_r2_analysi": 10, "792": 10, "userwarn": 10, "interpret": 10, "increas": 10, "lead": 10, "incorrectli": 10, "edg": 10, "case": 10, "pleas": [10, 11], "suppli": 10, "explicit": 10, "contour_plot": 10, "coeff": 10, "blue": 10, "pcolormesh": 10, "799": 10, "pred_moist_daily_long": 10, "test_moist_daily_long": 10, "803": 10, "640x480": 10, "repo": [11, 13], "pip": [11, 13], "If": [11, 13], "alreadi": [11, 13], "etc": [11, 13], "altern": [11, 13], "dep": [11, 13], "six": 12, "encod": 12, "decod": 12, "heteroskedast": 12, "prior": 12, "variat": 12, "autoencod": 12, "describ": 12, "well": [12, 13], "pre": 12, "baseline_model": 12, "dataset": [12, 13], "temperatur": 12, "humid": 12, "solin": 12, "insol": 12, "lhflx": 12, "shflx": 12, "sensibl": 12, "train_input": 13, "train_target": 13, "val_input": 13, "val_target": 13, "held": 13, "upcom": 13, "onlin": 13, "competit": 13, "ey": 13, "someth": 13, "channel": 13, "method": 13, "main_figure_gener": 13, "see": 13, "calc_ma": 13, "calc_rms": 13, "calc_r2": 13, "point": 13, "estim": 13, "calc_crp": 13, "calibr": 13}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"contributor": 0, "guidelin": 0, "feedback": 0, "futur": 0, "develop": [0, 3], "guid": 0, "websit": 0, "how": 0, "build": [0, 3, 4], "local": 0, "climsim": [1, 7], "an": 1, "open": 1, "larg": 1, "scale": [1, 7], "dataset": [1, 2, 3, 4, 7], "train": [1, 3, 4], "high": 1, "resolut": 1, "physic": 1, "emul": 1, "hybrid": 1, "multi": 1, "climat": 1, "simul": 1, "project": 1, "structur": 1, "get": [1, 3, 8], "start": 1, "demo": 1, "notebook": 1, "refer": 1, "inform": 2, "cnn": 3, "exampl": [3, 4, 5], "data": [3, 4, 8, 9, 10], "pipelin": [3, 4], "input": [3, 4, 7], "output": [3, 4, 7, 8, 9], "variabl": [3, 4, 7], "list": [3, 4], "defin": 3, "tf": [3, 4], "instanti": [3, 4, 8, 9, 10], "object": [3, 4], "here": [3, 4, 7], "val": 3, "filenam": 3, "loader": 3, "plot": [3, 7, 8, 9, 10], "some": 3, "statist": 3, "ml": [3, 4], "fcnn": 3, "visual": [3, 7], "predict": [3, 10], "saniti": [3, 4], "check": [3, 4, 7], "mlp": [4, 7], "water": 5, "conserv": 5, "evalu": [6, 9], "metric": [7, 9], "calcul": [7, 8], "part": 7, "1": [7, 9], "save": 7, "them": 7, "csv": 7, "file": 7, "chang": 7, "name": 7, "user": 7, "onli": 7, "set": [7, 8, 9, 10], "energi": 7, "convers": 7, "factor": 7, "main": 7, "pack": 7, "np": 7, "arrai": 7, "xarrai": 7, "unit": 7, "area": 7, "weight": [7, 8, 9], "vertic": 7, "2": [7, 9], "base": 7, "global": 7, "averag": 7, "model": [7, 12], "perform": 7, "varianc": 7, "across": 7, "top": 7, "160": 7, "out": 7, "8": 7, "000": 7, "tune": 7, "trial": 7, "load": [7, 8, 9, 10], "pre": 7, "make": [7, 8], "figur": 7, "intercomparison": 7, "level": 7, "aggreg": 7, "thi": 7, "includ": 7, "text": 7, "profil": 7, "tendenc": [7, 10], "si": 7, "3": [7, 9], "togeth": 7, "mae": 7, "r2": [7, 10], "4": [7, 9], "scatter": 7, "import": [8, 9, 10], "data_util": [8, 9, 10], "class": [8, 9, 10], "pressur": [8, 9, 10], "grid": [8, 9, 10], "bias": 8, "axi": 8, "creat": 9, "skill": 10, "temperatur": 10, "specif": 10, "humid": 10, "packag": 10, "py": 10, "latitud": 10, "analysi": 10, "instal": 11, "setup": 11, "baselin": 12, "quickstart": 13}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})