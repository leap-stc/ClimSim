Search.setIndex({"docnames": ["CONTRIBUTING", "README", "dataset", "demo_notebooks/cnn_example", "demo_notebooks/mlp_example", "demo_notebooks/quickstart_example", "demo_notebooks/water_conservation", "evaluating", "evaluation/ClimSim_metrics", "evaluation/bias_calculation", "evaluation/main_figure_generation", "evaluation/plot_R2_analysis", "installation", "models", "quickstart"], "filenames": ["CONTRIBUTING.md", "README.md", "dataset.md", "demo_notebooks/cnn_example.ipynb", "demo_notebooks/mlp_example.ipynb", "demo_notebooks/quickstart_example.ipynb", "demo_notebooks/water_conservation.ipynb", "evaluating.md", "evaluation/ClimSim_metrics.ipynb", "evaluation/bias_calculation.ipynb", "evaluation/main_figure_generation.ipynb", "evaluation/plot_R2_analysis.ipynb", "installation.md", "models.md", "quickstart.md"], "titles": ["Contributor Guidelines", "ClimSim: An open large-scale dataset for training high-resolution physics emulators in hybrid multi-scale climate simulators", "Dataset Information", "Convolutional Neural Network (CNN) Example", "Multi-Layer Perceptron (MLP) Example", "Import data_utils", "Water Conservation Example", "Evaluation", "ClimSim: Metrics calculation and visualization", "Import data_utils", "Evaluation metrics", "Prediction skill of temperature and specific humidity tendencies", "Code Installation", "Baseline Models", "Quickstart"], "terms": {"addit": [0, 14], "issu": 0, "from": [0, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 14], "commun": 0, "research": [0, 1], "wish": [0, 14], "off": 0, "climsim": [0, 2, 5, 9, 10, 11, 14], "make": [0, 3, 4, 6, 11], "us": [0, 2, 3, 4, 5, 7, 8, 10, 11, 13, 14], "our": [0, 13], "tool": [0, 12, 14], "ar": [0, 1, 2, 3, 4, 6, 7, 8, 11, 13], "welcom": 0, "can": [0, 2, 3, 4, 6, 12, 14], "rais": 0, "github": [0, 7, 13, 14], "page": 0, "prefer": 0, "directli": 0, "email": 0, "maintain": 0, "built": 0, "jupyt": [0, 13], "book": 0, "To": [0, 3, 4, 5, 10, 11], "mimic": 0, "what": 0, "action": 0, "doe": [0, 3, 4, 14], "first": [0, 3, 4, 8, 14], "copi": [0, 8, 11], "readm": 0, "demo": 0, "notebook": [0, 2, 6, 7, 13, 14], "directori": [0, 3, 4], "cd": 0, "cp": [0, 8], "r": 0, "md": 0, "figur": [0, 6, 11], "demo_notebook": 0, "evalu": [0, 1, 8, 12, 14], "creat": [0, 3, 4, 8, 9, 11, 13], "conda": [0, 8], "environ": [0, 4, 12, 13, 14], "env": [0, 4, 8], "f": [0, 3, 4, 5, 8, 10], "yml": 0, "activ": [0, 3, 4], "doc": [0, 3, 4, 8], "run": [0, 2, 4, 8, 12, 14], "follow": [0, 3, 4, 5, 6, 10, 11, 12, 14], "command": 0, "The": [0, 1, 2, 3, 6, 7, 8, 11, 13, 14], "html": [0, 8], "content": 0, "folder": [0, 7, 13], "call": [0, 4], "_build": 0, "view": 0, "open": 0, "file": [0, 2, 3, 4, 6, 9, 11], "index": [0, 3, 4, 5, 8, 9, 10], "browser": 0, "largest": 1, "ever": 1, "design": 1, "ml": [1, 6, 8], "It": [1, 3, 4, 14], "compris": 1, "develop": 1, "consortium": 1, "scientist": 1, "consist": [1, 3], "5": [1, 2, 3, 4, 5, 7, 8, 9, 10], "7": [1, 2, 3, 4, 5, 7, 8, 10], "billion": [1, 2], "pair": 1, "multivari": 1, "input": [1, 2, 5, 6, 9, 10, 11, 13], "output": [1, 2, 6, 11], "vector": [1, 3, 4, 5, 14], "isol": 1, "influenc": 1, "local": [1, 3, 4, 12, 14], "nest": 1, "fidel": 1, "host": [1, 4], "s": [1, 3, 4, 6, 8, 9, 11, 13, 14], "macro": 1, "state": 1, "global": [1, 3, 4, 6], "coverag": 1, "span": 1, "multipl": [1, 4], "year": [1, 2, 4], "sampl": [1, 2, 3, 4, 8], "frequenc": 1, "result": [1, 4, 8], "compat": 1, "downstream": 1, "coupl": 1, "oper": [1, 3, 4, 5, 10, 11], "we": [1, 3, 4, 6, 8, 14], "implement": 1, "rang": [1, 3, 4, 5, 8, 10], "determinist": 1, "stochast": [1, 14], "regress": [1, 13], "baselin": [1, 7], "highlight": 1, "challeng": 1, "score": [1, 7, 8, 9, 10, 11, 14], "quickstart": [1, 2], "inform": [1, 8], "code": [1, 3, 6, 13, 14], "instal": [1, 14], "model": [1, 2, 3, 4, 6, 7, 9, 10, 11, 14], "layer": [1, 3, 13], "perceptron": [1, 13], "mlp": [1, 7, 9, 10, 11, 13], "exampl": 1, "convolut": [1, 13], "neural": [1, 4, 13], "network": [1, 4, 13], "cnn": [1, 7, 8, 9, 10, 11, 13, 14], "water": [1, 8], "conserv": 1, "paper": [1, 2, 3, 14], "youtub": 1, "video": 1, "contributor": 1, "guid": 1, "data": [2, 8, 14], "multi": [2, 3, 13], "scale": [2, 3, 4, 5, 9, 10], "climat": 2, "e3sm": [2, 3, 4, 6, 8, 9, 11], "mmf": [2, 3, 4, 6, 9, 11], "simul": 2, "were": [2, 7, 13], "save": [2, 3], "20": [2, 3, 7, 10], "minut": 2, "interv": 2, "10": [2, 3, 4, 7, 8, 10], "two": [2, 3], "netcdf": [2, 3, 4, 8], "target": [2, 5, 7, 9, 10, 11, 13], "produc": 2, "each": [2, 3, 4, 5, 6, 7, 8, 9, 10, 13], "timestep": 2, "total": [2, 3, 4], "525": 2, "600": 2, "configur": 2, "3": [2, 3, 4, 5, 7, 14], "download": [2, 14], "hug": [2, 4, 6], "face": 2, "high": 2, "resolut": [2, 13, 14], "real": [2, 3, 4, 13, 14], "geographi": [2, 13, 14], "1": [2, 3, 4, 5, 6, 9, 11, 14], "x": [2, 3, 5, 8, 9, 10, 11, 13], "horizont": [2, 3, 4, 5, 7, 8, 9, 10], "21": [2, 3, 5, 7, 8, 10, 11], "grid": [2, 8], "column": [2, 3, 4, 5, 6, 8, 9, 10], "41": [2, 3, 4], "2": [2, 3, 4, 5, 7, 9, 11, 14], "tb": 2, "102": 2, "mb": [2, 4], "per": [2, 8], "61": [2, 7, 8], "low": [2, 13, 14], "11": [2, 3, 4, 7, 10], "384": [2, 3, 4, 8], "100": [2, 8, 9, 11], "million": 2, "744": 2, "gb": 2, "9": [2, 3, 4, 5, 6, 7, 8, 10], "aquaplanet": 2, "label": [2, 10], "mli": [2, 3, 4, 6, 9, 11], "yyyi": 2, "mm": 2, "dd": 2, "sssss": 2, "nc": [2, 3, 4, 5, 6, 8, 9, 10, 11], "where": [2, 3, 4, 8], "sss": 2, "correspond": [2, 13, 14], "month": [2, 4], "dai": [2, 3, 4], "second": [2, 3, 6], "being": 2, "space": 2, "200": [2, 3, 4], "apart": 2, "same": [2, 3, 14], "wai": 2, "except": [2, 3, 4], "replac": [2, 3, 4], "mlo": [2, 3, 4, 6, 8], "scalar": [2, 8, 14], "variabl": [2, 5, 7, 9, 10, 13, 14], "vari": 2, "time": [2, 3, 4, 5, 6, 7, 8, 10, 14], "ncol": [2, 3, 4, 5, 8, 10, 13], "while": [2, 3, 4], "vertic": [2, 3, 5, 7, 9, 10, 14], "resolv": [2, 3, 8, 14], "addition": 2, "lev": [2, 3, 6, 8, 13], "For": [2, 4, 12], "lower": 2, "indic": [2, 3, 8], "higher": 2, "level": [2, 3, 4, 5, 6, 9, 10], "atmospher": [2, 6], "thi": [2, 3, 4, 5, 6, 7, 10, 11, 12, 14], "becaus": [2, 3], "pressur": [2, 6, 8, 13], "decreas": [2, 11], "monoton": [2, 11], "altitud": 2, "full": [2, 14], "list": [2, 8, 9, 11], "found": [2, 7, 13, 14], "supplementari": 2, "tabl": [2, 8], "There": [2, 13], "also": [2, 8], "contain": [2, 8, 14], "subsampl": [2, 9, 11, 14], "prenorm": [2, 14], "wa": [2, 14], "train": [2, 6, 13, 14], "valid": [2, 4, 8, 14], "metric": [2, 3, 4, 5, 7, 14], "reproduc": [2, 4, 14], "preprocess": [2, 5, 9, 12, 14], "create_npy_data_split": [2, 14], "ipynb": [2, 14], "import": [3, 4, 6, 8], "xarrai": [3, 4, 6, 12, 14], "xr": [3, 4, 5, 6, 8, 9, 10, 11], "numpi": [3, 4, 6, 8], "np": [3, 4, 5, 6, 9, 10, 11], "matplotlib": [3, 4, 6, 8, 10], "pyplot": [3, 4, 6, 8], "plt": [3, 4, 5, 6, 8, 9, 10], "glob": [3, 4, 8], "os": [3, 4, 6], "random": [3, 4, 13], "tensorflow": [3, 4, 5, 10, 11, 12, 14], "kera": [3, 4], "physical_devic": [3, 4], "config": [3, 4, 5, 9, 10, 11], "list_physical_devic": [3, 4], "gpu": [3, 4], "print": [3, 4, 10], "try": [3, 4], "kgpu": [3, 4], "len": [3, 4, 5, 8, 10], "experiment": [3, 4], "set_memory_growth": [3, 4], "true": [3, 4, 5, 8, 10], "invalid": [3, 4, 5, 8, 10], "devic": [3, 4], "cannot": [3, 4], "modifi": [3, 4], "virtual": [3, 4], "onc": [3, 4, 6], "initi": [3, 4, 6], "pass": [3, 4], "2023": [3, 4, 5, 8, 10, 11], "05": [3, 4, 8], "26": [3, 7, 8, 10], "18": [3, 4, 7, 10], "17": [3, 4, 7, 8, 10], "02": [3, 6], "868544": 3, "i": [3, 4, 5, 7, 8, 10, 11], "tsl": 3, "cuda": [3, 4], "cudart_stub": 3, "cc": [3, 4, 5, 10, 11], "28": [3, 6, 7, 8, 10], "could": [3, 5, 10, 11], "find": [3, 4, 5, 10, 11], "driver": [3, 4], "your": [3, 5, 12, 14], "machin": 3, "948491": 3, "949921": 3, "core": [3, 4, 5, 10, 11], "platform": [3, 4, 5, 10, 11], "cpu_feature_guard": [3, 4, 5, 10, 11], "182": [3, 5, 7, 10, 11], "binari": [3, 4, 5, 10, 11], "optim": [3, 4, 5, 10, 11], "avail": [3, 4, 5, 10, 11], "cpu": [3, 4, 5, 10, 11], "instruct": [3, 4, 5, 10, 11], "perform": [3, 4, 5, 7, 10, 11], "critic": [3, 4, 5, 10, 11], "enabl": [3, 4, 5, 10, 11], "avx2": [3, 4, 5, 10, 11], "fma": [3, 4, 5, 10, 11], "other": [3, 4, 5, 10, 11], "rebuild": [3, 4, 5, 10, 11], "appropri": [3, 4, 5, 10, 11], "compil": [3, 4, 5, 10, 11], "flag": [3, 4, 5, 10, 11], "04": [3, 8, 11], "241559": 3, "w": [3, 4, 5, 7, 8, 9, 10, 11, 13], "tf2tensorrt": [3, 5, 10, 11], "util": [3, 4, 5, 8, 10, 11], "py_util": [3, 5, 10, 11], "38": [3, 5, 7, 8, 10, 11], "trt": [3, 5, 10, 11], "warn": [3, 5, 8, 10, 11], "tensorrt": [3, 5, 10, 11], "note": [3, 4, 6], "ptend_t": [3, 4, 8, 9, 10], "ptend_q0001": [3, 4, 8, 9, 10], "calcul": [3, 4, 7, 11], "http": [3, 4, 8], "googl": [3, 4], "com": [3, 4, 8], "spreadsheet": [3, 4], "d": [3, 4, 8], "1ljrfhq6qb36u0tuoxqxcv4_dsqur0x4uimz4qhr8f9m": [3, 4], "edit": [3, 4], "gid": [3, 4], "0": [3, 4, 5, 6, 7, 8, 9, 10, 11], "out": [3, 4, 6, 14], "cfg": 3, "dict": [3, 5, 6, 8, 9, 10, 11], "vars_mli": [3, 4], "state_t": [3, 4], "state_q0001": [3, 4, 6], "state_p": [3, 4, 6, 8], "pbuf_solin": [3, 4], "pbuf_lhflx": [3, 4, 6], "pbuf_shflx": [3, 4], "vars_mlo": [3, 4, 8], "cam_out_netsw": [3, 4, 8, 10], "cam_out_flwd": [3, 4, 8, 10], "cam_out_precsc": [3, 4, 8, 10], "cam_out_precc": [3, 4, 6, 8, 10], "cam_out_sol": [3, 4, 8, 10], "cam_out_solsd": [3, 4, 8, 10], "cam_out_solld": [3, 4, 8, 10], "ref": [3, 4, 8], "www": [3, 4], "noahbrenowitz": [3, 4], "post": [3, 4], "loading_netcdf": [3, 4], "org": [3, 4], "api_doc": [3, 4], "python": [3, 4, 8, 12, 14], "class": 3, "e3smdataset": 3, "def": [3, 4, 6, 8], "__init__": 3, "self": 3, "verbos": 3, "fals": [3, 4, 5, 8, 9, 10], "normal": [3, 5, 8, 9, 10, 11], "mli_mean": [3, 4, 8], "open_dataset": [3, 4, 5, 6, 8, 9, 10, 11], "norm_factor": [3, 4, 8], "mli_min": [3, 4, 8], "mli_max": [3, 4, 8], "mlo_scal": [3, 4, 8], "init": 3, "shape": [3, 4, 5, 8, 10], "in_out_shap": 3, "flatten_layers_and_vars_1d": 3, "ds": [3, 4, 8], "dso": [3, 4], "concaten": [3, 4, 5], "all": [3, 7, 8, 12, 14], "batch": [3, 4], "124": [3, 4, 8], "128": [3, 4, 5, 8, 10], "stack": [3, 4], "to_stacked_arrai": [3, 4, 8], "mlvar": [3, 4], "sample_dim": [3, 4, 8], "name": [3, 4], "return": [3, 4, 6, 8], "pad_and_stack_layers_and_vars_1d": 3, "pad": [3, 8], "n_vertical_level": 3, "n_variabl": 3, "e": [3, 4, 6, 7, 8], "g": [3, 5, 6, 8, 9, 10], "60": [3, 4, 7, 8], "6": [3, 4, 7, 8, 9, 10, 11], "arg": 3, "arr": 3, "dataarrai": [3, 6, 8], "arro": 3, "broadcast": [3, 14], "repeat": [3, 4, 5], "across": [3, 9], "to_arrai": 3, "transpos": [3, 5, 6, 8, 9, 10], "load_nc_dir_with_gener": [3, 4], "filelist": [3, 4], "f_mli": [3, 4], "engin": [3, 4], "netcdf4": [3, 4], "dim": [3, 6, 8], "in_shap": 3, "none": [3, 4, 8, 11], "out_shap": 3, "els": [3, 5, 8, 10], "gener": [3, 4, 8], "function": [3, 4, 7], "gen": [3, 4], "read": [3, 4, 8], "varial": [3, 4], "1200": [3, 4, 6], "t": [3, 4, 6, 8, 13], "tendenc": [3, 4, 13], "k": [3, 4, 8, 13], "q": [3, 4, 8, 13], "kg": [3, 4, 6, 8, 13], "yield": [3, 4], "valu": [3, 4, 5, 6, 8, 10], "from_gener": [3, 4], "output_typ": [3, 4], "float64": [3, 4, 8], "output_shap": [3, 4], "size": [3, 4, 8, 11], "dimens": [3, 4, 8, 13, 14], "document": [3, 4], "1hgfzzjm0sygjwvsaj5ksfql9axufkvlybl36p": [3, 4], "vmdzc": [3, 4], "pathlib": 3, "path": [3, 4, 5, 8, 9, 10, 11], "get_filenam": 3, "dataroot": 3, "stride_sampl": [3, 9, 11], "rel": [3, 6], "wildcard": 3, "int": [3, 4, 8], "pick": 3, "everi": [3, 4], "nth": 3, "filepath": [3, 4], "extend": 3, "str": [3, 8], "sort": [3, 4, 8], "f_mli1": [3, 4], "f_mli2": [3, 4], "comment": 3, "seem": 3, "unecessari": 3, "shuffl": [3, 4], "72": [3, 4, 7, 8, 10], "debug": [3, 4], "unnecessari": 3, "twice": 3, "micro_sampl": 3, "todo": 3, "ritwik": 3, "sure": [3, 8], "correct": [3, 8], "test": [3, 14], "split": [3, 4], "filenames_train": 3, "000": [3, 4], "1234567": 3, "0008": [3, 9, 11], "01": [3, 4, 9, 11], "filenames_v": 3, "23456789": [3, 4, 9, 11], "012": [3, 4, 9, 11], "0009": [3, 9, 11], "f_mli_val": [3, 4], "depend": [3, 12, 14], "which": [3, 8, 11, 14], "shuffle_buff": [3, 4], "12": [3, 4, 6, 7, 10], "come": [3, 6], "batch_siz": [3, 4], "float": 3, "4": [3, 4, 7, 9, 14], "96": [3, 4, 7], "presum": 3, "number": [3, 8, 10], "doubl": 3, "unbatch": [3, 4], "prefetch": [3, 4], "sens": 3, "them": [3, 4], "couldn": 3, "anyth": 3, "wrong": 3, "don": 3, "fulli": 3, "understand": 3, "how": [3, 13, 14], "should": [3, 8], "randomli": 3, "td": [3, 4], "buffer_s": [3, 4], "reshuffle_each_iter": [3, 4], "relat": 3, "tds_val": [3, 4], "count_batch": [3, 4], "take": [3, 4], "nfile": [3, 4], "next": [3, 6], "iter": 3, "var": [3, 4, 6, 8, 9], "reduce_min": 3, "reduce_max": 3, "assum": [3, 6], "posit": [3, 6], "3840": 3, "08": [3, 5, 10, 11], "059325": 3, "common_runtim": [3, 4], "executor": 3, "1197": 3, "info": [3, 4, 5, 8, 9, 10, 11], "start": [3, 8], "abort": 3, "an": [3, 8, 14], "error": [3, 6, 7], "you": [3, 4, 8, 12, 14], "ignor": 3, "messag": [3, 8], "invalid_argu": 3, "must": 3, "feed": 3, "placehold": 3, "tensor": 3, "_0": 3, "dtype": 3, "int32": 3, "node": [3, 4], "061563": 3, "0254011839104458": 3, "1109701538780046": 3, "3392385424469184": 3, "distribut": [3, 4, 8], "mirroredstrategi": [3, 4], "strategi": [3, 4], "speed": [3, 4], "up": [3, 4], "process": [3, 4], "possibl": [3, 4], "due": [3, 4, 8], "current": [3, 4], "sequenti": [3, 4], "scope": [3, 4], "param": [3, 4], "input_length": [3, 4], "output_length_lin": [3, 4], "output_length_relu": [3, 4], "8": [3, 4, 5, 7, 10], "output_length": [3, 4], "n_node": [3, 4], "512": [3, 4], "constrcut": [3, 4], "input_lay": [3, 4], "hidden_0": [3, 4], "dens": [3, 4], "relu": [3, 4], "hidden_1": [3, 4], "output_pr": [3, 4], "elu": [3, 4], "output_lin": [3, 4], "linear": [3, 4], "output_relu": [3, 4], "output_lay": [3, 4], "emul": [3, 4], "summari": [3, 4], "adam": [3, 4], "learning_r": [3, 4], "clr": [3, 4], "loss": [3, 4], "mse": [3, 4, 8], "mae": [3, 4, 5, 7, 10], "accuraci": [3, 4], "__________________________________________________________________________________________________": [3, 4], "type": [3, 4], "connect": [3, 4], "inputlay": [3, 4], "64000": [3, 4], "dense_1": [3, 4], "262656": [3, 4], "dense_2": [3, 4], "65664": [3, 4], "dense_3": [3, 4], "120": [3, 4, 8], "15480": [3, 4], "dense_4": [3, 4], "1032": [3, 4], "408": [3, 4], "832": [3, 4], "trainabl": [3, 4], "non": [3, 4], "flatten": [3, 8], "dropout": 3, "conv1d": 3, "maxpooling1d": 3, "init_cnn": 3, "n_vertical_var": 3, "channel_dim": 3, "32": [3, 4, 9], "kernel": [3, 4], "gelu": 3, "pre_out_activ": 3, "norm": [3, 8], "resnet": 3, "style": 3, "1d": 3, "treat": [3, 14], "spatial": [3, 8], "architectur": 3, "residu": 3, "block": 3, "conv": 3, "special": 3, "norm_lay": 3, "get_normalization_lay": 3, "length": [3, 8], "match": 3, "1st": 3, "argument": 3, "set": [3, 4, 14], "asid": 3, "previous_block_activ": 3, "filter": 3, "kernel_s": 3, "zip": [3, 5, 9, 10, 11], "appli": 3, "zero": [3, 5, 8, 10, 11], "add": [3, 5, 8], "se_block": 3, "project": [3, 5, 9, 10, 11], "stride": 3, "back": [3, 8], "anoth": 3, "last": [3, 8], "particular": 3, "axi": [3, 4, 5, 8, 10, 11], "given": 3, "string": [3, 5, 8, 9, 10], "hard": [3, 6], "layer_norm": 3, "layernorm": 3, "elif": [3, 8], "batch_norm": 3, "batchnorm": 3, "rid": 3, "hardcod": 3, "64": [3, 7], "256": 3, "featur": 3, "determin": [3, 7], "Is": 3, "either": 3, "entri": [3, 8], "intern": 3, "right": [3, 5, 6, 8, 10], "befor": 3, "Not": 3, "why": 3, "lr": 3, "001": [3, 7], "epsilon": 3, "1e": 3, "small": 3, "constant": [3, 6], "numer": 3, "stabil": 3, "default": 3, "07": [3, 5, 8, 10], "But": 3, "mention": 3, "weight_decai": 3, "probabl": [3, 7, 14], "schedul": 3, "tfa": 3, "cyclicallearningr": 3, "initial_learning_r": 3, "init_lr": 3, "maximal_learning_r": 3, "max_lr": 3, "scale_fn": 3, "lambda": 3, "step_siz": 3, "steps_per_epoch": 3, "scale_mod": 3, "cycl": 3, "input_1": 3, "992": 3, "conv1d_1": 3, "5152": 3, "activation_1": 3, "dropout_1": 3, "conv1d_2": 3, "224": [3, 7], "conv1d_3": 3, "10304": 3, "activation_2": 3, "dropout_2": 3, "conv1d_4": 3, "20544": 3, "activation_3": 3, "dropout_3": 3, "conv1d_5": 3, "2112": 3, "add_1": 3, "conv1d_6": 3, "41088": 3, "activation_4": 3, "dropout_4": 3, "conv1d_7": 3, "82048": 3, "activation_5": 3, "dropout_5": 3, "conv1d_8": 3, "8320": 3, "add_2": 3, "conv1d_9": 3, "164096": 3, "activation_6": 3, "dropout_6": 3, "conv1d_10": 3, "327936": 3, "activation_7": 3, "dropout_7": 3, "conv1d_11": 3, "33024": 3, "add_3": 3, "conv1d_12": 3, "2570": 3, "dense_5": 3, "22": [3, 7, 10], "dense_6": 3, "88": [3, 7, 10], "concatenate_1": 3, "698": 3, "520": 3, "callback": [3, 4], "tensorboard": [3, 4], "tboard_callback": [3, 4], "log_dir": [3, 4], "logs_tensorboard": [3, 4], "histogram_freq": [3, 4], "b": [3, 4, 8], "checkpoint": [3, 4], "filepath_checkpoint": [3, 4], "saved_model": [3, 4], "best_model_proto": [3, 4], "h5": [3, 4, 8, 9, 10, 11], "checkpoint_callback": [3, 4], "modelcheckpoint": [3, 4], "save_weights_onli": [3, 4], "monitor": [3, 4], "val_ms": [3, 4], "mode": [3, 4], "min": [3, 4, 8], "save_best_onli": [3, 4], "c": [3, 4, 6, 8], "csv": [3, 4], "logger": [3, 4], "filepath_csv": [3, 4], "csv_logger": [3, 4], "txt": [3, 4], "csv_callback": [3, 4], "csvlogger": [3, 4], "separ": [3, 4, 7, 8, 11, 14], "append": [3, 4], "my_callback": [3, 4], "mkdir": [3, 4], "n_epoch": [3, 4], "40": [3, 7], "fit": [3, 4], "validation_data": [3, 4], "epoch": [3, 4], "136165": 3, "137648": 3, "unknown": [3, 4], "27": [3, 4, 7, 10], "491m": 3, "step": [3, 4, 6, 8, 14], "1615": 3, "1982": 3, "7801": 3, "39": 3, "919740": 3, "920500": 3, "best": [3, 8, 9, 10, 11], "onli": [3, 4, 6], "skip": 3, "29": [3, 10], "542m": 3, "eta": 3, "0s": 3, "0552": 3, "1205": 3, "9368warn": 3, "415m": 3, "9368": 3, "0471": 3, "1050": 3, "9433warn": 3, "422m": 3, "9433": 3, "0449": 3, "1025": 3, "9452warn": 3, "430m": 3, "9452": 3, "0450": 3, "9467warn": 3, "23": [3, 7, 8, 10, 11], "577m": 3, "9467": 3, "0435": 3, "1010": 3, "9454warn": 3, "432m": 3, "9454": 3, "0417": 3, "0978": 3, "9492warn": 3, "402m": 3, "9492": 3, "0414": 3, "0992": 3, "9480warn": 3, "16": [3, 8, 11], "388m": 3, "9480": 3, "0390": 3, "0944": 3, "9506warn": 3, "396m": 3, "9506": 3, "0393": 3, "0949": 3, "9521warn": 3, "383m": 3, "9521": 3, "0384": 3, "0939": 3, "409m": 3, "0375": 3, "0930": 3, "9483warn": 3, "412m": 3, "9483": 3, "13": [3, 4, 7, 8, 10], "0371": 3, "0928": 3, "9500warn": 3, "395m": 3, "9500": 3, "14": [3, 6, 7, 10], "0364": 3, "0913": 3, "9523warn": 3, "421m": 3, "9523": 3, "15": [3, 4, 7, 8], "0352": 3, "0899": 3, "9508warn": 3, "424m": 3, "9508": 3, "0338": 3, "0867": 3, "19": [3, 4, 7, 8, 10], "469m": 3, "0337": 3, "0877": 3, "9538warn": 3, "715m": 3, "9538": 3, "0331": 3, "0862": 3, "9530warn": 3, "509m": 3, "9530": 3, "0315": 3, "0837": 3, "9536warn": 3, "475m": 3, "9536": 3, "0308": 3, "0820": 3, "9565warn": 3, "532m": 3, "9565": 3, "0823": 3, "9542warn": 3, "615m": 3, "9542": 3, "0297": 3, "0807": 3, "9579warn": 3, "25": [3, 4, 7, 8, 10, 11], "595m": 3, "9579": 3, "0299": 3, "9513warn": 3, "466m": 3, "9513": 3, "24": 3, "0293": 3, "0803": 3, "9557warn": 3, "479m": 3, "9557": 3, "0289": 3, "0796": 3, "9570warn": 3, "367m": 3, "9570": 3, "0292": 3, "0806": 3, "375m": 3, "0283": 3, "0785": 3, "9541warn": 3, "461m": 3, "9541": 3, "0276": 3, "0771": 3, "9586warn": 3, "493m": 3, "9586": 3, "0236": [3, 4], "0750": 3, "9577warn": 3, "618m": 3, "9577": 3, "30": [3, 4, 7, 10], "0201": 3, "0712": 3, "632m": 3, "31": [3, 7], "0186": 3, "0685": 3, "9568warn": 3, "514m": 3, "9568": 3, "0175": 3, "0668": 3, "598m": 3, "33": [3, 7, 10], "0173": 3, "0658": 3, "9582warn": 3, "551m": 3, "9582": 3, "34": [3, 7, 8, 10], "0167": 3, "0646": 3, "9601warn": 3, "594m": 3, "9601": 3, "35": [3, 4, 7, 8], "0171": 3, "0650": 3, "9544warn": 3, "539m": 3, "9544": 3, "36": [3, 7, 10], "0166": 3, "0647": 3, "9610warn": 3, "515m": 3, "9610": 3, "37": [3, 4, 7, 10, 11], "0156": 3, "0620": 3, "9609warn": 3, "530m": 3, "9609": 3, "0161": 3, "0630": 3, "500m": 3, "0149": 3, "0609": 3, "9602warn": 3, "484m": 3, "9602": 3, "0151": 3, "0614": 3, "9612warn": 3, "442m": 3, "9612": 3, "histori": 3, "0x7f471361dbe0": 3, "old": 3, "loop": 3, "That": 3, "me": 3, "manual": [3, 4], "order": [3, 4, 8], "howev": [3, 4], "slow": [3, 4], "so": [3, 4, 6], "emploi": [3, 4], "n": [3, 4, 6, 8], "load": [3, 6, 13], "again": 3, "nn_epoch": 3, "nshuffle_buff": 3, "nn": 3, "nwhile": 3, "x_true": [3, 4, 8], "y_true": [3, 4, 8], "one": [3, 8], "singl": [3, 8], "y_pred": [3, 4, 8], "tensorshap": 3, "new": [3, 4], "ha": [3, 4, 5, 8, 10], "option": [3, 4], "latlim": [3, 4], "lonlim": [3, 4], "ne4_grid_info": [3, 4], "test_data": [3, 4], "mmf_ne4_grid": [3, 4, 8], "orig": [3, 4, 8], "load_nc_dir_with_generator_test": [3, 4], "999": [3, 4, 7, 8], "merg": [3, 4, 8], "lat": [3, 4, 6, 8], "lon": [3, 4, 6, 8], "drop": [3, 4], "normalizatoin": [3, 4], "One": [3, 4, 8], "snapshot": [3, 4], "10th": [3, 4], "dir_test_sampl": [3, 4], "home": [3, 4, 8], "sungduk": [3, 4, 6, 8], "work": [3, 4, 8], "leap": [3, 4], "mmf_baselin": [3, 4], "0010": [3, 4], "tds_test": [3, 4], "arrai": [3, 4], "defeat": [3, 4], "purpos": [3, 4, 6], "just": [3, 4], "do": [3, 4, 14], "quick": [3, 4], "as_numpy_iter": [3, 4], "107260": 3, "load_model": [3, 4], "fig": [3, 4, 5, 8, 10], "ax": [3, 4, 5, 8, 10, 11], "subplot": [3, 4, 5, 8, 10], "suptitl": [3, 4, 8], "h0": [3, 4], "pcolor": [3, 4, 11], "vmin": [3, 4, 6, 8, 11], "vmax": [3, 4, 6, 8, 11], "set_titl": [3, 4, 5, 8, 10], "set_ylabel": [3, 4, 5, 8, 10], "set_xlabel": [3, 4, 5, 8, 10], "colorbar": [3, 4, 6, 8], "orient": [3, 4], "set_size_inch": [3, 4, 5, 8, 10], "ax_": [3, 4], "h1": [3, 4], "h2": [3, 4], "cmap": [3, 4, 6, 8, 11], "bwr": [3, 4], "mean": [3, 4, 5, 7, 8, 9, 10, 11], "seri": [3, 4], "0001": [3, 6], "12345": [3, 4], "160": [3, 4], "56": [3, 4], "650758": 3, "y_true_mean_t": [3, 4], "y_pred_mean_t": [3, 4], "western": [3, 4], "eq": [3, 4], "pacif": [3, 4], "y_true_mean_q": [3, 4], "y_pred_mean_q": [3, 4], "kvar": [3, 4, 8], "enumer": [3, 4, 8], "y_true_surface_var": [3, 4], "y_pred_surface_var": [3, 4], "601764": 4, "193": 4, "oneapi": 4, "deep": [4, 8], "librari": 4, "onednn": 4, "sse4": 4, "avx": 4, "42": [4, 7, 10], "919495": 4, "xla": 4, "stream_executor": 4, "cuda_driv": 4, "267": [4, 7], "fail": 4, "cuinit": 4, "cuda_error_no_devic": 4, "capabl": 4, "detect": 4, "919558": 4, "cuda_diagnost": 4, "156": 4, "appear": 4, "cori16": 4, "proc": 4, "nvidia": 4, "version": [4, 14], "exist": 4, "pscratch": [4, 6], "sd": [4, 6], "mmf_ne4": 4, "123456": 4, "0007": 4, "realtion": 4, "f_mli3": 4, "89": 4, "val": 4, "15768": 4, "6054912": 4, "017261": 4, "753492": 4, "gpu_devic": 4, "1613": 4, "job": 4, "localhost": 4, "replica": 4, "task": 4, "38250": 4, "memori": 4, "a100": 4, "sxm4": 4, "40gb": 4, "pci": 4, "bu": 4, "id": 4, "0000": 4, "03": [4, 8, 11], "00": [4, 7, 9, 11], "comput": [4, 6, 7], "755102": 4, "756681": 4, "82": [4, 7], "758286": 4, "c1": 4, "864": 4, "331776": 4, "physicaldevic": 4, "device_typ": 4, "element": 4, "583558": 4, "cuda_bla": 4, "630": 4, "tensorfloat": 4, "matrix": 4, "log": [4, 5, 8, 10], "595604": 4, "servic": 4, "173": 4, "0x7f9918018250": 4, "guarante": 4, "595620": 4, "181": 4, "streamexecutor": 4, "595624": 4, "595626": 4, "595629": 4, "600052": 4, "mlir": 4, "dump_mlir_util": 4, "268": 4, "disabl": 4, "crash": 4, "mlir_crash_reproducer_directori": 4, "621958": 4, "nvptx_helper": 4, "libdevic": 4, "cuda_dir": 4, "nvvm": 4, "mai": [4, 11], "runtim": 4, "failur": 4, "program": 4, "routin": 4, "search": 4, "cuda_sdk_lib": 4, "usr": 4, "choos": 4, "xla_gpu_cuda_data_dir": 4, "hlomodul": 4, "debugopt": 4, "most": 4, "app": 4, "xla_flag": 4, "705394": 4, "jit": 4, "xla_compilation_cach": 4, "477": 4, "cluster": 4, "line": [4, 6, 10], "lifetim": 4, "63072": 4, "1096": 4, "17m": 4, "0044": 4, "0254": 4, "9727": 4, "val_loss": 4, "0041": 4, "val_ma": 4, "0244": 4, "val_accuraci": 4, "9762": 4, "1071": 4, "0240": 4, "9761": 4, "0040": 4, "0238": 4, "9766": 4, "1035": 4, "16m": 4, "9769": 4, "0237": 4, "9774": 4, "9773": 4, "0239": 4, "9764": 4, "1033": 4, "0039": 4, "9775": 4, "1046": 4, "0235": 4, "9776": 4, "0234": 4, "9780": 4, "9778": 4, "9784": 4, "9777": 4, "1049": 4, "9782": 4, "1064": 4, "0038": 4, "1073": 4, "9783": 4, "9786": 4, "22445": 4, "357": 4, "360": 4, "plot": [4, 6, 7], "climsim_util": [5, 7, 9, 10, 11, 12, 14], "52": [5, 8], "44": 5, "783708": 5, "45": 5, "719702": 5, "tf": [5, 10, 11], "grid_path": [5, 9, 10, 11], "ocean": [5, 9, 10, 11], "atm200007p": [5, 9, 10, 11], "jlin96": [5, 9, 10, 11], "neurips_proj": [5, 9, 10, 11], "grid_info": [5, 8, 9, 10, 11], "climsim_low": [5, 9, 10, 11], "res_grid": [5, 9, 10, 11], "norm_path": [5, 9, 10, 11], "input_mean": [5, 9, 10, 11], "input_max": [5, 9, 10, 11], "input_min": [5, 9, 10, 11], "output_scal": [5, 9, 10, 11], "v1": [5, 9, 10], "subset": [5, 9, 10, 13], "set_to_v1_var": [5, 9, 10], "chang": 5, "own": 5, "gen_path": 5, "e3sm_train_npi": [5, 9, 10, 11], "train_input_path": 5, "train_input": [5, 14], "npy": [5, 8, 9, 10, 11, 14], "train_target_path": 5, "train_target": [5, 14], "val_input_path": 5, "val_input": [5, 14], "val_target_path": 5, "val_target": [5, 14], "input_train": 5, "load_npy_fil": [5, 9, 10, 11], "target_train": 5, "input_v": 5, "target_v": 5, "const_model": 5, "bias_vector": 5, "ones": 5, "mlr_weight": 5, "linalg": 5, "inv": 5, "scoring_input_path": 5, "scoring_input": [5, 9, 10, 11, 14], "scoring_target_path": 5, "scoring_target": [5, 9, 10, 11, 14], "input_scor": [5, 9, 10, 11], "target_scor": [5, 9, 10, 11], "set_pressure_grid": [5, 9, 10, 11], "input_arr": [5, 9, 10], "const_pr": 5, "newaxi": 5, "1681920": [5, 10], "x_score": 5, "bias_vector_scor": 5, "mlr_pred": 5, "undo": [5, 9, 10], "dp": [5, 6, 8, 9, 10], "area": [5, 9, 10], "cell": [5, 8, 9, 10, 11], "convert": [5, 6, 7, 8, 9, 10], "common": [5, 7, 8, 9, 10], "energi": [5, 7, 9, 10], "model_nam": [5, 8, 9, 10, 11], "const": 5, "mlr": 5, "pred": [5, 8, 9, 10, 11], "preds_scor": [5, 9, 10, 11], "reweight_target": [5, 9, 10], "data_split": [5, 9, 10, 11], "reweight_pr": [5, 9, 10], "metrics_nam": [5, 9, 10], "rmse": [5, 7, 8, 10], "r2": [5, 10], "create_metrics_df": [5, 9, 10], "py": [5, 7, 8, 10, 14], "656": 5, "runtimewarn": [5, 8, 10, 11], "divid": [5, 10, 11], "encount": [5, 8, 10, 11], "r_squar": [5, 10], "sq_diff": [5, 10], "sum": [5, 6, 8, 10, 11], "tss_time": [5, 10], "over": [5, 8, 10], "inlinebackend": [5, 9, 10, 11], "figure_format": [5, 9, 10, 11], "retina": [5, 9, 10, 11], "letter": [5, 9, 10], "ascii_lowercas": [5, 9, 10], "dict_var": [5, 10], "metrics_var_scor": [5, 9, 10], "plot_df_byvar": [5, 10], "pd": [5, 8, 9, 10], "datafram": [5, 8, 9, 10], "renam": [5, 6, 8, 9, 10], "var_short_nam": [5, 8, 9, 10], "nrow": [5, 8, 10], "sharex": [5, 8, 10], "bar": [5, 8, 9, 10], "legend": [5, 8, 9, 10], "m": [5, 6, 8, 9, 10, 13], "set_yscal": [5, 8, 10], "set_ylim": [5, 8, 10], "set_xticklabel": [5, 8, 10], "rotat": [5, 8, 10], "center": [5, 8, 10, 11], "columnspac": [5, 8, 10], "labelspac": [5, 8, 10], "handleheight": [5, 8, 10], "handlelength": [5, 8, 10], "handletextpad": [5, 8, 10], "borderpad": [5, 8, 10], "loc": [5, 8, 10], "upper": [5, 8, 10], "tight_layout": [5, 8, 10], "demonstr": 6, "summar": 6, "sum_i": 6, "left": [6, 8], "delta": 6, "q_v": 6, "q_l": 6, "q_i": 6, "frac": 6, "p_i": 6, "p": [6, 8], "state_q0002": 6, "state_q0003": 6, "l_v": 6, "datadir": 6, "mmf_ne30": 6, "72000": 6, "begin": 6, "integr": [6, 8], "need": 6, "construct": [6, 8], "thick": [6, 8], "interfac": 6, "a_k": 6, "p_o": 6, "b_k": 6, "p_": 6, "condit": [6, 13], "here": [6, 14], "extract": [6, 9, 11], "coeffici": [6, 7, 8], "fix": 6, "dure": 6, "physic": [6, 8], "parameter": 6, "initial_condit": 6, "cf": 6, "cdir": 6, "inputdata": 6, "atm": 6, "cam": 6, "inic": 6, "homm": 6, "eam_i_mam3_linoz_ne30np4_l60_c20210917": 6, "ifac": 6, "hyai": [6, 8], "hybi": [6, 8], "p0": [6, 8], "get_pressure_thick": 6, "ps": [6, 8, 13], "coord": 6, "getpint": 6, "pint": 6, "attr": 6, "updat": [6, 8], "unit": [6, 7, 9, 10, 13], "pa": [6, 13], "long_nam": 6, "dp_temp": 6, "diff": 6, "ilev": [6, 8], "state_pmid": 6, "igrav": 6, "80616": [6, 8], "ci_": 6, "total_wat": 6, "ci_state_q0001": 6, "ci_state_q0002": 6, "ci_state_q0003": 6, "surfac": [6, 8, 13], "flux": [6, 8, 13], "evapotranspir": 6, "precipit": 6, "surface_water_flux": 6, "1e3": 6, "m2": [6, 8], "factor": 6, "1000": 6, "expected_wat": 6, "water_error": 6, "water_error_rel": 6, "check": [6, 14], "variou": 6, "map": [6, 8], "look": 6, "geograph": 6, "pattern": 6, "within": [6, 8], "few": 6, "percent": 6, "line2d": 6, "0x7f6a3d1b6150": 6, "figsiz": 6, "scatter": 6, "rdbu_r": 6, "xlabel": [6, 9], "longitud": 6, "ylabel": [6, 9], "latitud": [6, 8], "titl": [6, 9], "mass": [6, 8], "0x7f6a39183c90": 6, "four": 7, "differ": [7, 8, 13], "absolut": 7, "r\u00b2": 7, "root": [7, 12, 14], "squar": 7, "continu": [7, 8], "rank": 7, "crp": [7, 8], "comparison": 7, "m\u00b2": [7, 13], "done": 7, "data_util": [7, 14], "longitudin": 7, "averag": [7, 9], "3d": [7, 8], "shown": [7, 13], "below": [7, 13], "ed": [7, 8, 9, 10, 11, 13], "hsr": [7, 8, 9, 10, 11, 13], "rpn": [7, 8, 9, 10, 11, 13], "cvae": [7, 8, 9, 10, 11, 13], "dt": [7, 8, 10, 13], "585": 7, "684": 7, "845": 7, "683": 7, "685": 7, "732": 7, "dq": [7, 8, 13], "401": 7, "673": 7, "784": 7, "495": 7, "592": 7, "680": 7, "netsw": [7, 8, 10, 13], "85": [7, 10], "968": 7, "73": 7, "flwd": [7, 8, 10, 13], "598": 7, "894": 7, "018": 7, "588": 7, "precsc": [7, 8, 10, 13], "364": 7, "046": 7, "511": 7, "328": 7, "322": 7, "precc": [7, 8, 10, 13], "83": 7, "250": 7, "46": 7, "81": 7, "sol": [7, 8, 10, 13], "554": 7, "97": [7, 8], "94": 7, "soll": [7, 8, 10, 13], "924": 7, "solsd": [7, 8, 10, 13], "817": 7, "075": 7, "331": 7, "533": 7, "846": 7, "159": 7, "solld": [7, 8, 10, 13], "679": 7, "136": 7, "215": 7, "806": 7, "702": 7, "066": 7, "627": 7, "542": 7, "568": 7, "589": 7, "617": 7, "590": 7, "944": 7, "980": 7, "959": 7, "983": 7, "957": 7, "828": 7, "802": 7, "904": 7, "912": 7, "883": 7, "077": 7, "909": 7, "68": [7, 10], "69": 7, "67": [7, 10], "926": 7, "927": 7, "960": 7, "929": 7, "961": 7, "943": 7, "916": 7, "945": 7, "948": 7, "928": 7, "915": 7, "951": 7, "923": 7, "956": 7, "940": 7, "921": 7, "813": 7, "857": 7, "797": 7, "866": 7, "837": 7, "796": 7, "369": 7, "696": 7, "825": 7, "421": 7, "482": 7, "721": 7, "284": 7, "643": 7, "896": 7, "518": 7, "780": 7, "91": 7, "537": 7, "77": 7, "71": 7, "86": 7, "070": 7, "220": 7, "969": 7, "914": 7, "530": 7, "078": 7, "095": 7, "734": 7, "76": [7, 10], "682": 7, "90": [7, 8, 10], "58": 7, "92": 7, "540": 7, "78": 7, "95": [7, 8], "917": 7, "420": 7, "417": 7, "47": 7, "63": 7, "580": 7, "795": 7, "899": 7, "022": 7, "372": 7, "055": 7, "053": 7, "057": 7, "016": 7, "011": 7, "008": 7, "009": 7, "122": 7, "085": 7, "097": 7, "031": 7, "028": 7, "033": 7, "038": 7, "035": 7, "040": 7, "015": 7, "017": 7, "author": 8, "yu": 8, "wed": 8, "aug": 8, "pm": 8, "pdt": 8, "descript": [8, 13], "script": [8, 14], "three": 8, "manuscript": 8, "crps_clean": 8, "written": 8, "bhouri0412": 8, "In": 8, "presav": 8, "fn_x_true": 8, "fn_y_tru": 8, "fn_y_pr": 8, "predict": [8, 9, 10], "fn_grid": 8, "netcdif": 8, "fn_mli_mean": 8, "fn_mli_min": 8, "fn_mli_max": 8, "max": 8, "fn_mlo_scal": 8, "fn_save_metr": 8, "fn_save_metrics_avg": 8, "avg": 8, "fn_model_output": 8, "model_output": 8, "001_backup_phas": [8, 9, 10, 11], "7_retrained_models_step2_lot": [8, 9, 10, 11], "147_trial_0027": [8, 9, 10, 11], "rpn_pred_v1_stride6": [8, 9, 10, 11], "val_predict_cnn_reshaped_stride6_fin": [8, 9, 10, 11], "hsr_preds_bestcrp": [8, 9, 10, 11], "ed_climsim_1_3_pr": [8, 9, 10, 11], "npy_data_convers": 8, "npy_fil": 8, "val_input_stride6": 8, "val_target_stride6": 8, "varlid": 8, "fn_save_output": 8, "want": [8, 14], "j": 8, "lv": 8, "rho_h2o": 8, "m3": 8, "constatn": 8, "e3sm_root": 8, "share": [8, 9, 10, 11], "shr_const_mod": 8, "f90": 8, "grav": 8, "acceler": 8, "graviti": 8, "00464e3": 8, "specif": [8, 13], "heat": [8, 9, 13], "dry": 8, "air": [8, 13], "501e6": 8, "latent": [8, 13], "evapor": 8, "lf": 8, "337e5": 8, "fusion": 8, "ls": 8, "sublim": 8, "rho_air": 8, "101325": 8, "02214e26": 8, "38065e": 8, "966": 8, "273": 8, "densiti": 8, "stp": 8, "2923182846924677": 8, "shr_const_pstd": 8, "shr_const_rdair": 8, "shr_const_tkfrz": 8, "shr_const_rga": 8, "shr_const_mwdair": 8, "shr_const_avogad": 8, "shr_const_boltz": 8, "rho_h20": 8, "e3": 8, "fresh": 8, "vars_mlo_energy_conv": 8, "vars_longnam": 8, "moisten": [8, 9, 13], "net": [8, 13], "shortwav": [8, 13], "downward": [8, 13], "longwav": [8, 13], "snow": [8, 13], "rate": [8, 13], "rain": [8, 13], "visibl": [8, 13], "direct": [8, 13], "solar": [8, 13], "Near": [8, 13], "ir": [8, 13], "diffus": [8, 13], "panda": 8, "dimems": 8, "dim_name_level": 8, "dim_name_sampl": 8, "astyp": 8, "n_sampl": 8, "ds_grid": 8, "n_ncol": 8, "nlat": 8, "nlon": 8, "area_wgt": 8, "loayd": 8, "to_xarrai": 8, "tile": 8, "nsampl": 8, "hyam": 8, "hybm": 8, "vars_mlo_len": 8, "len_to_dim": 8, "dictionari": 8, "like": [8, 14], "dev": 8, "en": 8, "stabl": 8, "kd": 8, "format": 8, "kei": 8, "turpl": 8, "ie": 8, "kvar_len": 8, "kvar_dim": 8, "end": 8, "np_arrai": 8, "ind1": 8, "ind2": 8, "kvar_data": 8, "squeez": 8, "unscal": 8, "denorm": 8, "fyi": 8, "hybrid": 8, "sigma": 8, "coordin": [8, 11], "system": 8, "z": 8, "tmp": 8, "isel": 8, "slice": 8, "break": 8, "n_timestep": 8, "dim_ncol": 8, "arang": 8, "dim_timestep": 8, "new_ind": 8, "multiindex": 8, "from_product": 8, "assign_coord": 8, "unstack": 8, "del": 8, "equival": 8, "ds_energi": 8, "keep": [8, 14], "origin": [8, 11], "ptend_": 8, "q0001": 8, "rho": 8, "dz": 8, "all_metr": 8, "A": 8, "after": 8, "have": [8, 12, 14], "rest": 8, "analysi": 8, "desir": 8, "plane": 8, "select": [8, 9, 11], "varibl": 8, "caclul": 8, "ab": 8, "sqrt": 8, "kmetric": 8, "simpl": [8, 13], "metrics_stack": 8, "ml_out_idx": 8, "output_idx": 8, "to_csv": 8, "002488": 8, "005218": 8, "897846": 8, "004997": 8, "009940": 8, "934334": 8, "008768": 8, "013675": 8, "966718": 8, "014756": 8, "021097": 8, "982648": 8, "023048": 8, "030524": 8, "993642": 8, "123": 8, "333065": [8, 10], "876357": [8, 10], "685671": [8, 10], "970805": [8, 10], "403315": [8, 10], "961380": [8, 10], "125": 8, "299178": [8, 10], "954437": [8, 10], "947612": [8, 10], "126": 8, "533141": [8, 10], "420306": [8, 10], "955713": [8, 10], "127": 8, "806307": [8, 10], "118702": [8, 10], "866159": [8, 10], "row": 8, "Then": 8, "metrics_vert_avg": 8, "remov": 8, "dummi": 8, "to_panda": 8, "682765": [8, 10], "420904": [8, 10], "588987": [8, 10], "494752": [8, 10], "321821": [8, 10], "inf": [8, 10], "360915": 8, "707551": 8, "982684": [8, 10], "224468": [8, 10], "968642": [8, 10], "924299": [8, 10], "683915": [8, 10], "733680": [8, 10], "metric_mlp160": 8, "kmodel": 8, "mlpv1": 8, "mlpv2": 8, "csv_path": 8, "metrics_": 8, "top160": 8, "csv_file": 8, "df_list": 8, "read_csv": 8, "kf": 8, "index_col": 8, "concat": 8, "metric_mlp160_stat": 8, "median": 8, "std": 8, "p05": 8, "quantil": 8, "p10": 8, "p25": 8, "p75": 8, "75": 8, "p90": 8, "p95": 8, "nan": [8, 10], "tf_conda": 8, "lib": 8, "python3": 8, "site": 8, "packag": 8, "function_bas": 8, "4573": 8, "subtract": 8, "diff_b_a": 8, "without": 8, "metric_mlp160_lev": 8, "metric_mlp160_stat_lev": 8, "requir": 8, "fn_metric": 8, "fn_metrics_stack": 8, "assign": 8, "color": 8, "davidmathlog": 8, "colorblind": 8, "23000000": 8, "23e69f00": 8, "2356b4e9": 8, "23009e73": 8, "23f0e442": 8, "230072b2": 8, "23d55e00": 8, "23cc79a7": 8, "lc_model": 8, "0072b2": 8, "e69f00": 8, "2b2b2b": 8, "882255": 8, "009e73": 8, "d55e00": 8, "56b4e9": 8, "short": 8, "var_idx": 8, "surface_var": 8, "fn_crp": 8, "metrics_crp": 8, "rpn_crp": 8, "cvae_crp": 8, "hsr_crp": 8, "plot_this_model": 8, "plot_this_models_crp": 8, "plot_this_metr": 8, "subpanel": 8, "abc": 8, "abcdefg": 8, "plotdata": 8, "vertical_avg": 8, "plotdata_by_metr": 8, "k_plot_this_model": 8, "_ax": 8, "width": 8, "spread": 8, "errbar_model": 8, "x_off": 8, "plot_x": 8, "plot_m": 8, "plot_low": 8, "plot_upp": 8, "errorbar": 8, "yerr": 8, "capsiz": 8, "lw": 8, "neg": 8, "y": [8, 11], "tell": 8, "idx_start": 8, "idx_end": 8, "iloc": 8, "isinf": 8, "fill_between": 8, "silver": 8, "zorder": 8, "ylim": 8, "sw_log": 8, "abbcdefghij": 8, "gridspec_kw": 8, "height_ratio": 8, "gs": 8, "get_gridspec": 8, "underli": 8, "axbig": 8, "add_subplot": 8, "93": 8, "horizontalalign": 8, "verticalalign": 8, "transform": 8, "transax": 8, "fontweight": 8, "demi": 8, "frameon": 8, "bottom": 8, "lot_this_model": 8, "kk": 8, "upto": 8, "cm": 8, "mpl_toolkit": 8, "axes_grid1": 8, "imagegrid": 8, "sklearn": 8, "r2_score": 8, "ds_hist": 8, "fn_y": 8, "fn_x": 8, "plot_hexbin": 8, "klev": 8, "xmin": 8, "xmax": 8, "ymin": 8, "ymax": 8, "imgrid": 8, "111": 8, "similar": 8, "nrows_ncol": 8, "2x2": 8, "axes_pad": 8, "between": 8, "inch": 8, "cbar_mod": 8, "cbar_loc": 8, "cbar_pad": 8, "aspect": 8, "panel_id": 8, "plotx": 8, "ploti": 8, "plotrms": 8, "plotr2": 8, "sample_weight": 8, "multioutput": 8, "uniform_averag": 8, "h": 8, "hexbin": 8, "gridsiz": 8, "50": 8, "extent": 8, "bin": 8, "mincnt": 8, "viridi": 8, "alpha": 8, "axlin": 8, "slope": 8, "linewidth": 8, "set_facecolor": 8, "efefef": 8, "set_xlim": 8, "prop": 8, "boxstyl": 8, "round": 8, "facecolor": 8, "wheat": 8, "nr2": 8, "2f": 8, "nrmse": 8, "va": 8, "bbox": 8, "fontsiz": 8, "2e": 8, "3f": 8, "cb": 8, "cbar_ax": 8, "set_label": 8, "count": 8, "55": 8, "2d": 8, "0025": 8, "0065": 8, "input_path": [9, 10], "target_path": [9, 10], "cvae_pred_path": [9, 10, 11], "final_metr": [9, 10, 11], "cvae_preds_manu": [9, 10, 11], "ed_pred_path": [9, 10, 11], "behren": [9, 10, 11], "ed_behrens_2022": [9, 10, 11], "hsr_pred_path": [9, 10, 11], "rpn_pred_path": [9, 10, 11], "figure_ingredi": [9, 10, 11], "cnn_pred_path": [9, 10, 11], "mlp_pred_path": [9, 10, 11], "load_path": [9, 10, 11], "load_h5_fil": [9, 10, 11], "results_complet": 9, "results_temp": 9, "target_var": 9, "calc_bia": 9, "preds_weighted_scor": 9, "target_weighted_scor": 9, "avg_grid": 9, "data_path": [9, 11], "e3sm_train": [9, 11], "regular": [9, 11], "express": [9, 11], "set_regexp": [9, 11], "regexp": [9, 11], "tempor": [9, 11], "set_stride_sampl": [9, 11], "set_filelist": [9, 11], "pressure_grid_plot": [9, 11], "get_pressure_grid_plot": [9, 11], "y_pressur": 9, "4380": [9, 11], "135": 9, "51it": 9, "xlim": 9, "gca": 9, "invert_yaxi": 9, "hpa": 9, "bia": 9, "text": 9, "bias_df": 9, "941637": 10, "922437": 10, "649": 10, "dict_idx": 10, "metrics_idx_scor": 10, "585418": 10, "732051": 10, "864516": 10, "844789": 10, "685253": 10, "d1": 10, "400639": 10, "679666": 10, "673036": 10, "784426": 10, "592410": 10, "845029": 10, "729191": 10, "967681": 10, "816967": 10, "360914": 10, "878685": 10, "597703": 10, "588051": 10, "893821": 10, "266635": 10, "017693": 10, "364180": 10, "321645": 10, "045900": 10, "511187": 10, "328444": 10, "825799": 10, "805963": 10, "250200": 10, "379195": 10, "455143": 10, "830984": 10, "939536": 10, "553734": 10, "314418": 10, "355971": 10, "152971": 10, "461330": 10, "923703": 10, "602788": 10, "955313": 10, "816831": 10, "158717": 10, "074686": 10, "330680": 10, "845594": 10, "678992": 10, "065650": 10, "136236": 10, "214983": 10, "701871": 10, "369106": 10, "720812": 10, "696491": 10, "824681": 10, "481825": 10, "283705": 10, "779619": 10, "642989": 10, "895550": 10, "518002": 10, "906747": 10, "364034": 10, "537017": 10, "773019": 10, "707550": 10, "596484": 10, "854747": 10, "529763": 10, "070148": 10, "219851": 10, "913915": 10, "000881": 10, "182026": 10, "078154": 10, "094945": 10, "511482": 10, "311686": 10, "711142": 10, "681968": 10, "640413": 10, "578238": 10, "916411": 10, "264985": 10, "998650": 10, "614026": 10, "606768": 10, "251214": 10, "812571": 10, "540191": 10, "778323": 10, "218968": 10, "126842": 10, "639114": 10, "916940": 10, "395840": 10, "996472": 10, "102328": 10, "624935": 10, "416563": 10, "474274": 10, "247108": 10, "627260": 10, "589693": 10, "541714": 10, "567524": 10, "617206": 10, "943800": 10, "956531": 10, "980463": 10, "959136": 10, "968036": 10, "827836": 10, "883237": 10, "801872": 10, "904115": 10, "912173": 10, "076930": 10, "926289": 10, "908577": 10, "347502": 10, "943146": 10, "927029": 10, "929375": 10, "959621": 10, "928777": 10, "942723": 10, "915685": 10, "915267": 10, "945472": 10, "916143": 10, "928029": 10, "927229": 10, "921261": 10, "950717": 10, "922621": 10, "939980": 10, "812537": 10, "796327": 10, "857180": 10, "797273": 10, "836630": 10, "62726": 10, "9438": 10, "36418": 10, "07693": 10, "46133": 10, "06565": 10, "89555": 10, "33068": 10, "39584": 10, "70755": 10, "73368": 10, "96138": 10, "59241": 10, "93998": 10, "83663": 10, "0459": 10, "2502": 10, "99865": 10, "91694": 10, "85718": 10, "hmm": 10, "__version__": 10, "show": 10, "644365": 11, "53": 11, "040170": 11, "scoring_data": 11, "input_scoring_path": 11, "target_scoring_path": 11, "weight": 11, "scoring_data_copi": 11, "deepcopi": 11, "72it": 11, "part": 11, "preds_copi": 11, "plot_r2_analysi": 11, "792": 11, "userwarn": 11, "interpret": 11, "increas": 11, "lead": 11, "incorrectli": 11, "edg": 11, "case": 11, "pleas": [11, 12], "suppli": 11, "explicit": 11, "contour_plot": 11, "coeff": 11, "blue": 11, "pcolormesh": 11, "799": 11, "pred_moist_daily_long": 11, "test_moist_daily_long": 11, "803": 11, "640x480": 11, "repo": [12, 14], "pip": [12, 14], "If": [12, 14], "alreadi": [12, 14], "etc": [12, 14], "altern": [12, 14], "dep": [12, 14], "six": 13, "encod": 13, "decod": 13, "heteroskedast": 13, "prior": 13, "variat": 13, "autoencod": 13, "describ": 13, "well": [13, 14], "pre": 13, "baseline_model": 13, "dataset": [13, 14], "temperatur": 13, "humid": 13, "solin": 13, "insol": 13, "lhflx": 13, "shflx": 13, "sensibl": 13, "held": 14, "upcom": 14, "onlin": 14, "competit": 14, "ey": 14, "someth": 14, "channel": 14, "method": 14, "main_figure_gener": 14, "see": 14, "calc_ma": 14, "calc_rms": 14, "calc_r2": 14, "point": 14, "estim": 14, "calc_crp": 14, "calibr": 14}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"contributor": 0, "guidelin": 0, "feedback": 0, "futur": 0, "develop": [0, 3], "guid": 0, "websit": 0, "how": 0, "build": [0, 3, 4], "local": 0, "climsim": [1, 8], "an": 1, "open": 1, "larg": 1, "scale": [1, 8], "dataset": [1, 2, 3, 4, 8], "train": [1, 3, 4, 5], "high": 1, "resolut": 1, "physic": 1, "emul": 1, "hybrid": 1, "multi": [1, 4], "climat": 1, "simul": 1, "project": 1, "structur": 1, "get": [1, 3, 9], "start": 1, "demo": 1, "notebook": 1, "refer": 1, "inform": 2, "convolut": 3, "neural": 3, "network": 3, "cnn": 3, "exampl": [3, 4, 6], "data": [3, 4, 5, 9, 10, 11], "pipelin": [3, 4], "input": [3, 4, 8], "output": [3, 4, 5, 8, 9, 10], "variabl": [3, 4, 8], "list": [3, 4], "defin": 3, "tf": [3, 4], "instanti": [3, 4, 5, 9, 10, 11], "object": [3, 4], "here": [3, 4, 8], "val": 3, "filenam": 3, "loader": 3, "plot": [3, 5, 8, 9, 10, 11], "some": 3, "statist": 3, "ml": [3, 4], "fcnn": 3, "visual": [3, 8], "predict": [3, 5, 11], "saniti": [3, 4], "check": [3, 4, 8], "layer": 4, "perceptron": 4, "mlp": [4, 8], "import": [5, 9, 10, 11], "data_util": [5, 9, 10, 11], "class": [5, 9, 10, 11], "load": [5, 8, 9, 10, 11], "valid": 5, "constant": 5, "model": [5, 8, 13], "multipl": 5, "linear": 5, "regress": 5, "ad": 5, "bia": 5, "unit": [5, 8], "creat": [5, 10], "score": 5, "set": [5, 8, 9, 10, 11], "pressur": [5, 9, 10, 11], "grid": [5, 9, 10, 11], "weight": [5, 8, 9, 10], "water": 6, "conserv": 6, "evalu": [7, 10], "metric": [8, 10], "calcul": [8, 9], "part": 8, "1": [8, 10], "save": 8, "them": 8, "csv": 8, "file": 8, "chang": 8, "name": 8, "user": 8, "onli": 8, "energi": 8, "convers": 8, "factor": 8, "main": 8, "pack": 8, "np": 8, "arrai": 8, "xarrai": 8, "area": 8, "vertic": 8, "2": [8, 10], "base": 8, "global": 8, "averag": 8, "perform": 8, "varianc": 8, "across": 8, "top": 8, "160": 8, "out": 8, "8": 8, "000": 8, "tune": 8, "trial": 8, "pre": 8, "make": [8, 9], "figur": 8, "intercomparison": 8, "level": 8, "aggreg": 8, "thi": 8, "includ": 8, "text": 8, "profil": 8, "tendenc": [8, 11], "si": 8, "3": [8, 10], "togeth": 8, "mae": 8, "r2": [8, 11], "4": [8, 10], "scatter": 8, "bias": 9, "axi": 9, "skill": 11, "temperatur": 11, "specif": 11, "humid": 11, "packag": 11, "py": 11, "latitud": 11, "analysi": 11, "code": 12, "instal": 12, "baselin": 13, "quickstart": 14}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})