

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Evaluation metrics &#8212; ClimSim</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'evaluation/main_figure_generation';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Prediction skill of temperature and specific humidity tendencies" href="plot_R2_analysis.html" />
    <link rel="prev" title="Evaluation" href="../evaluating.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
  
    <p class="title logo__title">ClimSim</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    ClimSim: An open large-scale dataset for training high-resolution physics emulators in hybrid multi-scale climate simulators
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataset.html">Dataset Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation &amp; setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Baseline Models</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../evaluating.html">Evaluation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Evaluation metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_R2_analysis.html">Prediction skill of temperature and specific humidity tendencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../demo_notebooks/mlp_example.html">MLP example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo_notebooks/cnn_example.html">CNN example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo_notebooks/water_conservation.html">Water conservation example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributor Guidelines</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/evaluation/main_figure_generation.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Evaluation metrics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-data-utils">Import data_utils</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instantiate-class">Instantiate class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-data-and-set-pressure-grid">Load data and set pressure grid</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#weight-outputs">Weight outputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-plots">Create plots</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-1">Plot 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-2">Plot 2</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-3">Plot 3</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-4">Plot 4</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="evaluation-metrics">
<h1>Evaluation metrics<a class="headerlink" href="#evaluation-metrics" title="Permalink to this heading">#</a></h1>
<section id="import-data-utils">
<h2>Import data_utils<a class="headerlink" href="#import-data-utils" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">climsim_utils.data_utils</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2023-08-21 14:36:29.941637: I tensorflow/core/platform/cpu_feature_guard.cc:182] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: AVX2 FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
2023-08-21 14:36:30.922437: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Could not find TensorRT
</pre></div>
</div>
</div>
</div>
</section>
<section id="instantiate-class">
<h2>Instantiate class<a class="headerlink" href="#instantiate-class" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grid_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/grid_info/ClimSim_low-res_grid-info.nc&#39;</span>
<span class="n">norm_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/normalizations/&#39;</span>

<span class="n">grid_info</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">grid_path</span><span class="p">)</span>
<span class="n">input_mean</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">norm_path</span> <span class="o">+</span> <span class="s1">&#39;inputs/input_mean.nc&#39;</span><span class="p">)</span>
<span class="n">input_max</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">norm_path</span> <span class="o">+</span> <span class="s1">&#39;inputs/input_max.nc&#39;</span><span class="p">)</span>
<span class="n">input_min</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">norm_path</span> <span class="o">+</span> <span class="s1">&#39;inputs/input_min.nc&#39;</span><span class="p">)</span>
<span class="n">output_scale</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">norm_path</span> <span class="o">+</span> <span class="s1">&#39;outputs/output_scale.nc&#39;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">data_utils</span><span class="p">(</span><span class="n">grid_info</span> <span class="o">=</span> <span class="n">grid_info</span><span class="p">,</span> 
                  <span class="n">input_mean</span> <span class="o">=</span> <span class="n">input_mean</span><span class="p">,</span> 
                  <span class="n">input_max</span> <span class="o">=</span> <span class="n">input_max</span><span class="p">,</span> 
                  <span class="n">input_min</span> <span class="o">=</span> <span class="n">input_min</span><span class="p">,</span> 
                  <span class="n">output_scale</span> <span class="o">=</span> <span class="n">output_scale</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="load-data-and-set-pressure-grid">
<h2>Load data and set pressure grid<a class="headerlink" href="#load-data-and-set-pressure-grid" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># paths to scoring data</span>
<span class="n">input_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/jlin96/neurips_proj/e3sm_train_npy/scoring_input.npy&#39;</span>
<span class="n">target_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/jlin96/neurips_proj/e3sm_train_npy/scoring_target.npy&#39;</span>

<span class="c1"># paths to model predictions</span>
<span class="n">cvae_pred_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/shared/neurips_proj/final_metrics/predictions/cVAE/cvae_preds_manual.h5&#39;</span>
<span class="n">ed_pred_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/behrens/ED_Behrens_2022/ED_ClimSIM_1_3_pred.npy&#39;</span>
<span class="n">hsr_pred_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/shared/neurips_proj/final_metrics/predictions/HSR/hsr_preds_bestcrps.h5&#39;</span>
<span class="n">rpn_pred_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/jlin96/neurips_proj/figure_ingredients/rpn_pred_v1_stride6.npy&#39;</span>
<span class="n">cnn_pred_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/jlin96/neurips_proj/figure_ingredients/val_predict_cnn_reshaped_stride6_FINAL.npy&#39;</span>
<span class="n">mlp_pred_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/jlin96/neurips_proj/figure_ingredients/001_backup_phase-7_retrained_models_step2_lot-147_trial_0027.best.h5.npy&#39;</span>

<span class="c1"># set variables to V1 subset</span>
<span class="n">data</span><span class="o">.</span><span class="n">set_to_v1_vars</span><span class="p">()</span>

<span class="c1"># path to target input</span>
<span class="n">data</span><span class="o">.</span><span class="n">input_scoring</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">input_path</span><span class="p">)</span>

<span class="c1"># path to target output</span>
<span class="n">data</span><span class="o">.</span><span class="n">target_scoring</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">target_path</span><span class="p">)</span>

<span class="c1"># set pressure weights</span>
<span class="n">data</span><span class="o">.</span><span class="n">set_pressure_grid</span><span class="p">(</span><span class="n">input_arr</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">input_scoring</span><span class="p">)</span>

<span class="c1"># load model predictions</span>
<span class="n">data</span><span class="o">.</span><span class="n">model_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CNN&#39;</span><span class="p">,</span><span class="s1">&#39;cVAE&#39;</span><span class="p">,</span><span class="s1">&#39;ED&#39;</span><span class="p">,</span><span class="s1">&#39;HSR&#39;</span><span class="p">,</span><span class="s1">&#39;MLP&#39;</span><span class="p">,</span> <span class="s1">&#39;RPN&#39;</span><span class="p">]</span>
<span class="n">preds</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">load_npy_file</span><span class="p">(</span><span class="n">load_path</span> <span class="o">=</span> <span class="n">cnn_pred_path</span><span class="p">),</span> 
         <span class="n">data</span><span class="o">.</span><span class="n">load_h5_file</span><span class="p">(</span><span class="n">load_path</span> <span class="o">=</span> <span class="n">cvae_pred_path</span><span class="p">),</span>
         <span class="n">data</span><span class="o">.</span><span class="n">load_npy_file</span><span class="p">(</span><span class="n">load_path</span> <span class="o">=</span> <span class="n">ed_pred_path</span><span class="p">),</span> 
         <span class="n">data</span><span class="o">.</span><span class="n">load_h5_file</span><span class="p">(</span><span class="n">load_path</span> <span class="o">=</span> <span class="n">hsr_pred_path</span><span class="p">),</span> 
         <span class="n">data</span><span class="o">.</span><span class="n">load_npy_file</span><span class="p">(</span><span class="n">load_path</span> <span class="o">=</span> <span class="n">mlp_pred_path</span><span class="p">),</span> 
         <span class="n">data</span><span class="o">.</span><span class="n">load_npy_file</span><span class="p">(</span><span class="n">load_path</span> <span class="o">=</span> <span class="n">rpn_pred_path</span><span class="p">)]</span>
<span class="n">data</span><span class="o">.</span><span class="n">preds_scoring</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">model_names</span><span class="p">,</span> <span class="n">preds</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="weight-outputs">
<h2>Weight outputs<a class="headerlink" href="#weight-outputs" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Undo output scaling</p></li>
<li><p>Weight vertical levels by dp/g</p></li>
<li><p>Weight horizontal area of each grid cell by a[x]/mean(a[x])</p></li>
<li><p>Convert units to a common energy unit</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">reweight_target</span><span class="p">(</span><span class="n">data_split</span> <span class="o">=</span> <span class="s1">&#39;scoring&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">reweight_preds</span><span class="p">(</span><span class="n">data_split</span> <span class="o">=</span> <span class="s1">&#39;scoring&#39;</span><span class="p">)</span>

<span class="n">data</span><span class="o">.</span><span class="n">metrics_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MAE&#39;</span><span class="p">,</span> <span class="s1">&#39;RMSE&#39;</span><span class="p">,</span> <span class="s1">&#39;R2&#39;</span><span class="p">]</span>
<span class="n">data</span><span class="o">.</span><span class="n">create_metrics_df</span><span class="p">(</span><span class="n">data_split</span> <span class="o">=</span> <span class="s1">&#39;scoring&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/climsim_utils/data_utils.py:649: RuntimeWarning: divide by zero encountered in divide
  r_squared = 1 - sq_diff.sum(axis = 0)/tss_time.sum(axis = 0) # sum over time
/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/climsim_utils/data_utils.py:649: RuntimeWarning: invalid value encountered in divide
  r_squared = 1 - sq_diff.sum(axis = 0)/tss_time.sum(axis = 0) # sum over time
/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/climsim_utils/data_utils.py:649: RuntimeWarning: divide by zero encountered in divide
  r_squared = 1 - sq_diff.sum(axis = 0)/tss_time.sum(axis = 0) # sum over time
/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/climsim_utils/data_utils.py:649: RuntimeWarning: divide by zero encountered in divide
  r_squared = 1 - sq_diff.sum(axis = 0)/tss_time.sum(axis = 0) # sum over time
/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/climsim_utils/data_utils.py:649: RuntimeWarning: divide by zero encountered in divide
  r_squared = 1 - sq_diff.sum(axis = 0)/tss_time.sum(axis = 0) # sum over time
/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/climsim_utils/data_utils.py:649: RuntimeWarning: divide by zero encountered in divide
  r_squared = 1 - sq_diff.sum(axis = 0)/tss_time.sum(axis = 0) # sum over time
/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/climsim_utils/data_utils.py:649: RuntimeWarning: invalid value encountered in divide
  r_squared = 1 - sq_diff.sum(axis = 0)/tss_time.sum(axis = 0) # sum over time
/ocean/projects/atm200007p/jlin96/neurips_proj/ClimSim/climsim_utils/data_utils.py:649: RuntimeWarning: divide by zero encountered in divide
  r_squared = 1 - sq_diff.sum(axis = 0)/tss_time.sum(axis = 0) # sum over time
</pre></div>
</div>
</div>
</div>
</section>
<section id="create-plots">
<h2>Create plots<a class="headerlink" href="#create-plots" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">config</span> InlineBackend.figure_format = &#39;retina&#39;
<span class="n">letters</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dict_idx</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">metrics_var_scoring</span>
<span class="n">dict_var</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">metrics_idx_scoring</span>

<span class="n">plot_df_byvar</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">metric</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">metrics_names</span><span class="p">:</span>
    <span class="n">plot_df_byvar</span><span class="p">[</span><span class="n">metric</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">dict_idx</span><span class="p">[</span><span class="n">model</span><span class="p">][</span><span class="n">metric</span><span class="p">]</span> <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">model_names</span><span class="p">],</span>
                                               <span class="n">index</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">model_names</span><span class="p">)</span>
    <span class="n">plot_df_byvar</span><span class="p">[</span><span class="n">metric</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_df_byvar</span><span class="p">[</span><span class="n">metric</span><span class="p">]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">var_short_names</span><span class="p">)</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_df_byvar</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;MAE&#39;:                 CNN       cVAE         ED        HSR        MLP        RPN
 variable                                                                  
 $dT/dt$    2.585418   2.732051   2.864516   2.844789   2.682765   2.685253
 $d1/dt$    4.400639   4.679666   4.673036   4.784426   4.494752   4.592410
 NETSW     18.845029  19.729191  14.967681  19.816967  13.360914  18.878685
 FLWDS      8.597703   6.588051   6.893821   6.266635   5.224468   6.017693
 PRECSC     3.364180   3.321645   3.045900   3.511187   2.683915   3.328444
 PRECC     37.825799  38.805963  37.250200  42.379195  34.333065  37.455143
 SOLS      10.830984  10.939536   8.553734  11.314418   7.970805  10.355971
 SOLL      13.152971  13.461330  10.923703  13.602788  10.299178  12.955313
 SOLSD      5.816831   6.158717   5.074686   6.330680   4.533141   5.845594
 SOLLD      5.678992   6.065650   5.136236   6.214983   4.806307   5.701871,
 &#39;RMSE&#39;:                 CNN       cVAE         ED        HSR        MLP        RPN
 variable                                                                  
 $dT/dt$    4.369106   4.720812   4.696491   4.824681   4.420904   4.481825
 $d1/dt$    7.283705   7.779619   7.642989   7.895550   7.321821   7.518002
 NETSW     36.906747  38.364034  28.537017  37.773019  26.707550  33.596484
 FLWDS     10.854747   8.529763   9.070148   8.219851   6.968642   7.913915
 PRECSC     6.000881   6.182026   5.078154   6.094945   4.733680   5.511482
 PRECC     85.311686  88.711142  76.681968  90.640413  72.876357  76.578238
 SOLS      22.916411  23.264985  17.998650  23.614026  17.403315  20.606768
 SOLL      27.251214  27.812571  22.540191  27.778323  21.954437  25.218968
 SOLSD     12.126842  12.639114   9.916940  12.395840   9.420306  10.996472
 SOLLD     12.102328  12.624935  10.416563  12.474274  10.118702  11.247108,
 &#39;R2&#39;:                CNN      cVAE         ED        HSR        MLP        RPN
 variable                                                                
 $dT/dt$   0.627260  0.589693   0.541714   0.567524   0.588987   0.617206
 $d1/dt$       -inf      -inf       -inf       -inf       -inf       -inf
 NETSW     0.943800  0.956531   0.980463   0.959136   0.982684   0.968036
 FLWDS     0.827836  0.883237   0.801872   0.904115   0.924299   0.912173
 PRECSC         NaN      -inf       -inf       -inf        NaN       -inf
 PRECC     0.076930 -0.926289 -17.908577 -68.347502 -38.685671 -67.943146
 SOLS      0.927029  0.929375   0.959621   0.928777   0.961380   0.942723
 SOLL      0.915685  0.915267   0.945472   0.916143   0.947612   0.928029
 SOLSD     0.927229  0.921261   0.950717   0.922621   0.955713   0.939980
 SOLLD     0.812537  0.796327   0.857180   0.797273   0.866159   0.836630}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dict_idx</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;CNN&#39;:                       MAE       RMSE        R2
 variable                                      
 ptend_t          2.585418   4.369106   0.62726
 ptend_q0001      4.400639   7.283705      -inf
 cam_out_NETSW   18.845029  36.906747    0.9438
 cam_out_FLWDS    8.597703  10.854747  0.827836
 cam_out_PRECSC    3.36418   6.000881       NaN
 cam_out_PRECC   37.825799  85.311686   0.07693
 cam_out_SOLS    10.830984  22.916411  0.927029
 cam_out_SOLL    13.152971  27.251214  0.915685
 cam_out_SOLSD    5.816831  12.126842  0.927229
 cam_out_SOLLD    5.678992  12.102328  0.812537,
 &#39;cVAE&#39;:                       MAE       RMSE        R2
 variable                                      
 ptend_t          2.732051   4.720812  0.589693
 ptend_q0001      4.679666   7.779619      -inf
 cam_out_NETSW   19.729191  38.364034  0.956531
 cam_out_FLWDS    6.588051   8.529763  0.883237
 cam_out_PRECSC   3.321645   6.182026      -inf
 cam_out_PRECC   38.805963  88.711142 -0.926289
 cam_out_SOLS    10.939536  23.264985  0.929375
 cam_out_SOLL     13.46133  27.812571  0.915267
 cam_out_SOLSD    6.158717  12.639114  0.921261
 cam_out_SOLLD     6.06565  12.624935  0.796327,
 &#39;HSR&#39;:                       MAE       RMSE         R2
 variable                                       
 ptend_t          2.844789   4.824681   0.567524
 ptend_q0001      4.784426    7.89555       -inf
 cam_out_NETSW   19.816967  37.773019   0.959136
 cam_out_FLWDS    6.266635   8.219851   0.904115
 cam_out_PRECSC   3.511187   6.094945       -inf
 cam_out_PRECC   42.379195  90.640413 -68.347502
 cam_out_SOLS    11.314418  23.614026   0.928777
 cam_out_SOLL    13.602788  27.778323   0.916143
 cam_out_SOLSD     6.33068   12.39584   0.922621
 cam_out_SOLLD    6.214983  12.474274   0.797273,
 &#39;MLP&#39;:                       MAE       RMSE         R2
 variable                                       
 ptend_t          2.682765   4.420904   0.588987
 ptend_q0001      4.494752   7.321821       -inf
 cam_out_NETSW   13.360914   26.70755   0.982684
 cam_out_FLWDS    5.224468   6.968642   0.924299
 cam_out_PRECSC   2.683915    4.73368        NaN
 cam_out_PRECC   34.333065  72.876357 -38.685671
 cam_out_SOLS     7.970805  17.403315    0.96138
 cam_out_SOLL    10.299178  21.954437   0.947612
 cam_out_SOLSD    4.533141   9.420306   0.955713
 cam_out_SOLLD    4.806307  10.118702   0.866159,
 &#39;RPN&#39;:                       MAE       RMSE         R2
 variable                                       
 ptend_t          2.685253   4.481825   0.617206
 ptend_q0001       4.59241   7.518002       -inf
 cam_out_NETSW   18.878685  33.596484   0.968036
 cam_out_FLWDS    6.017693   7.913915   0.912173
 cam_out_PRECSC   3.328444   5.511482       -inf
 cam_out_PRECC   37.455143  76.578238 -67.943146
 cam_out_SOLS    10.355971  20.606768   0.942723
 cam_out_SOLL    12.955313  25.218968   0.928029
 cam_out_SOLSD    5.845594  10.996472    0.93998
 cam_out_SOLLD    5.701871  11.247108    0.83663,
 &#39;ED&#39;:                       MAE       RMSE         R2
 variable                                       
 ptend_t          2.864516   4.696491   0.541714
 ptend_q0001      4.673036   7.642989       -inf
 cam_out_NETSW   14.967681  28.537017   0.980463
 cam_out_FLWDS    6.893821   9.070148   0.801872
 cam_out_PRECSC     3.0459   5.078154       -inf
 cam_out_PRECC     37.2502  76.681968 -17.908577
 cam_out_SOLS     8.553734   17.99865   0.959621
 cam_out_SOLL    10.923703  22.540191   0.945472
 cam_out_SOLSD    5.074686    9.91694   0.950717
 cam_out_SOLLD    5.136236  10.416563    0.85718}
</pre></div>
</div>
</div>
</div>
<section id="plot-1">
<h3>Plot 1<a class="headerlink" href="#plot-1" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span>  <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">metrics_names</span><span class="p">),</span> <span class="n">sharex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">metrics_names</span><span class="p">)):</span>
    <span class="n">plot_df_byvar</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">metrics_names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
        <span class="n">legend</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">metrics_names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;R2&#39;</span><span class="p">:</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$W/m^2$&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">letters</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">) </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">metrics_names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Output variable&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">plot_df_byvar</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">metrics_names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> \
    <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">columnspacing</span> <span class="o">=</span> <span class="mf">.9</span><span class="p">,</span> 
               <span class="n">labelspacing</span> <span class="o">=</span> <span class="mf">.3</span><span class="p">,</span>
               <span class="n">handleheight</span> <span class="o">=</span> <span class="mf">.07</span><span class="p">,</span>
               <span class="n">handlelength</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">,</span>
               <span class="n">handletextpad</span> <span class="o">=</span> <span class="mf">.2</span><span class="p">,</span>
               <span class="n">borderpad</span> <span class="o">=</span> <span class="mf">.2</span><span class="p">,</span>
               <span class="n">ncol</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
               <span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/54e84fa9f18c91d5f4cb11827da87396e37a4f99c7b678bcc325cb62f7fc5037.png" src="../_images/54e84fa9f18c91d5f4cb11827da87396e37a4f99c7b678bcc325cb62f7fc5037.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hmm</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">load_npy_file</span><span class="p">(</span><span class="n">load_path</span> <span class="o">=</span> <span class="s1">&#39;/ocean/projects/atm200007p/behrens/ED_Behrens_2022/ED_ClimSIM_1_3_pred.npy&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hmm</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1681920, 128)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">target_scoring</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1681920, 128)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="nb">print</span><span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.5.2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 1&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 2&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Line 3&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># set the number of columns in the legend to 2</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/fbb169e493b54c1fe52192c28f8d9846b852a654b9568f1a9ce1b5dbb0360643.png" src="../_images/fbb169e493b54c1fe52192c28f8d9846b852a654b9568f1a9ce1b5dbb0360643.png" />
</div>
</div>
</section>
<section id="plot-2">
<h3>Plot 2<a class="headerlink" href="#plot-2" title="Permalink to this heading">#</a></h3>
</section>
<section id="plot-3">
<h3>Plot 3<a class="headerlink" href="#plot-3" title="Permalink to this heading">#</a></h3>
</section>
<section id="plot-4">
<h3>Plot 4<a class="headerlink" href="#plot-4" title="Permalink to this heading">#</a></h3>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./evaluation"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../evaluating.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Evaluation</p>
      </div>
    </a>
    <a class="right-next"
       href="plot_R2_analysis.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Prediction skill of temperature and specific humidity tendencies</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-data-utils">Import data_utils</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instantiate-class">Instantiate class</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-data-and-set-pressure-grid">Load data and set pressure grid</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#weight-outputs">Weight outputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-plots">Create plots</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-1">Plot 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-2">Plot 2</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-3">Plot 3</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-4">Plot 4</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The ClimSim Maintainers
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>